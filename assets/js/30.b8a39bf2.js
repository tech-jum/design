(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{427:function(a,r,e){"use strict";e.r(r);var s=e(15),t=Object(s.a)({},(function(){var a=this,r=a.$createElement,e=a._self._c||r;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"æ·±å…¥å‰–æå…±è¯†æ€§ç®—æ³•-paxos"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#æ·±å…¥å‰–æå…±è¯†æ€§ç®—æ³•-paxos"}},[a._v("#")]),a._v(" æ·±å…¥å‰–æå…±è¯†æ€§ç®—æ³• Paxos")]),a._v(" "),e("blockquote",[e("p",[a._v("ğŸ“¦ æœ¬æ–‡å·²å½’æ¡£åˆ°ï¼šã€Œ"),e("a",{attrs:{href:"https://github.com/dunwu/blog",target:"_blank",rel:"noopener noreferrer"}},[a._v("blog"),e("OutboundLink")],1),a._v("ã€")]),a._v(" "),e("p",[a._v("Paxos æ˜¯ä¸€ç§åŸºäºæ¶ˆæ¯ä¼ é€’ä¸”å…·æœ‰å®¹é”™æ€§çš„å…±è¯†æ€§ï¼ˆconsensusï¼‰ç®—æ³•ã€‚")]),a._v(" "),e("p",[a._v("Paxos ç®—æ³•è§£å†³çš„é—®é¢˜æ­£æ˜¯åˆ†å¸ƒå¼ä¸€è‡´æ€§é—®é¢˜ã€‚åœ¨ä¸€ä¸ªèŠ‚ç‚¹æ•°ä¸º 2N+1 çš„åˆ†å¸ƒå¼é›†ç¾¤ä¸­ï¼Œåªè¦åŠæ•°ä»¥ä¸Šçš„èŠ‚ç‚¹ï¼ˆN + 1ï¼‰è¿˜æ­£å¸¸å·¥ä½œï¼Œæ•´ä¸ªç³»ç»Ÿä»å¯ä»¥æ­£å¸¸å·¥ä½œã€‚")])]),a._v(" "),e("p",[e("img",{attrs:{src:"https://raw.githubusercontent.com/dunwu/images/dev/snap/20200202221611.png",alt:"img"}})]),a._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#1-paxos-%E8%83%8C%E6%99%AF"}},[a._v("1. Paxos èƒŒæ™¯")])]),a._v(" "),e("li",[e("a",{attrs:{href:"#2-basic-paxos-%E7%AE%97%E6%B3%95"}},[a._v("2. Basic Paxos ç®—æ³•")]),a._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#21-%E8%A7%92%E8%89%B2"}},[a._v("2.1. è§’è‰²")])]),a._v(" "),e("li",[e("a",{attrs:{href:"#22-%E7%AE%97%E6%B3%95"}},[a._v("2.2. ç®—æ³•")])]),a._v(" "),e("li",[e("a",{attrs:{href:"#23-%E5%AE%9E%E4%BE%8B"}},[a._v("2.3. å®ä¾‹")])])])]),a._v(" "),e("li",[e("a",{attrs:{href:"#3-multi-paxos-%E7%AE%97%E6%B3%95"}},[a._v("3. Multi Paxos ç®—æ³•")]),a._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#31-basic-paxos-%E7%9A%84%E9%97%AE%E9%A2%98"}},[a._v("3.1. Basic Paxos çš„é—®é¢˜")])]),a._v(" "),e("li",[e("a",{attrs:{href:"#32-multi-paxos-%E7%9A%84%E6%94%B9%E8%BF%9B"}},[a._v("3.2. Multi Paxos çš„æ”¹è¿›")])])])]),a._v(" "),e("li",[e("a",{attrs:{href:"#4-%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"}},[a._v("4. å‚è€ƒèµ„æ–™")])])]),a._v(" "),e("h2",{attrs:{id:"_1-paxos-èƒŒæ™¯"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-paxos-èƒŒæ™¯"}},[a._v("#")]),a._v(" 1. Paxos èƒŒæ™¯")]),a._v(" "),e("p",[a._v("Paxos æ˜¯ Leslie Lamport äº 1990 å¹´æå‡ºçš„ä¸€ç§åŸºäºæ¶ˆæ¯ä¼ é€’ä¸”å…·æœ‰é«˜åº¦å®¹é”™ç‰¹æ€§çš„å…±è¯†ï¼ˆconsensusï¼‰ç®—æ³•ã€‚")]),a._v(" "),e("p",[a._v("ä¸ºæè¿° Paxos ç®—æ³•ï¼ŒLamport è™šæ‹Ÿäº†ä¸€ä¸ªå«åš Paxos çš„å¸Œè…ŠåŸé‚¦ï¼Œè¿™ä¸ªå²›æŒ‰ç…§è®®ä¼šæ°‘ä¸»åˆ¶çš„æ”¿æ²»æ¨¡å¼åˆ¶è®¢æ³•å¾‹ï¼Œä½†æ˜¯æ²¡æœ‰äººæ„¿æ„å°†è‡ªå·±çš„å…¨éƒ¨æ—¶é—´å’Œç²¾åŠ›æ”¾åœ¨è¿™ç§äº‹æƒ…ä¸Šã€‚æ‰€ä»¥æ— è®ºæ˜¯è®®å‘˜ï¼Œè®®é•¿æˆ–è€…ä¼ é€’çº¸æ¡çš„æœåŠ¡å‘˜éƒ½ä¸èƒ½æ‰¿è¯ºåˆ«äººéœ€è¦æ—¶ä¸€å®šä¼šå‡ºç°ï¼Œä¹Ÿæ— æ³•æ‰¿è¯ºæ‰¹å‡†å†³è®®æˆ–è€…ä¼ é€’æ¶ˆæ¯çš„æ—¶é—´ã€‚")]),a._v(" "),e("p",[a._v("Paxos ç®—æ³•åŒ…å« 2 ä¸ªéƒ¨åˆ†ï¼š")]),a._v(" "),e("ul",[e("li",[a._v("Basic Paxos ç®—æ³•ï¼šæè¿°çš„å¤šèŠ‚ç‚¹ä¹‹é—´å¦‚ä½•å°±æŸä¸ªå€¼è¾¾æˆå…±è¯†ã€‚")]),a._v(" "),e("li",[a._v("Multi Paxos æ€æƒ³ï¼šæè¿°çš„æ˜¯æ‰§è¡Œå¤šä¸ª Basic Paxos å®ä¾‹ï¼Œå°±ä¸€ç³»åˆ—å€¼è¾¾æˆå…±è¯†ã€‚")])]),a._v(" "),e("p",[a._v("Paxos ç®—æ³•è§£å†³çš„é—®é¢˜æ­£æ˜¯åˆ†å¸ƒå¼ä¸€è‡´æ€§é—®é¢˜ï¼Œå³ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„å„ä¸ªè¿›ç¨‹å¦‚ä½•å°±æŸä¸ªå€¼ï¼ˆå†³è®®ï¼‰è¾¾æˆä¸€è‡´ã€‚")]),a._v(" "),e("p",[a._v("Paxos ç®—æ³•è¿è¡Œåœ¨å…è®¸å®•æœºæ•…éšœçš„å¼‚æ­¥ç³»ç»Ÿä¸­ï¼Œä¸è¦æ±‚å¯é çš„æ¶ˆæ¯ä¼ é€’ï¼Œå¯å®¹å¿æ¶ˆæ¯ä¸¢å¤±ã€å»¶è¿Ÿã€ä¹±åºä»¥åŠé‡å¤ã€‚å®ƒåˆ©ç”¨å¤§å¤šæ•° (Majority) æœºåˆ¶ä¿è¯äº† 2N+1 çš„å®¹é”™èƒ½åŠ›ï¼Œå³ 2N+1 ä¸ªèŠ‚ç‚¹çš„ç³»ç»Ÿæœ€å¤šå…è®¸ N ä¸ªèŠ‚ç‚¹åŒæ—¶å‡ºç°æ•…éšœã€‚")]),a._v(" "),e("h2",{attrs:{id:"_2-basic-paxos-ç®—æ³•"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-basic-paxos-ç®—æ³•"}},[a._v("#")]),a._v(" 2. Basic Paxos ç®—æ³•")]),a._v(" "),e("h3",{attrs:{id:"_2-1-è§’è‰²"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-è§’è‰²"}},[a._v("#")]),a._v(" 2.1. è§’è‰²")]),a._v(" "),e("p",[a._v("Paxos å°†åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„èŠ‚ç‚¹åˆ†ä¸ºä»¥ä¸‹è§’è‰²ï¼š")]),a._v(" "),e("ul",[e("li",[e("strong",[a._v("æè®®è€…ï¼ˆProposerï¼‰")]),a._v("ï¼šå‘å‡ºææ¡ˆï¼ˆProposalï¼‰ã€‚Proposal ä¿¡æ¯åŒ…æ‹¬ææ¡ˆç¼–å· (Proposal ID) å’Œæè®®çš„å€¼ (Value)ã€‚")]),a._v(" "),e("li",[e("strong",[a._v("å†³ç­–è€…ï¼ˆAcceptorï¼‰")]),a._v("ï¼šå¯¹æ¯ä¸ª Proposal è¿›è¡ŒæŠ•ç¥¨ï¼Œè‹¥ Proposal è·å¾—å¤šæ•° Acceptor çš„æ¥å—ï¼Œåˆ™ç§°è¯¥ Proposal è¢«æ‰¹å‡†ã€‚")]),a._v(" "),e("li",[e("strong",[a._v("å­¦ä¹ è€…ï¼ˆLearnerï¼‰")]),a._v("ï¼šä¸å‚ä¸å†³ç­–ï¼Œä» Proposers/Acceptors å­¦ä¹ ã€è®°å½•æœ€æ–°è¾¾æˆå…±è¯†çš„ææ¡ˆï¼ˆValueï¼‰ã€‚")])]),a._v(" "),e("p",[a._v("åœ¨å¤šå‰¯æœ¬çŠ¶æ€æœºä¸­ï¼Œæ¯ä¸ªå‰¯æœ¬éƒ½åŒæ—¶å…·æœ‰ Proposerã€Acceptorã€Learner ä¸‰ç§è§’è‰²ã€‚")]),a._v(" "),e("p",[e("img",{attrs:{src:"https://raw.githubusercontent.com/dunwu/images/dev/snap/20210528150700.png",alt:""}})]),a._v(" "),e("h3",{attrs:{id:"_2-2-ç®—æ³•"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-ç®—æ³•"}},[a._v("#")]),a._v(" 2.2. ç®—æ³•")]),a._v(" "),e("p",[a._v("Paxos ç®—æ³•é€šè¿‡ä¸€ä¸ªå†³è®®åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼ˆLearn é˜¶æ®µä¹‹å‰å†³è®®å·²ç»å½¢æˆï¼‰ï¼š")]),a._v(" "),e("ol",[e("li",[a._v("ç¬¬ä¸€é˜¶æ®µï¼šPrepare é˜¶æ®µã€‚Proposer å‘ Acceptors å‘å‡º Prepare è¯·æ±‚ï¼ŒAcceptors é’ˆå¯¹æ”¶åˆ°çš„ Prepare è¯·æ±‚è¿›è¡Œ Promise æ‰¿è¯ºã€‚")]),a._v(" "),e("li",[a._v("ç¬¬äºŒé˜¶æ®µï¼šAccept é˜¶æ®µã€‚Proposer æ”¶åˆ°å¤šæ•° Acceptors æ‰¿è¯ºçš„ Promise åï¼Œå‘ Acceptors å‘å‡º Propose è¯·æ±‚ï¼ŒAcceptors é’ˆå¯¹æ”¶åˆ°çš„ Propose è¯·æ±‚è¿›è¡Œ Accept å¤„ç†ã€‚")]),a._v(" "),e("li",[a._v("ç¬¬ä¸‰é˜¶æ®µï¼šLearn é˜¶æ®µã€‚Proposer åœ¨æ”¶åˆ°å¤šæ•° Acceptors çš„ Accept ä¹‹åï¼Œæ ‡å¿—ç€æœ¬æ¬¡ Accept æˆåŠŸï¼Œå†³è®®å½¢æˆï¼Œå°†å½¢æˆçš„å†³è®®å‘é€ç»™æ‰€æœ‰ Learnersã€‚")])]),a._v(" "),e("p",[a._v("Paxos ç®—æ³•æµç¨‹ä¸­çš„æ¯æ¡æ¶ˆæ¯æè¿°å¦‚ä¸‹ï¼š")]),a._v(" "),e("ul",[e("li",[e("p",[e("strong",[a._v("Prepare")]),a._v(": Proposer ç”Ÿæˆå…¨å±€å”¯ä¸€ä¸”é€’å¢çš„ Proposal ID (å¯ä½¿ç”¨æ—¶é—´æˆ³åŠ  Server ID)ï¼Œå‘æ‰€æœ‰ Acceptors å‘é€ Prepare è¯·æ±‚ï¼Œè¿™é‡Œæ— éœ€æºå¸¦ææ¡ˆå†…å®¹ï¼Œåªæºå¸¦ Proposal ID å³å¯ã€‚")])]),a._v(" "),e("li",[e("p",[e("strong",[a._v("Promise")]),a._v(": Acceptors æ”¶åˆ° Prepare è¯·æ±‚åï¼Œåšå‡ºâ€œä¸¤ä¸ªæ‰¿è¯ºï¼Œä¸€ä¸ªåº”ç­”â€ã€‚")]),a._v(" "),e("ul",[e("li",[e("p",[a._v("ä¸¤ä¸ªæ‰¿è¯ºï¼š")]),a._v(" "),e("ul",[e("li",[a._v("ä¸å†æ¥å— Proposal ID å°äºç­‰äºå½“å‰è¯·æ±‚çš„ Prepare è¯·æ±‚ã€‚")]),a._v(" "),e("li",[a._v("ä¸å†æ¥å— Proposal ID å°äºå½“å‰è¯·æ±‚çš„ Propose è¯·æ±‚ã€‚")])])]),a._v(" "),e("li",[e("p",[a._v("ä¸€ä¸ªåº”ç­”ï¼š")]),a._v(" "),e("ul",[e("li",[a._v("ä¸è¿èƒŒä»¥å‰ä½œå‡ºçš„æ‰¿è¯ºä¸‹ï¼Œå›å¤å·²ç» Accept è¿‡çš„ææ¡ˆä¸­ Proposal ID æœ€å¤§çš„é‚£ä¸ªææ¡ˆçš„ Value å’Œ Proposal IDï¼Œæ²¡æœ‰åˆ™è¿”å›ç©ºå€¼ã€‚")])])])])]),a._v(" "),e("li",[e("p",[e("strong",[a._v("Propose")]),a._v(": Proposer æ”¶åˆ°å¤šæ•° Acceptors çš„ Promise åº”ç­”åï¼Œä»åº”ç­”ä¸­é€‰æ‹© Proposal ID æœ€å¤§çš„ææ¡ˆçš„ Valueï¼Œä½œä¸ºæœ¬æ¬¡è¦å‘èµ·çš„ææ¡ˆã€‚å¦‚æœæ‰€æœ‰åº”ç­”çš„ææ¡ˆ Value å‡ä¸ºç©ºå€¼ï¼Œåˆ™å¯ä»¥è‡ªå·±éšæ„å†³å®šææ¡ˆ Valueã€‚ç„¶åæºå¸¦å½“å‰ Proposal IDï¼Œå‘æ‰€æœ‰ Acceptors å‘é€ Propose è¯·æ±‚ã€‚")])]),a._v(" "),e("li",[e("p",[e("strong",[a._v("Accept")]),a._v(": Acceptor æ”¶åˆ° Propose è¯·æ±‚åï¼Œåœ¨ä¸è¿èƒŒè‡ªå·±ä¹‹å‰ä½œå‡ºçš„æ‰¿è¯ºä¸‹ï¼Œæ¥å—å¹¶æŒä¹…åŒ–å½“å‰ Proposal ID å’Œææ¡ˆ Valueã€‚")])]),a._v(" "),e("li",[e("p",[e("strong",[a._v("Learn")]),a._v(": Proposer æ”¶åˆ°å¤šæ•° Acceptors çš„ Accept åï¼Œå†³è®®å½¢æˆï¼Œå°†å½¢æˆçš„å†³è®®å‘é€ç»™æ‰€æœ‰ Learnersã€‚")])])]),a._v(" "),e("h3",{attrs:{id:"_2-3-å®ä¾‹"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-å®ä¾‹"}},[a._v("#")]),a._v(" 2.3. å®ä¾‹")]),a._v(" "),e("p",[a._v("ä¸‹é¢ä¸¾å‡ ä¸ªä¾‹å­ï¼Œå®ä¾‹ 1 å¦‚ä¸‹å›¾ï¼š")]),a._v(" "),e("p",[e("img",{attrs:{src:"https://pic1.zhimg.com/80/v2-ac7e4a827f77dc57d316c77ae95e1940_hd.jpg",alt:"img"}})]),a._v(" "),e("p",[a._v("å›¾ä¸­ P ä»£è¡¨ Prepare é˜¶æ®µï¼ŒA ä»£è¡¨ Accept é˜¶æ®µã€‚3.1 ä»£è¡¨ Proposal ID ä¸º 3.1ï¼Œå…¶ä¸­ 3 ä¸ºæ—¶é—´æˆ³ï¼Œ1 ä¸º Server IDã€‚X å’Œ Y ä»£è¡¨æè®® Valueã€‚")]),a._v(" "),e("p",[a._v("å®ä¾‹ 1 ä¸­ P 3.1 è¾¾æˆå¤šæ•°æ´¾ï¼Œå…¶ Value(X) è¢« Acceptï¼Œç„¶å P 4.5 å­¦ä¹ åˆ° Value(X)ï¼Œå¹¶ Acceptã€‚")]),a._v(" "),e("h4",{attrs:{id:""}},[e("a",{staticClass:"header-anchor",attrs:{href:"#"}},[a._v("#")]),a._v(" "),e("img",{attrs:{src:"https://pic2.zhimg.com/80/v2-3ae48cb81d39079022666ccb35821c71_hd.jpg",alt:"img"}})]),a._v(" "),e("p",[a._v("å®ä¾‹ 2 ä¸­ P 3.1 æ²¡æœ‰è¢«å¤šæ•°æ´¾ Acceptï¼ˆåªæœ‰ S3 Acceptï¼‰ï¼Œä½†æ˜¯è¢« P 4.5 å­¦ä¹ åˆ°ï¼ŒP 4.5 å°†è‡ªå·±çš„ Value ç”± Y æ›¿æ¢ä¸º Xï¼ŒAcceptï¼ˆXï¼‰ã€‚")]),a._v(" "),e("p",[e("img",{attrs:{src:"https://pic2.zhimg.com/80/v2-931f9487900f0f002867c9e116dec255_hd.jpg",alt:"img"}}),a._v("Paxos ç®—æ³•å®ä¾‹ 3")]),a._v(" "),e("p",[a._v("å®ä¾‹ 3 ä¸­ P 3.1 æ²¡æœ‰è¢«å¤šæ•°æ´¾ Acceptï¼ˆåªæœ‰ S1 Acceptï¼‰ï¼ŒåŒæ—¶ä¹Ÿæ²¡æœ‰è¢« P 4.5 å­¦ä¹ åˆ°ã€‚ç”±äº P 4.5 Propose çš„æ‰€æœ‰åº”ç­”ï¼Œå‡æœªè¿”å› Valueï¼Œåˆ™ P 4.5 å¯ä»¥ Accept è‡ªå·±çš„ Value (Y)ã€‚åç»­ P 3.1 çš„ Accept (X) ä¼šå¤±è´¥ï¼Œå·²ç» Accept çš„ S1ï¼Œä¼šè¢«è¦†ç›–ã€‚")]),a._v(" "),e("p",[a._v("Paxos ç®—æ³•å¯èƒ½å½¢æˆæ´»é”è€Œæ°¸è¿œä¸ä¼šç»“æŸï¼Œå¦‚ä¸‹å›¾å®ä¾‹æ‰€ç¤ºï¼š")]),a._v(" "),e("p",[e("img",{attrs:{src:"https://pic1.zhimg.com/80/v2-0e18b29659367076ff1c0156ae46eca0_hd.jpg",alt:"img"}}),a._v("Paxos ç®—æ³•å½¢æˆæ´»é”")]),a._v(" "),e("p",[a._v("å›é¡¾ä¸¤ä¸ªæ‰¿è¯ºä¹‹ä¸€ï¼ŒAcceptor ä¸å†åº”ç­” Proposal ID å°äºç­‰äºå½“å‰è¯·æ±‚çš„ Prepare è¯·æ±‚ã€‚æ„å‘³ç€éœ€è¦åº”ç­” Proposal ID å¤§äºå½“å‰è¯·æ±‚çš„ Prepare è¯·æ±‚ã€‚")]),a._v(" "),e("p",[a._v("ä¸¤ä¸ª Proposers äº¤æ›¿ Prepare æˆåŠŸï¼Œè€Œ Accept å¤±è´¥ï¼Œå½¢æˆæ´»é”ï¼ˆLivelockï¼‰ã€‚")]),a._v(" "),e("h2",{attrs:{id:"_3-multi-paxos-æ€æƒ³"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-multi-paxos-æ€æƒ³"}},[a._v("#")]),a._v(" 3. Multi Paxos æ€æƒ³")]),a._v(" "),e("h3",{attrs:{id:"_3-1-basic-paxos-çš„é—®é¢˜"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-basic-paxos-çš„é—®é¢˜"}},[a._v("#")]),a._v(" 3.1. Basic Paxos çš„é—®é¢˜")]),a._v(" "),e("p",[a._v("Basic Paxos æœ‰ä»¥ä¸‹é—®é¢˜ï¼Œå¯¼è‡´å®ƒä¸èƒ½åº”ç”¨äºå®é™…ï¼š")]),a._v(" "),e("ul",[e("li",[e("strong",[a._v("Basic Paxos ç®—æ³•åªèƒ½å¯¹ä¸€ä¸ªå€¼å½¢æˆå†³è®®")]),a._v("ã€‚")]),a._v(" "),e("li",[e("strong",[a._v("Basic Paxos ç®—æ³•ä¼šæ¶ˆè€—å¤§é‡ç½‘ç»œå¸¦å®½")]),a._v("ã€‚Basic Paxos ä¸­ï¼Œå†³è®®çš„å½¢æˆè‡³å°‘éœ€è¦ä¸¤æ¬¡ç½‘ç»œé€šä¿¡ï¼Œåœ¨é«˜å¹¶å‘æƒ…å†µä¸‹å¯èƒ½éœ€è¦æ›´å¤šçš„ç½‘ç»œé€šä¿¡ï¼Œæç«¯æƒ…å†µä¸‹ç”šè‡³å¯èƒ½å½¢æˆæ´»é”ã€‚å¦‚æœæƒ³è¿ç»­ç¡®å®šå¤šä¸ªå€¼ï¼ŒBasic Paxos æä¸å®šäº†ã€‚")])]),a._v(" "),e("h3",{attrs:{id:"_3-2-multi-paxos-çš„æ”¹è¿›"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-multi-paxos-çš„æ”¹è¿›"}},[a._v("#")]),a._v(" 3.2. Multi Paxos çš„æ”¹è¿›")]),a._v(" "),e("p",[a._v("Multi Paxos æ­£æ˜¯ä¸ºè§£å†³ä»¥ä¸Šé—®é¢˜è€Œæå‡ºã€‚Multi Paxos åŸºäº Basic Paxos åšäº†ä¸¤ç‚¹æ”¹è¿›ï¼š")]),a._v(" "),e("ul",[e("li",[a._v("é’ˆå¯¹æ¯ä¸€ä¸ªè¦ç¡®å®šçš„å€¼ï¼Œè¿è¡Œä¸€æ¬¡ Paxos ç®—æ³•å®ä¾‹ï¼ˆInstanceï¼‰ï¼Œå½¢æˆå†³è®®ã€‚æ¯ä¸€ä¸ª Paxos å®ä¾‹ä½¿ç”¨å”¯ä¸€çš„ Instance ID æ ‡è¯†ã€‚")]),a._v(" "),e("li",[a._v("åœ¨æ‰€æœ‰ Proposer ä¸­é€‰ä¸¾ä¸€ä¸ª Leaderï¼Œç”± Leader å”¯ä¸€åœ°æäº¤ Proposal ç»™ Acceptor è¿›è¡Œè¡¨å†³ã€‚è¿™æ ·æ²¡æœ‰ Proposer ç«äº‰ï¼Œè§£å†³äº†æ´»é”é—®é¢˜ã€‚åœ¨ç³»ç»Ÿä¸­ä»…æœ‰ä¸€ä¸ª Leader è¿›è¡Œ Value æäº¤çš„æƒ…å†µä¸‹ï¼ŒPrepare é˜¶æ®µå°±å¯ä»¥è·³è¿‡ï¼Œä»è€Œå°†ä¸¤é˜¶æ®µå˜ä¸ºä¸€é˜¶æ®µï¼Œæé«˜æ•ˆç‡ã€‚")])]),a._v(" "),e("p",[a._v("Multi Paxos é¦–å…ˆéœ€è¦é€‰ä¸¾ Leaderï¼ŒLeader çš„ç¡®å®šä¹Ÿæ˜¯ä¸€æ¬¡å†³è®®çš„å½¢æˆï¼Œæ‰€ä»¥å¯æ‰§è¡Œä¸€æ¬¡ Basic Paxos å®ä¾‹æ¥é€‰ä¸¾å‡ºä¸€ä¸ª Leaderã€‚é€‰å‡º Leader ä¹‹ååªèƒ½ç”± Leader æäº¤ Proposalï¼Œåœ¨ Leader å®•æœºä¹‹åæœåŠ¡ä¸´æ—¶ä¸å¯ç”¨ï¼Œéœ€è¦é‡æ–°é€‰ä¸¾ Leader ç»§ç»­æœåŠ¡ã€‚åœ¨ç³»ç»Ÿä¸­ä»…æœ‰ä¸€ä¸ª Leader è¿›è¡Œ Proposal æäº¤çš„æƒ…å†µä¸‹ï¼ŒPrepare é˜¶æ®µå¯ä»¥è·³è¿‡ã€‚")]),a._v(" "),e("p",[a._v("Multi Paxos é€šè¿‡æ”¹å˜ Prepare é˜¶æ®µçš„ä½œç”¨èŒƒå›´è‡³åé¢ Leader æäº¤çš„æ‰€æœ‰å®ä¾‹ï¼Œä»è€Œä½¿å¾— Leader çš„è¿ç»­æäº¤åªéœ€è¦æ‰§è¡Œä¸€æ¬¡ Prepare é˜¶æ®µï¼Œåç»­åªéœ€è¦æ‰§è¡Œ Accept é˜¶æ®µï¼Œå°†ä¸¤é˜¶æ®µå˜ä¸ºä¸€é˜¶æ®µï¼Œæé«˜äº†æ•ˆç‡ã€‚ä¸ºäº†åŒºåˆ†è¿ç»­æäº¤çš„å¤šä¸ªå®ä¾‹ï¼Œæ¯ä¸ªå®ä¾‹ä½¿ç”¨ä¸€ä¸ª Instance ID æ ‡è¯†ï¼ŒInstance ID ç”± Leader æœ¬åœ°é€’å¢ç”Ÿæˆå³å¯ã€‚")]),a._v(" "),e("p",[a._v("Multi Paxos å…è®¸æœ‰å¤šä¸ªè‡ªè®¤ä¸ºæ˜¯ Leader çš„èŠ‚ç‚¹å¹¶å‘æäº¤ Proposal è€Œä¸å½±å“å…¶å®‰å…¨æ€§ï¼Œè¿™æ ·çš„åœºæ™¯å³é€€åŒ–ä¸º Basic Paxosã€‚")]),a._v(" "),e("p",[a._v("Chubby å’Œ Boxwood å‡ä½¿ç”¨ Multi Paxosã€‚ZooKeeper ä½¿ç”¨çš„ Zab ä¹Ÿæ˜¯ Multi Paxos çš„å˜å½¢ã€‚")]),a._v(" "),e("h2",{attrs:{id:"æ€»ç»“"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#æ€»ç»“"}},[a._v("#")]),a._v(" æ€»ç»“")]),a._v(" "),e("p",[a._v("ä½ å¯ä»¥çœ‹åˆ°ï¼ŒBasic Paxos æ˜¯é€šè¿‡äºŒé˜¶æ®µæäº¤çš„æ–¹å¼æ¥è¾¾æˆå…±è¯†çš„ã€‚äºŒé˜¶æ®µæäº¤æ˜¯è¾¾æˆå…±è¯†çš„å¸¸ç”¨æ–¹å¼ï¼Œå¦‚æœä½ éœ€è¦è®¾è®¡æ–°çš„å…±è¯†ç®—æ³•çš„æ—¶å€™ï¼Œä¹Ÿå¯ä»¥è€ƒè™‘è¿™ä¸ªæ–¹å¼ã€‚")]),a._v(" "),e("p",[a._v("é™¤äº†å…±è¯†ï¼ŒBasic Paxos è¿˜å®ç°äº†å®¹é”™ï¼Œåœ¨å°‘äºä¸€åŠçš„èŠ‚ç‚¹å‡ºç°æ•…éšœæ—¶ï¼Œé›†ç¾¤ä¹Ÿèƒ½å·¥ä½œã€‚å®ƒä¸åƒåˆ†å¸ƒå¼äº‹åŠ¡ç®—æ³•é‚£æ ·ï¼Œå¿…é¡»è¦æ‰€æœ‰èŠ‚ç‚¹éƒ½åŒæ„åæ‰æäº¤æ“ä½œï¼Œå› ä¸ºâ€œæ‰€æœ‰èŠ‚ç‚¹éƒ½åŒæ„â€è¿™ä¸ªåŸåˆ™ï¼Œåœ¨å‡ºç°èŠ‚ç‚¹æ•…éšœçš„æ—¶å€™ä¼šå¯¼è‡´æ•´ä¸ªé›†ç¾¤ä¸å¯ç”¨ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œâ€œå¤§å¤šæ•°èŠ‚ç‚¹éƒ½åŒæ„â€çš„åŸåˆ™ï¼Œèµ‹äºˆäº† Basic Paxos å®¹é”™çš„èƒ½åŠ›ï¼Œè®©å®ƒèƒ½å¤Ÿå®¹å¿å°‘äºä¸€åŠçš„èŠ‚ç‚¹çš„æ•…éšœã€‚")]),a._v(" "),e("h2",{attrs:{id:"_4-å‚è€ƒèµ„æ–™"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-å‚è€ƒèµ„æ–™"}},[a._v("#")]),a._v(" 4. å‚è€ƒèµ„æ–™")]),a._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://research.microsoft.com/en-us/um/people/lamport/pubs/lamport-paxos.pdf",target:"_blank",rel:"noopener noreferrer"}},[a._v("Part-time Parliament è®ºæ–‡"),e("OutboundLink")],1)]),a._v(" "),e("li",[e("a",{attrs:{href:"https://lamport.azurewebsites.net/pubs/paxos-simple.pdf",target:"_blank",rel:"noopener noreferrer"}},[a._v("Paxos Made Simple è®ºæ–‡"),e("OutboundLink")],1)]),a._v(" "),e("li",[e("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/31780743",target:"_blank",rel:"noopener noreferrer"}},[a._v("Paxos ç®—æ³•è¯¦è§£"),e("OutboundLink")],1)]),a._v(" "),e("li",[e("a",{attrs:{href:"https://zh.wikipedia.org/w/index.php?title=Paxos%E7%AE%97%E6%B3%95",target:"_blank",rel:"noopener noreferrer"}},[a._v("Wiki - Paxos ç®—æ³•"),e("OutboundLink")],1)]),a._v(" "),e("li",[e("a",{attrs:{href:"https://www.bilibili.com/video/BV1TW411M7Fx?from=search&seid=11524608198747599965",target:"_blank",rel:"noopener noreferrer"}},[a._v("ä¸€è‡´æ€§ç®—æ³•ï¼ˆPaxosã€Raftã€Zabï¼‰"),e("OutboundLink")],1)]),a._v(" "),e("li",[e("a",{attrs:{href:"https://www.bilibili.com/video/av36556594",target:"_blank",rel:"noopener noreferrer"}},[a._v("Raft ä½œè€…è®²è§£ Paxos è§†é¢‘"),e("OutboundLink")],1)]),a._v(" "),e("li",[e("a",{attrs:{href:"https://www.youtube.com/watch?v=d7nAGI_NZPk",target:"_blank",rel:"noopener noreferrer"}},[a._v("Paxos ç®—æ³•è®²è§£è§†é¢‘"),e("OutboundLink")],1)])])])}),[],!1,null,null,null);r.default=t.exports}}]);