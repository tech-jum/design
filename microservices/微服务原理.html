<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>х╛оцЬНхКбчРЖшо║ | DESIGN</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/design/favicon.ico">
    <meta name="description" content="DESIGN">
    
    <link rel="preload" href="/design/assets/css/0.styles.3c2ef156.css" as="style"><link rel="preload" href="/design/assets/js/app.31535b90.js" as="script"><link rel="preload" href="/design/assets/js/4.843d76c1.js" as="script"><link rel="preload" href="/design/assets/js/41.64d1acff.js" as="script"><link rel="preload" href="/design/assets/js/5.eb6f8f38.js" as="script"><link rel="prefetch" href="/design/assets/js/10.07f2584d.js"><link rel="prefetch" href="/design/assets/js/11.df166aa0.js"><link rel="prefetch" href="/design/assets/js/12.b7ade635.js"><link rel="prefetch" href="/design/assets/js/13.151414b4.js"><link rel="prefetch" href="/design/assets/js/14.5dd04c5d.js"><link rel="prefetch" href="/design/assets/js/15.14e9a635.js"><link rel="prefetch" href="/design/assets/js/16.8728dd67.js"><link rel="prefetch" href="/design/assets/js/17.1686b754.js"><link rel="prefetch" href="/design/assets/js/18.d815545e.js"><link rel="prefetch" href="/design/assets/js/19.d846ce2f.js"><link rel="prefetch" href="/design/assets/js/20.1dd8edb9.js"><link rel="prefetch" href="/design/assets/js/21.38ae8c29.js"><link rel="prefetch" href="/design/assets/js/22.26dcb0f5.js"><link rel="prefetch" href="/design/assets/js/23.d996c1df.js"><link rel="prefetch" href="/design/assets/js/24.84573b57.js"><link rel="prefetch" href="/design/assets/js/25.362291b4.js"><link rel="prefetch" href="/design/assets/js/26.287f6746.js"><link rel="prefetch" href="/design/assets/js/27.665cd644.js"><link rel="prefetch" href="/design/assets/js/28.2d373aaa.js"><link rel="prefetch" href="/design/assets/js/29.18195cfe.js"><link rel="prefetch" href="/design/assets/js/30.b8a39bf2.js"><link rel="prefetch" href="/design/assets/js/31.e6497a3e.js"><link rel="prefetch" href="/design/assets/js/32.7c78886f.js"><link rel="prefetch" href="/design/assets/js/33.3a07575c.js"><link rel="prefetch" href="/design/assets/js/34.53801173.js"><link rel="prefetch" href="/design/assets/js/35.fe943393.js"><link rel="prefetch" href="/design/assets/js/36.e9ecc031.js"><link rel="prefetch" href="/design/assets/js/37.48dcf161.js"><link rel="prefetch" href="/design/assets/js/38.bc65c12c.js"><link rel="prefetch" href="/design/assets/js/39.76a7947c.js"><link rel="prefetch" href="/design/assets/js/40.57c60fe7.js"><link rel="prefetch" href="/design/assets/js/42.2b13267e.js"><link rel="prefetch" href="/design/assets/js/43.bc12e4a9.js"><link rel="prefetch" href="/design/assets/js/44.05348389.js"><link rel="prefetch" href="/design/assets/js/45.a821f14b.js"><link rel="prefetch" href="/design/assets/js/46.4f6121ee.js"><link rel="prefetch" href="/design/assets/js/47.2331491d.js"><link rel="prefetch" href="/design/assets/js/48.e99e2990.js"><link rel="prefetch" href="/design/assets/js/49.97ac4425.js"><link rel="prefetch" href="/design/assets/js/50.9561222b.js"><link rel="prefetch" href="/design/assets/js/51.5a3682fc.js"><link rel="prefetch" href="/design/assets/js/52.41f6da09.js"><link rel="prefetch" href="/design/assets/js/53.f3cbdb44.js"><link rel="prefetch" href="/design/assets/js/54.b64ed791.js"><link rel="prefetch" href="/design/assets/js/55.0b2515c6.js"><link rel="prefetch" href="/design/assets/js/56.f87ff124.js"><link rel="prefetch" href="/design/assets/js/57.c351d3a3.js"><link rel="prefetch" href="/design/assets/js/58.68c1d0ee.js"><link rel="prefetch" href="/design/assets/js/59.8cc7450d.js"><link rel="prefetch" href="/design/assets/js/6.cbcf7f30.js"><link rel="prefetch" href="/design/assets/js/60.f2f8871f.js"><link rel="prefetch" href="/design/assets/js/61.8922cbcd.js"><link rel="prefetch" href="/design/assets/js/62.ccb7c5ee.js"><link rel="prefetch" href="/design/assets/js/63.8191a330.js"><link rel="prefetch" href="/design/assets/js/64.1d881bbb.js"><link rel="prefetch" href="/design/assets/js/65.f4089278.js"><link rel="prefetch" href="/design/assets/js/66.66cf1b40.js"><link rel="prefetch" href="/design/assets/js/67.27e2cf6f.js"><link rel="prefetch" href="/design/assets/js/68.6a688bec.js"><link rel="prefetch" href="/design/assets/js/69.f59b5cd7.js"><link rel="prefetch" href="/design/assets/js/7.159ffade.js"><link rel="prefetch" href="/design/assets/js/70.aa52fe1c.js"><link rel="prefetch" href="/design/assets/js/71.f7f17e5c.js"><link rel="prefetch" href="/design/assets/js/72.f0a76070.js"><link rel="prefetch" href="/design/assets/js/73.b454f9b3.js"><link rel="prefetch" href="/design/assets/js/74.748903ca.js"><link rel="prefetch" href="/design/assets/js/75.1abb30fc.js"><link rel="prefetch" href="/design/assets/js/76.38081e86.js"><link rel="prefetch" href="/design/assets/js/77.631fd31e.js"><link rel="prefetch" href="/design/assets/js/78.b642c4ea.js"><link rel="prefetch" href="/design/assets/js/79.09f8c9ad.js"><link rel="prefetch" href="/design/assets/js/8.bbc07c86.js"><link rel="prefetch" href="/design/assets/js/80.15162b19.js"><link rel="prefetch" href="/design/assets/js/81.0a02424d.js"><link rel="prefetch" href="/design/assets/js/82.0a6de1bd.js"><link rel="prefetch" href="/design/assets/js/83.8bd118c7.js"><link rel="prefetch" href="/design/assets/js/84.c9db97ea.js"><link rel="prefetch" href="/design/assets/js/85.ea23932a.js"><link rel="prefetch" href="/design/assets/js/86.a70e5ac7.js"><link rel="prefetch" href="/design/assets/js/9.c3d97cd4.js"><link rel="prefetch" href="/design/assets/js/vendors~flowchart.5fa23d41.js"><link rel="prefetch" href="/design/assets/js/vendors~notification.4b668bb8.js">
    <link rel="stylesheet" href="/design/assets/css/0.styles.3c2ef156.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/design/" class="home-link router-link-active"><img src="https://raw.githubusercontent.com/dunwu/images/dev/common/dunwu-logo-200.png" alt="DESIGN" class="logo"> <span class="site-name can-hide">DESIGN</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/design/architecture/" class="nav-link">
  цЮ╢цЮД
</a></div><div class="nav-item"><a href="/design/distributed/" class="nav-link">
  хИЖх╕Гх╝П
</a></div><div class="nav-item"><a href="/design/pattern/" class="nav-link">
  шо╛шобцибх╝П
</a></div><div class="nav-item"><a href="/design/refactor/" class="nav-link">
  щЗНцЮД
</a></div><div class="nav-item"><a href="https://github.com/dunwu/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ЁЯОп хНЪхов
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/dunwu/design" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/design/architecture/" class="nav-link">
  цЮ╢цЮД
</a></div><div class="nav-item"><a href="/design/distributed/" class="nav-link">
  хИЖх╕Гх╝П
</a></div><div class="nav-item"><a href="/design/pattern/" class="nav-link">
  шо╛шобцибх╝П
</a></div><div class="nav-item"><a href="/design/refactor/" class="nav-link">
  щЗНцЮД
</a></div><div class="nav-item"><a href="https://github.com/dunwu/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ЁЯОп хНЪхов
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/dunwu/design" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>х╛оцЬНхКбчРЖшо║</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/design/microservices/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%8E%9F%E7%90%86.html#_1-х╛оцЬНхКбчоАф╗Л" class="sidebar-link">1. х╛оцЬНхКбчоАф╗Л</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/design/microservices/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%8E%9F%E7%90%86.html#_1-1-ф╗Аф╣ИцШпх╛оцЬНхКбцЮ╢цЮД" class="sidebar-link">1.1. ф╗Аф╣ИцШпх╛оцЬНхКбцЮ╢цЮД</a></li><li class="sidebar-sub-header"><a href="/design/microservices/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%8E%9F%E7%90%86.html#_1-2-хжВф╜ХцЭГшббх╛оцЬНхКбчЪДхИйх╝К" class="sidebar-link">1.2. хжВф╜ХцЭГшббх╛оцЬНхКбчЪДхИйх╝К</a></li><li class="sidebar-sub-header"><a href="/design/microservices/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%8E%9F%E7%90%86.html#_1-3-х║╖хиБхоЪх╛Л" class="sidebar-link">1.3. х║╖хиБхоЪх╛Л</a></li><li class="sidebar-sub-header"><a href="/design/microservices/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%8E%9F%E7%90%86.html#_1-4-хжВф╜ХцЛЖхИЖх╛оцЬНхКб" class="sidebar-link">1.4. хжВф╜ХцЛЖхИЖх╛оцЬНхКб</a></li></ul></li><li><a href="/design/microservices/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%8E%9F%E7%90%86.html#_2-х╛оцЬНхКбцКАцЬпцЮ╢цЮД" class="sidebar-link">2. х╛оцЬНхКбцКАцЬпцЮ╢цЮД</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/design/microservices/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%8E%9F%E7%90%86.html#_3-цЬНхКбц│ихЖМхПСчО░" class="sidebar-link">3. цЬНхКбц│ихЖМхПСчО░</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/design/microservices/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%8E%9F%E7%90%86.html#_3-1-ц│ихЖМф╕нх┐ГчЪДх╖еф╜Ьц╡БчиЛ" class="sidebar-link">3.1. ц│ихЖМф╕нх┐ГчЪДх╖еф╜Ьц╡БчиЛ</a></li><li class="sidebar-sub-header"><a href="/design/microservices/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%8E%9F%E7%90%86.html#_3-2-ц│ихЖМф╕нх┐ГхоЮчО░цибх╝П" class="sidebar-link">3.2. ц│ихЖМф╕нх┐ГхоЮчО░цибх╝П</a></li><li class="sidebar-sub-header"><a href="/design/microservices/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%8E%9F%E7%90%86.html#_3-3-цЬНхКбц│ихЖМхПСчО░чЪДщЧощвШ" class="sidebar-link">3.3. цЬНхКбц│ихЖМхПСчО░чЪДщЧощвШ</a></li><li class="sidebar-sub-header"><a href="/design/microservices/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%8E%9F%E7%90%86.html#_3-4-шпЖхИлцЬНхКбшКВчВ╣цШпхРжхнШц┤╗" class="sidebar-link">3.4. шпЖхИлцЬНхКбшКВчВ╣цШпхРжхнШц┤╗</a></li></ul></li><li><a href="/design/microservices/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%8E%9F%E7%90%86.html#_4-цЬНхКбщАЪф┐б" class="sidebar-link">4. цЬНхКбщАЪф┐б</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/design/microservices/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%8E%9F%E7%90%86.html#_4-1-х║ПхИЧхМЦцЦ╣х╝П" class="sidebar-link">4.1. х║ПхИЧхМЦцЦ╣х╝П</a></li><li class="sidebar-sub-header"><a href="/design/microservices/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%8E%9F%E7%90%86.html#_4-2-щАЪф┐бхНПшоо" class="sidebar-link">4.2. щАЪф┐бхНПшоо</a></li></ul></li><li><a href="/design/microservices/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%8E%9F%E7%90%86.html#_5-цЬНхКбчЫСцОз" class="sidebar-link">5. цЬНхКбчЫСцОз</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/design/microservices/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%8E%9F%E7%90%86.html#_5-1-чЫСцОзхп╣ш▒б" class="sidebar-link">5.1. чЫСцОзхп╣ш▒б</a></li><li class="sidebar-sub-header"><a href="/design/microservices/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%8E%9F%E7%90%86.html#_5-2-ч│╗ч╗ЯчЫСцОзхОЯчРЖ" class="sidebar-link">5.2. ч│╗ч╗ЯчЫСцОзхОЯчРЖ</a></li><li class="sidebar-sub-header"><a href="/design/microservices/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%8E%9F%E7%90%86.html#_5-3-чЫСцОзцКАцЬп" class="sidebar-link">5.3. чЫСцОзцКАцЬп</a></li></ul></li><li><a href="/design/microservices/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%8E%9F%E7%90%86.html#_6-цЬНхКбц▓╗чРЖ" class="sidebar-link">6. цЬНхКбц▓╗чРЖ</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/design/microservices/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%8E%9F%E7%90%86.html#_7-api-ч╜СхЕ│" class="sidebar-link">7. API ч╜СхЕ│</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/design/microservices/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%8E%9F%E7%90%86.html#_7-1-zuul" class="sidebar-link">7.1. Zuul</a></li></ul></li><li><a href="/design/microservices/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%8E%9F%E7%90%86.html#_8-ш┤Яш╜╜хЭЗшбб" class="sidebar-link">8. ш┤Яш╜╜хЭЗшбб</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/design/microservices/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%8E%9F%E7%90%86.html#_9-цЬНхКбш╖пчФ▒" class="sidebar-link">9. цЬНхКбш╖пчФ▒</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/design/microservices/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%8E%9F%E7%90%86.html#_9-1-цЬНхКбш╖пчФ▒чЪДх║ФчФихЬ║цЩп" class="sidebar-link">9.1. цЬНхКбш╖пчФ▒чЪДх║ФчФихЬ║цЩп</a></li><li class="sidebar-sub-header"><a href="/design/microservices/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%8E%9F%E7%90%86.html#_9-2-цЬНхКбш╖пчФ▒чЪДшзДхИЩ" class="sidebar-link">9.2. цЬНхКбш╖пчФ▒чЪДшзДхИЩ</a></li><li class="sidebar-sub-header"><a href="/design/microservices/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%8E%9F%E7%90%86.html#_9-3-цЬНхКбш╖пчФ▒чЪДшО╖хПЦцЦ╣х╝П" class="sidebar-link">9.3. цЬНхКбш╖пчФ▒чЪДшО╖хПЦцЦ╣х╝П</a></li><li class="sidebar-sub-header"><a href="/design/microservices/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%8E%9F%E7%90%86.html#_9-4-хЖЕщГицЬНхКбш░ГчФи" class="sidebar-link">9.4. хЖЕщГицЬНхКбш░ГчФи</a></li><li class="sidebar-sub-header"><a href="/design/microservices/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%8E%9F%E7%90%86.html#_9-5-хдЦщГицЬНхКбш░ГчФи" class="sidebar-link">9.5. хдЦщГицЬНхКбш░ГчФи</a></li></ul></li><li><a href="/design/microservices/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%8E%9F%E7%90%86.html#_10-щЕНч╜оф╕нх┐Г" class="sidebar-link">10. щЕНч╜оф╕нх┐Г</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/design/microservices/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%8E%9F%E7%90%86.html#_10-1-apollo" class="sidebar-link">10.1. Apollo</a></li><li class="sidebar-sub-header"><a href="/design/microservices/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%8E%9F%E7%90%86.html#_10-2-spring-cloud-git" class="sidebar-link">10.2. Spring Cloud Git</a></li></ul></li><li><a href="/design/microservices/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%8E%9F%E7%90%86.html#_11-щУ╛ш╖пш┐╜ш╕к" class="sidebar-link">11. щУ╛ш╖пш┐╜ш╕к</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/design/microservices/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%8E%9F%E7%90%86.html#_11-1-щУ╛ш╖пш┐╜ш╕кчЪДф╜ЬчФи" class="sidebar-link">11.1. щУ╛ш╖пш┐╜ш╕кчЪДф╜ЬчФи</a></li><li class="sidebar-sub-header"><a href="/design/microservices/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%8E%9F%E7%90%86.html#_11-2-щУ╛ш╖пш┐╜ш╕кчЪДхОЯчРЖ" class="sidebar-link">11.2. щУ╛ш╖пш┐╜ш╕кчЪДхОЯчРЖ</a></li><li class="sidebar-sub-header"><a href="/design/microservices/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%8E%9F%E7%90%86.html#_11-3-щУ╛ш╖пш┐╜ш╕кчЪДхоЮчО░" class="sidebar-link">11.3. щУ╛ш╖пш┐╜ш╕кчЪДхоЮчО░</a></li><li class="sidebar-sub-header"><a href="/design/microservices/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%8E%9F%E7%90%86.html#_11-4-щУ╛ш╖пш┐╜ш╕кцЦ╣цбИхп╣цпФ" class="sidebar-link">11.4. щУ╛ш╖пш┐╜ш╕кцЦ╣цбИхп╣цпФ</a></li></ul></li><li><a href="/design/microservices/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%8E%9F%E7%90%86.html#_12-щЩРц╡БчЖФцЦн" class="sidebar-link">12. щЩРц╡БчЖФцЦн</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/design/microservices/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%8E%9F%E7%90%86.html#_12-1-щЩРц╡Б" class="sidebar-link">12.1. щЩРц╡Б</a></li><li class="sidebar-sub-header"><a href="/design/microservices/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%8E%9F%E7%90%86.html#_12-2-щЩНч║з" class="sidebar-link">12.2. щЩНч║з</a></li></ul></li><li><a href="/design/microservices/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%8E%9F%E7%90%86.html#_13-devops" class="sidebar-link">13. DEVOPS</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/design/microservices/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%8E%9F%E7%90%86.html#_13-1-хо╣хЩихТМхо╣хЩих╣│хП░" class="sidebar-link">13.1. хо╣хЩихТМхо╣хЩих╣│хП░</a></li></ul></li><li><a href="/design/microservices/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%8E%9F%E7%90%86.html#_14-rpc-щАЙхЮЛ" class="sidebar-link">14. RPC щАЙхЮЛ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/design/microservices/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%8E%9F%E7%90%86.html#_14-1-щЩРхоЪшпншиА-rpc" class="sidebar-link">14.1. щЩРхоЪшпншиА RPC</a></li><li class="sidebar-sub-header"><a href="/design/microservices/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%8E%9F%E7%90%86.html#_14-2-ш╖ишпншиА-rpc" class="sidebar-link">14.2. ш╖ишпншиА RPC</a></li></ul></li><li><a href="/design/microservices/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%8E%9F%E7%90%86.html#_15-service-mesh" class="sidebar-link">15. Service Mesh</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/design/microservices/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%8E%9F%E7%90%86.html#_15-1-service-mesh-чЪДхоЮчО░хОЯчРЖ" class="sidebar-link">15.1. Service Mesh чЪДхоЮчО░хОЯчРЖ</a></li></ul></li><li><a href="/design/microservices/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%8E%9F%E7%90%86.html#_16-хПВшАГш╡ДцЦЩ" class="sidebar-link">16. хПВшАГш╡ДцЦЩ</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="х╛оцЬНхКбчРЖшо║"><a href="#х╛оцЬНхКбчРЖшо║" class="header-anchor">#</a> х╛оцЬНхКбчРЖшо║</h1> <ul><li><a href="#1-%E5%BE%AE%E6%9C%8D%E5%8A%A1%E7%AE%80%E4%BB%8B">1. х╛оцЬНхКбчоАф╗Л</a> <ul><li><a href="#11-%E4%BB%80%E4%B9%88%E6%98%AF%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84">1.1. ф╗Аф╣ИцШпх╛оцЬНхКбцЮ╢цЮД</a></li> <li><a href="#12-%E5%A6%82%E4%BD%95%E6%9D%83%E8%A1%A1%E5%BE%AE%E6%9C%8D%E5%8A%A1%E7%9A%84%E5%88%A9%E5%BC%8A">1.2. хжВф╜ХцЭГшббх╛оцЬНхКбчЪДхИйх╝К</a></li> <li><a href="#13-%E5%BA%B7%E5%A8%81%E5%AE%9A%E5%BE%8B">1.3. х║╖хиБхоЪх╛Л</a></li> <li><a href="#14-%E5%A6%82%E4%BD%95%E6%8B%86%E5%88%86%E5%BE%AE%E6%9C%8D%E5%8A%A1">1.4. хжВф╜ХцЛЖхИЖх╛оцЬНхКб</a></li></ul></li> <li><a href="#2-%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%8A%80%E6%9C%AF%E6%9E%B6%E6%9E%84">2. х╛оцЬНхКбцКАцЬпцЮ╢цЮД</a></li> <li><a href="#3-%E6%9C%8D%E5%8A%A1%E6%B3%A8%E5%86%8C%E5%8F%91%E7%8E%B0">3. цЬНхКбц│ихЖМхПСчО░</a> <ul><li><a href="#31-%E6%B3%A8%E5%86%8C%E4%B8%AD%E5%BF%83%E7%9A%84%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B">3.1. ц│ихЖМф╕нх┐ГчЪДх╖еф╜Ьц╡БчиЛ</a></li> <li><a href="#32-%E6%B3%A8%E5%86%8C%E4%B8%AD%E5%BF%83%E5%AE%9E%E7%8E%B0%E6%A8%A1%E5%BC%8F">3.2. ц│ихЖМф╕нх┐ГхоЮчО░цибх╝П</a></li> <li><a href="#33-%E6%9C%8D%E5%8A%A1%E6%B3%A8%E5%86%8C%E5%8F%91%E7%8E%B0%E7%9A%84%E9%97%AE%E9%A2%98">3.3. цЬНхКбц│ихЖМхПСчО░чЪДщЧощвШ</a></li> <li><a href="#34-%E8%AF%86%E5%88%AB%E6%9C%8D%E5%8A%A1%E8%8A%82%E7%82%B9%E6%98%AF%E5%90%A6%E5%AD%98%E6%B4%BB">3.4. шпЖхИлцЬНхКбшКВчВ╣цШпхРжхнШц┤╗</a></li></ul></li> <li><a href="#4-%E6%9C%8D%E5%8A%A1%E9%80%9A%E4%BF%A1">4. цЬНхКбщАЪф┐б</a> <ul><li><a href="#41-%E5%BA%8F%E5%88%97%E5%8C%96%E6%96%B9%E5%BC%8F%E9%80%89%E5%9E%8B">4.1. х║ПхИЧхМЦцЦ╣х╝ПщАЙхЮЛ</a></li> <li><a href="#42-rpc-vs-rest">4.2. RPC vs. REST</a></li></ul></li> <li><a href="#5-%E6%9C%8D%E5%8A%A1%E7%9B%91%E6%8E%A7">5. цЬНхКбчЫСцОз</a> <ul><li><a href="#51-%E7%9B%91%E6%8E%A7%E5%AF%B9%E8%B1%A1">5.1. чЫСцОзхп╣ш▒б</a></li> <li><a href="#52-%E7%B3%BB%E7%BB%9F%E7%9B%91%E6%8E%A7%E5%8E%9F%E7%90%86">5.2. ч│╗ч╗ЯчЫСцОзхОЯчРЖ</a></li> <li><a href="#53-%E7%9B%91%E6%8E%A7%E6%8A%80%E6%9C%AF">5.3. чЫСцОзцКАцЬп</a></li></ul></li> <li><a href="#6-%E6%9C%8D%E5%8A%A1%E6%B2%BB%E7%90%86">6. цЬНхКбц▓╗чРЖ</a></li> <li><a href="#7-api-%E7%BD%91%E5%85%B3">7. API ч╜СхЕ│</a> <ul><li><a href="#71-zuul">7.1. Zuul</a></li></ul></li> <li><a href="#8-%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1">8. ш┤Яш╜╜хЭЗшбб</a></li> <li><a href="#9-%E6%9C%8D%E5%8A%A1%E8%B7%AF%E7%94%B1">9. цЬНхКбш╖пчФ▒</a> <ul><li><a href="#91-%E6%9C%8D%E5%8A%A1%E8%B7%AF%E7%94%B1%E7%9A%84%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF">9.1. цЬНхКбш╖пчФ▒чЪДх║ФчФихЬ║цЩп</a></li> <li><a href="#92-%E6%9C%8D%E5%8A%A1%E8%B7%AF%E7%94%B1%E7%9A%84%E8%A7%84%E5%88%99">9.2. цЬНхКбш╖пчФ▒чЪДшзДхИЩ</a></li> <li><a href="#93-%E6%9C%8D%E5%8A%A1%E8%B7%AF%E7%94%B1%E7%9A%84%E8%8E%B7%E5%8F%96%E6%96%B9%E5%BC%8F">9.3. цЬНхКбш╖пчФ▒чЪДшО╖хПЦцЦ╣х╝П</a></li> <li><a href="#94-%E5%86%85%E9%83%A8%E6%9C%8D%E5%8A%A1%E8%B0%83%E7%94%A8">9.4. хЖЕщГицЬНхКбш░ГчФи</a></li> <li><a href="#95-%E5%A4%96%E9%83%A8%E6%9C%8D%E5%8A%A1%E8%B0%83%E7%94%A8">9.5. хдЦщГицЬНхКбш░ГчФи</a></li></ul></li> <li><a href="#10-%E9%85%8D%E7%BD%AE%E4%B8%AD%E5%BF%83">10. щЕНч╜оф╕нх┐Г</a> <ul><li><a href="#101-apollo">10.1. Apollo</a></li> <li><a href="#102-spring-cloud-git">10.2. Spring Cloud Git</a></li></ul></li> <li><a href="#11-%E9%93%BE%E8%B7%AF%E8%BF%BD%E8%B8%AA">11. щУ╛ш╖пш┐╜ш╕к</a> <ul><li><a href="#111-%E9%93%BE%E8%B7%AF%E8%BF%BD%E8%B8%AA%E7%9A%84%E4%BD%9C%E7%94%A8">11.1. щУ╛ш╖пш┐╜ш╕кчЪДф╜ЬчФи</a></li> <li><a href="#112-%E9%93%BE%E8%B7%AF%E8%BF%BD%E8%B8%AA%E7%9A%84%E5%8E%9F%E7%90%86">11.2. щУ╛ш╖пш┐╜ш╕кчЪДхОЯчРЖ</a></li> <li><a href="#113-%E9%93%BE%E8%B7%AF%E8%BF%BD%E8%B8%AA%E7%9A%84%E5%AE%9E%E7%8E%B0">11.3. щУ╛ш╖пш┐╜ш╕кчЪДхоЮчО░</a></li> <li><a href="#114-%E9%93%BE%E8%B7%AF%E8%BF%BD%E8%B8%AA%E6%96%B9%E6%A1%88%E5%AF%B9%E6%AF%94">11.4. щУ╛ш╖пш┐╜ш╕кцЦ╣цбИхп╣цпФ</a></li></ul></li> <li><a href="#12-%E9%99%90%E6%B5%81%E7%86%94%E6%96%AD">12. щЩРц╡БчЖФцЦн</a> <ul><li><a href="#121-%E9%99%90%E6%B5%81">12.1. щЩРц╡Б</a></li> <li><a href="#122-%E9%99%8D%E7%BA%A7">12.2. щЩНч║з</a></li></ul></li> <li><a href="#13-devops">13. DEVOPS</a> <ul><li><a href="#131-%E5%AE%B9%E5%99%A8%E5%92%8C%E5%AE%B9%E5%99%A8%E5%B9%B3%E5%8F%B0">13.1. хо╣хЩихТМхо╣хЩих╣│хП░</a></li></ul></li> <li><a href="#14-rpc-%E9%80%89%E5%9E%8B">14. RPC щАЙхЮЛ</a> <ul><li><a href="#141-%E9%99%90%E5%AE%9A%E8%AF%AD%E8%A8%80-rpc">14.1. щЩРхоЪшпншиА RPC</a></li> <li><a href="#142-%E8%B7%A8%E8%AF%AD%E8%A8%80-rpc">14.2. ш╖ишпншиА RPC</a></li></ul></li> <li><a href="#15-service-mesh">15. Service Mesh</a> <ul><li><a href="#151-service-mesh-%E7%9A%84%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86">15.1. Service Mesh чЪДхоЮчО░хОЯчРЖ</a></li></ul></li> <li><a href="#16-%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99">16. хПВшАГш╡ДцЦЩ</a></li></ul> <h2 id="_1-х╛оцЬНхКбчоАф╗Л"><a href="#_1-х╛оцЬНхКбчоАф╗Л" class="header-anchor">#</a> 1. х╛оцЬНхКбчоАф╗Л</h2> <h3 id="_1-1-ф╗Аф╣ИцШпх╛оцЬНхКбцЮ╢цЮД"><a href="#_1-1-ф╗Аф╣ИцШпх╛оцЬНхКбцЮ╢цЮД" class="header-anchor">#</a> 1.1. ф╗Аф╣ИцШпх╛оцЬНхКбцЮ╢цЮД</h3> <p>ф║ТшБФч╜Сх║ФчФицЮ╢цЮДхдзшЗ┤чЪДц╝Фш┐ЫцЦ╣хРСф╕║я╝ЪхНХф╜УцЮ╢цЮД -&gt; цЬНхКбхМЦцЮ╢цЮД -&gt; х╛оцЬНхКбцЮ╢цЮДуАВ</p> <p>х╛оцЬНхКбцЮ╢цЮДчЪДчЙ╣чВ╣я╝Ъ</p> <ul><li><strong>цЬНхКбцЛЖхИЖч▓Тх║жцЫ┤ч╗Ж</strong>я╝Ъца╣цНоф╕ЪхКбцЛЖхИЖуАВ</li> <li><strong>чЛмчлЛщГич╜▓</strong>я╝ЪцпПф╕кцЬНхКбщГич╜▓хЬичЙйчРЖф╕КщЪФчж╗я╝Мф║Тф╕Нх╜▒хУНуАВ</li> <li><strong>чЛмчлЛч╗┤цКд</strong>я╝Ъца╣цНоч╗Дч╗ЗцЮ╢цЮДцЛЖхИЖя╝МхИЖхЫвщШЯч╗┤цКдуАВ</li> <li><strong>цЬНхКбц▓╗чРЖ</strong>я╝ЪцЬНхКбцХ░щЗПхПШхдЪя╝МщЬАшжБцЬЙч╗Яф╕АчЪДцЬНхКбц▓╗чРЖх╣│хП░уАВ</li></ul> <h3 id="_1-2-хжВф╜ХцЭГшббх╛оцЬНхКбчЪДхИйх╝К"><a href="#_1-2-хжВф╜ХцЭГшббх╛оцЬНхКбчЪДхИйх╝К" class="header-anchor">#</a> 1.2. хжВф╜ХцЭГшббх╛оцЬНхКбчЪДхИйх╝К</h3> <p>ф╝ШчВ╣</p> <ul><li>х╝║цибхЭЧхМЦш╛╣чХМ</li> <li>хПпчЛмчлЛщГич╜▓</li> <li>цКАцЬпхдЪца╖цАз</li></ul> <p>ч╝║чВ╣</p> <ul><li>хИЖх╕Гх╝ПхдНцЭВх║ж</li> <li>цЬАч╗Иф╕АшЗ┤цАз</li> <li>ш┐Рч╗┤хдНцЭВх║ж</li> <li>ц╡ЛшпХхдНцЭВх║ж</li></ul> <h3 id="_1-3-х║╖хиБхоЪх╛Л"><a href="#_1-3-х║╖хиБхоЪх╛Л" class="header-anchor">#</a> 1.3. х║╖хиБхоЪх╛Л</h3> <ul><li>чммф╕АхоЪх╛Ля╝Ъч╗Дч╗Зц▓ЯщАЪцЦ╣х╝Пф╝ЪщАЪш┐Зч│╗ч╗Яшо╛шобшбиш╛╛хЗ║цЭе</li> <li>чммф║МхоЪх╛Ля╝ЪцЧ╢щЧ┤хЖНхдЪф╕Аф╗╢ф║ЛцГЕф╣Яф╕НхПпшГ╜хБЪчЪДхоМч╛Оя╝Мф╜ЖцА╗цЬЙцЧ╢щЧ┤хБЪхоМф╕Аф╗╢ф║ЛцГЕ</li> <li>чммф╕ЙхоЪх╛Ля╝Ъч║┐хЮЛч│╗ч╗ЯхТМч║┐хЮЛч╗Дч╗ЗцЮ╢цЮДщЧ┤цЬЙц╜ЬхЬичЪДх╝Вш┤ихРМцАБчЙ╣цАз</li> <li>чммхЫЫхоЪх╛Ля╝ЪхдзчЪДч│╗ч╗Яч╗Дч╗ЗцА╗цШпцпФх░Пч│╗ч╗ЯцЫ┤хА╛хРСф║ОхИЖшзг</li></ul> <h3 id="_1-4-хжВф╜ХцЛЖхИЖх╛оцЬНхКб"><a href="#_1-4-хжВф╜ХцЛЖхИЖх╛оцЬНхКб" class="header-anchor">#</a> 1.4. хжВф╜ХцЛЖхИЖх╛оцЬНхКб</h3> <p>х║ФчФих╛оцЬНхКбхМЦцЮ╢цЮДхЙНя╝МшжБцАЭшАГхЗаф╕кщЧощвШя╝Ъ</p> <p>ф╗Аф╣ИцЧ╢хАЩш┐ЫшбМцЬНхКбхМЦцЛЖхИЖя╝ЯхжВф╜ХцЛЖхИЖцЬНхКбя╝Я</p> <p>х╜Ух║ФчФихдНцЭВх║жуАБх╝АхПСхЫвщШЯшЖишГАхИ░щЪ╛ф╗еч╗┤цКдцЧ╢я╝Мх░▒шпешАГшЩСцЬНхКбхМЦцЛЖхИЖф║ЖуАВ</p> <p>цЛЖхИЖцЬНхКбчЪДцАЭшАГч╗┤х║жя╝Ъ</p> <ul><li><strong>ф╕ЪхКбч╗┤х║ж</strong>я╝Ъф╕ЪхКбхТМцХ░цНохЕ│ч│╗хпЖхИЗчЪДх║ФшпецФ╛хЬиф╕Аш╡╖уАВ</li> <li><strong>хКЯшГ╜ч╗┤х║ж</strong>я╝ЪхЕмхЕ▒хКЯшГ╜шБЪхРИф╕║ф╕Аф╕кцЬНхКбуАВ</li> <li><strong>ч╗Дч╗ЗцЮ╢цЮД</strong>я╝Ъца╣цНохоЮщЩЕч╗Дч╗ЗцЮ╢цЮДя╝МхдйчД╢хИЖф╕║ф╕НхРМчЪДхЫвщШЯя╝МцпПф╕кхЫвщШЯчЛмчлЛч╗┤цКдшЛех╣▓х╛оцЬНхКбуАВ</li></ul> <p>цЛЖхИЖцЬНхКбчЪДхЙНч╜оцЭбф╗╢я╝Ъ</p> <p>х║ФчФих╛оцЬНхКбцЮ╢цЮДшжБхЕИшзгхЖ│ф╗еф╕ЛщЧощвШя╝Ъ</p> <ul><li>цЬНхКбхжВф╜ХхоЪ</li> <li>цЬНхКбхжВф╜ХхПСх╕ГхТМшовщШЕ</li> <li>цЬНхКбхжВф╜ХчЫСцОз</li> <li>цЬНхКбхжВф╜Хц▓╗чРЖ</li> <li>цХЕщЪЬхжВф╜ХхоЪф╜Н</li></ul> <h2 id="_2-х╛оцЬНхКбцКАцЬпцЮ╢цЮД"><a href="#_2-х╛оцЬНхКбцКАцЬпцЮ╢цЮД" class="header-anchor">#</a> 2. х╛оцЬНхКбцКАцЬпцЮ╢цЮД</h2> <p><img src="https://raw.githubusercontent.com/dunwu/images/dev/snap/20200716195006.png" alt="img"></p> <p><strong>чммф╕Ах▒Вя╝ЪцОехЕех▒В</strong></p> <p>хдЦщГишо╛хдЗшо┐щЧочЪДч╗Яф╕АцОехЕех▒ВуАВ</p> <p><strong>чммф║Мх▒Вя╝ЪшБЪхРИцЬНхКбх▒В</strong></p> <p>хп╣ф╕Лх▒ВчЪДхЯ║чбАцЬНхКбхБЪф╕Аф║ЫшБЪхРИя╝МхЙкшгБчЪДх╖еф╜Ья╝МщАВщЕНф╕Кх▒Вф╕НхРМшо╛хдЗчЪДцХ░цНош╛УхЗ║уАВ</p> <p><strong>чммф╕Йх▒Вя╝ЪхЯ║чбАцЬНхКбх▒В</strong></p> <p>цпФш╛Гч╗Жч▓Тх║жчЪДх╛оцЬНхКбх▒Вя╝МцПРф╛ЫхЯ║чбАчЪДца╕х┐ГцЬНхКбя╝МхЕмхЕ▒цЬНхКбуАВ</p> <p><img src="https://raw.githubusercontent.com/dunwu/images/dev/snap/20200716195117.png" alt="img"></p> <h2 id="_3-цЬНхКбц│ихЖМхПСчО░"><a href="#_3-цЬНхКбц│ихЖМхПСчО░" class="header-anchor">#</a> 3. цЬНхКбц│ихЖМхПСчО░</h2> <p>хЬих╛оцЬНхКбцЮ╢цЮДф╕Ля╝Мф╕╗шжБцЬЙф╕ЙчзНшзТшЙ▓я╝Ъ</p> <ul><li>цЬНхКбцПРф╛ЫшАЕя╝ИRPC Server / Providerя╝Й</li> <li>цЬНхКбц╢Иш┤╣шАЕя╝ИRPC Client / Consumerя╝Й</li> <li>цЬНхКбц│ихЖМф╕нх┐Гя╝ИRegistryя╝Й</li></ul> <p>ц│ихЖМф╕нх┐ГчЪДхоЮчО░ф╛Эш╡Цф╗еф╕ЛцЬ║хИ╢я╝Ъ</p> <ul><li>ц│ихЖМф╕нх┐Г API</li> <li>щЫЖч╛дщГич╜▓я╝ЪхжВцЮЬц│ихЖМф╕нх┐ГцШпхНХчВ╣я╝МцЧац│Хф┐ЭщЪЬщлШхПпчФиуАВ</li> <li>хЕГцХ░цНохнШхВия╝Ъф╛ЛхжВ ZooKeeper х░ЖцХ░цНоф╗ех▒ВцмбхМЦчЪДчЫох╜Хч╗УцЮДхнШхВиуАВ</li> <li>цЬНхКбхБех║╖цгАцЯея╝Ъф╜┐чФищХ┐ш┐ЮцОецИЦх┐Гш╖│цОвц╡ЛцЦ╣х╝ПцгАцЯецЬНхКбхБех║╖чК╢цАБуАВ</li> <li>цЬНхКбчК╢цАБхПШцЫ┤щАЪчЯея╝ЪхПпф╗ехЯ║ф║ОшовщШЕшАЕцибх╝ПхоЮчО░я╝Мф╛ЛхжВ ZooKeeper чЪД Watch цЬ║хИ╢уАВ</li> <li>чЩ╜хРНхНХцЬ║хИ╢</li></ul> <p>ц│ихЖМф╕нх┐ГчЪДцЬНхКбц│ихЖМхТМхПСчО░щГ╜цШпхЯ║ф║О API чЪДуАВф╕АшИмщЬАшжБцФпцМБф╗еф╕ЛхКЯшГ╜я╝Ъ</p> <ul><li>цЬНхКбц│ихЖМ</li> <li>цЬНхКбц│ищФА</li> <li>цОехПгч╗нч║жя╝Их┐Гш╖│я╝Й</li> <li>цЬНхКбшовщШЕ</li> <li>хПпчФицЬНхКбхРМцне</li> <li>цЬНхКбцЯешпв</li> <li>цЬНхКбф┐оцФ╣</li></ul> <h3 id="_3-1-ц│ихЖМф╕нх┐ГчЪДх╖еф╜Ьц╡БчиЛ"><a href="#_3-1-ц│ихЖМф╕нх┐ГчЪДх╖еф╜Ьц╡БчиЛ" class="header-anchor">#</a> 3.1. ц│ихЖМф╕нх┐ГчЪДх╖еф╜Ьц╡БчиЛ</h3> <p>ф╕АшИмцЭешо▓я╝Мц│ихЖМф╕нх┐ГчЪДх╖еф╜Ьц╡БчиЛцШпя╝Ъ</p> <ul><li>цЬНхКбцПРф╛ЫшАЕхЬихРпхКицЧ╢я╝Мца╣цНоцЬНхКбхПСх╕ГцЦЗф╗╢ф╕нщЕНч╜очЪДхПСх╕Гф┐бцБпхРСц│ихЖМф╕нх┐Гц│ихЖМшЗкх╖▒чЪДцЬНхКбуАВ</li> <li>цЬНхКбц╢Иш┤╣шАЕхЬихРпхКицЧ╢я╝Мца╣цНоц╢Иш┤╣шАЕщЕНч╜оцЦЗф╗╢ф╕нщЕНч╜очЪДцЬНхКбф┐бцБпхРСц│ихЖМф╕нх┐ГшовщШЕшЗкх╖▒цЙАщЬАшжБчЪДцЬНхКбуАВ</li> <li>ц│ихЖМф╕нх┐Гш┐ФхЫЮцЬНхКбцПРф╛ЫшАЕхЬ░хЭАхИЧшбич╗ЩцЬНхКбц╢Иш┤╣шАЕуАВ</li> <li>х╜УцЬНхКбцПРф╛ЫшАЕхПСчФЯхПШхМЦя╝МцпФхжВцЬЙшКВчВ╣цЦ░хвЮцИЦшАЕщФАцпБя╝Мц│ихЖМф╕нх┐Гх░ЖхПШцЫ┤щАЪчЯеч╗ЩцЬНхКбц╢Иш┤╣шАЕуАВ</li></ul> <h3 id="_3-2-ц│ихЖМф╕нх┐ГхоЮчО░цибх╝П"><a href="#_3-2-ц│ихЖМф╕нх┐ГхоЮчО░цибх╝П" class="header-anchor">#</a> 3.2. ц│ихЖМф╕нх┐ГхоЮчО░цибх╝П</h3> <h4 id="х║ФчФихЖЕц│ихЖМхТМхПСчО░"><a href="#х║ФчФихЖЕц│ихЖМхТМхПСчО░" class="header-anchor">#</a> х║ФчФихЖЕц│ихЖМхТМхПСчО░</h4> <p>щЗЗчФих║ФчФихЖЕц│ихЖМф╕ОхПСчО░чЪДцЦ╣х╝Пя╝МцЬАхЕ╕хЮЛчЪДцбИф╛ЛшжБх▒Ю Netflix х╝Ац║РчЪД Eurekaя╝МхоШцЦ╣цЮ╢цЮДхЫ╛хжВф╕ЛуАВ</p> <p><img src="https://raw.githubusercontent.com/dunwu/images/dev/snap/20200720194412.png" alt="img"></p> <p>хп╣чЭАш┐Щх╝ахЫ╛я╝МцИСцЭеф╗Лч╗Нф╕Л Eureka чЪДцЮ╢цЮДя╝МхоГф╕╗шжБчФ▒ф╕Йф╕кщЗНшжБчЪДч╗Дф╗╢ч╗ДцИРя╝Ъ</p> <ul><li>Eureka Serverя╝Ъц│ихЖМф╕нх┐ГчЪДцЬНхКбчлпя╝МхоЮчО░ф║ЖцЬНхКбф┐бцБпц│ихЖМуАБхнШхВиф╗ехПКцЯешпвчнЙхКЯшГ╜уАВ</li> <li>цЬНхКбчлпчЪД Eureka Clientя╝ЪщЫЖцИРхЬицЬНхКбчлпчЪДц│ихЖМф╕нх┐Г SDKя╝МцЬНхКбцПРф╛ЫшАЕщАЪш┐Зш░ГчФи SDKя╝МхоЮчО░цЬНхКбц│ихЖМуАБхПНц│ихЖМчнЙхКЯшГ╜уАВ</li> <li>ховцИ╖члпчЪД Eureka Clientя╝ЪщЫЖцИРхЬиховцИ╖члпчЪДц│ихЖМф╕нх┐Г SDKя╝МцЬНхКбц╢Иш┤╣шАЕщАЪш┐Зш░ГчФи SDKя╝МхоЮчО░цЬНхКбшовщШЕуАБцЬНхКбцЫ┤цЦ░чнЙхКЯшГ╜уАВ</li></ul> <h4 id="х║ФчФихдЦц│ихЖМхТМхПСчО░"><a href="#х║ФчФихдЦц│ихЖМхТМхПСчО░" class="header-anchor">#</a> х║ФчФихдЦц│ихЖМхТМхПСчО░</h4> <p><img src="https://raw.githubusercontent.com/dunwu/images/dev/snap/20200720194519.png" alt="img"></p> <p>щАЪш┐Зш┐Щх╝ацЮ╢цЮДхЫ╛я╝МхПпф╗ечЬЛхЗ║цЭеф╜┐чФи Consul хоЮчО░х║ФчФихдЦцЬНхКбц│ихЖМхТМхПСчО░ф╕╗шжБф╛ЭщЭаф╕Йф╕кщЗНшжБчЪДч╗Дф╗╢я╝Ъ</p> <ul><li>Consulя╝Ъц│ихЖМф╕нх┐ГчЪДцЬНхКбчлпя╝МхоЮчО░цЬНхКбц│ихЖМф┐бцБпчЪДхнШхВия╝Мх╣╢цПРф╛Ыц│ихЖМхТМхПСчО░цЬНхКбуАВ</li> <li><a href="https://github.com/gliderlabs/registrator" target="_blank" rel="noopener noreferrer">Registrator<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>я╝Ъф╕Аф╕кх╝Ац║РчЪДчммф╕ЙцЦ╣цЬНхКбчобчРЖхЩищб╣чЫоя╝МхоГщАЪш┐ЗчЫСхРмцЬНхКбщГич╜▓чЪД Docker хоЮф╛ЛцШпхРжхнШц┤╗я╝МцЭеш┤Яш┤гцЬНхКбцПРф╛ЫшАЕчЪДц│ихЖМхТМщФАцпБуАВ</li> <li><a href="https://github.com/hashicorp/consul-template" target="_blank" rel="noopener noreferrer">Consul Template<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>я╝ЪхоЪцЧ╢ф╗Оц│ихЖМф╕нх┐ГцЬНхКбчлпшО╖хПЦцЬАцЦ░чЪДцЬНхКбцПРф╛ЫшАЕшКВчВ╣хИЧшбих╣╢хИ╖цЦ░ LB щЕНч╜оя╝ИцпФхжВ Nginx чЪД upstreamя╝Йя╝Мш┐Щца╖цЬНхКбц╢Иш┤╣шАЕх░▒щАЪш┐Зшо┐щЧо Nginx х░▒хПпф╗ешО╖хПЦцЬАцЦ░чЪДцЬНхКбцПРф╛ЫшАЕф┐бцБпуАВ</li></ul> <h4 id="ц│ихЖМф╕нх┐ГщАЙхЮЛ"><a href="#ц│ихЖМф╕нх┐ГщАЙхЮЛ" class="header-anchor">#</a> ц│ихЖМф╕нх┐ГщАЙхЮЛ</h4> <h5 id="щлШхПпчФицАз"><a href="#щлШхПпчФицАз" class="header-anchor">#</a> щлШхПпчФицАз</h5> <p>щЫЖч╛дщГич╜▓я╝МщАЪш┐ЗщГич╜▓хдЪф╕кхоЮф╛Лч╗ДцИРщЫЖч╛дцЭеф┐ЭшпБщлШхПпчФицАзуАВ</p> <p>хдЪ IDC щГич╜▓я╝МхН│щГич╜▓хЬиф╕Нцнвф╕Аф╕кцЬ║цИ┐уАВ</p> <h5 id="цХ░цНоф╕АшЗ┤цАз"><a href="#цХ░цНоф╕АшЗ┤цАз" class="header-anchor">#</a> цХ░цНоф╕АшЗ┤цАз</h5> <p>ца╣цНо CAP чРЖшо║я╝Мф╕ЙшАЕф╕НшГ╜хРМцЧ╢ц╗бш╢│я╝Ъ</p> <ul><li>CP хЮЛц│ихЖМф╕нх┐Гя╝МчЙ║чЙ▓хПпчФицАзцЭеф┐ЭшпБцХ░цНох╝║ф╕АшЗ┤цАзя╝МцЬАхЕ╕хЮЛчЪДф╛ЛхнРх░▒цШп ZooKeeperя╝Мetcdя╝МConsul ф║ЖуАВZooKeeper щЫЖч╛дхЖЕхПкцЬЙф╕Аф╕к Leaderя╝МшАМф╕ФхЬи Leader цЧац│Хф╜┐чФичЪДцЧ╢хАЩщАЪш┐З Paxos чоЧц│ХщАЙф╕╛хЗ║ф╕Аф╕кцЦ░чЪД LeaderуАВш┐Щф╕к Leader чЪДчЫочЪДх░▒цШпф┐ЭшпБхЖЩф┐бцБпчЪДцЧ╢хАЩхПкхРСш┐Щф╕к Leader хЖЩхЕея╝МLeader ф╝ЪхРМцнеф┐бцБпхИ░ Followersя╝Мш┐Щф╕кш┐ЗчиЛх░▒хПпф╗еф┐ЭшпБцХ░цНочЪДх╝║ф╕АшЗ┤цАзуАВф╜ЖхжВцЮЬхдЪф╕к ZooKeeper ф╣ЛщЧ┤ч╜Сч╗ЬхЗ║чО░щЧощвШя╝МщАацИРхЗ║чО░хдЪф╕к Leaderя╝МхПСчФЯшДСшгВчЪДшпЭя╝Мц│ихЖМф╕нх┐Гх░▒ф╕НхПпчФиф║ЖуАВшАМ etcd хТМ Consul щЫЖч╛дхЖЕщГ╜цШпщАЪш┐З raft хНПшооцЭеф┐ЭшпБх╝║ф╕АшЗ┤цАзя╝МхжВцЮЬхЗ║чО░шДСшгВчЪДшпЭя╝М ц│ихЖМф╕нх┐Гф╣Яф╕НхПпчФиуАВ</li> <li>AP хЮЛц│ихЖМф╕нх┐Гя╝МчЙ║чЙ▓ф╕АшЗ┤цАзцЭеф┐ЭшпБхПпчФицАзя╝МцЬАхЕ╕хЮЛчЪДф╛ЛхнРх░▒цШп Eureka ф║ЖуАВхп╣цпФф╕Л Zookeeperя╝МEureka ф╕НчФищАЙф╕╛ф╕Аф╕к Leaderя╝МцпПф╕к Eureka цЬНхКбхЩихНХчЛмф┐ЭхнШцЬНхКбц│ихЖМхЬ░хЭАя╝МхЫацндцЬЙхПпшГ╜хЗ║чО░цХ░цНоф┐бцБпф╕Нф╕АшЗ┤чЪДцГЕхЖ╡уАВф╜ЖцШпх╜Уч╜Сч╗ЬхЗ║чО░щЧощвШчЪДцЧ╢хАЩя╝МцпПхП░цЬНхКбхЩищГ╜хПпф╗ехоМцИРчЛмчлЛчЪДцЬНхКбуАВ</li></ul> <h3 id="_3-3-цЬНхКбц│ихЖМхПСчО░чЪДщЧощвШ"><a href="#_3-3-цЬНхКбц│ихЖМхПСчО░чЪДщЧощвШ" class="header-anchor">#</a> 3.3. цЬНхКбц│ихЖМхПСчО░чЪДщЧощвШ</h3> <h4 id="хдЪц│ихЖМф╕нх┐Г"><a href="#хдЪц│ихЖМф╕нх┐Г" class="header-anchor">#</a> хдЪц│ихЖМф╕нх┐Г</h4> <p>хп╣ф║ОцЬНхКбц╢Иш┤╣шАЕцЭешп┤я╝МшжБшГ╜хдЯхРМцЧ╢ф╗ОхдЪф╕кц│ихЖМф╕нх┐ГшовщШЕцЬНхКбя╝Ыхп╣ф║ОцЬНхКбцПРф╛ЫшАЕцЭешп┤я╝МшжБшГ╜хдЯхРМцЧ╢хРСхдЪф╕кц│ихЖМф╕нх┐Гц│ихЖМцЬНхКбуАВ</p> <h4 id="х╣╢шбМшовщШЕцЬНхКб"><a href="#х╣╢шбМшовщШЕцЬНхКб" class="header-anchor">#</a> х╣╢шбМшовщШЕцЬНхКб</h4> <p>хПпф╗ецпПшовщШЕф╕Аф╕кцЬНхКбх░▒хНХчЛмчФиф╕Аф╕кч║┐чиЛцЭехдДчРЖя╝Мш┐Щца╖чЪДшпЭхН│ф╜┐щБЗхИ░ф╕кхИлцЬНхКбшКВчВ╣ш┐ЮцОеш╢ЕцЧ╢я╝МхЕ╢ф╗ЦцЬНхКбшКВчВ╣чЪДхИЭхзЛхМЦш┐ЮцОеф╣Яф╕НхПЧх╜▒хУНя╝МцЬАцЕвф╣Ях░▒цШпш┐Щф╕кцЬНхКбшКВчВ╣чЪДхИЭхзЛхМЦш┐ЮцОешАЧш┤╣чЪДцЧ╢щЧ┤я╝МцЬАч╗ИцЙАцЬЙцЬНхКбшКВчВ╣чЪДхИЭхзЛхМЦш┐ЮцОешАЧцЧ╢цОзхИ╢хЬиф║Ж 30 чзТф╗ехЖЕуАВ</p> <h4 id="цЙ╣щЗПц│ищФАцЬНхКб"><a href="#цЙ╣щЗПц│ищФАцЬНхКб" class="header-anchor">#</a> цЙ╣щЗПц│ищФАцЬНхКб</h4> <p>щЬАшжБхоЪцЧ╢хО╗ц╕ЕчРЖц│ихЖМф╕нх┐Гф╕нчЪДтАЬхГ╡х░╕шКВчВ╣тАЭя╝МхжВцЮЬцФпцМБцЙ╣щЗПц│ищФАцЬНхКбя╝Мх░▒хПпф╗еф╕Ацмбш░ГчФих░▒цККшпешКВчВ╣ф╕КцПРф╛ЫчЪДцЙАцЬЙцЬНхКбхРМцЧ╢ц│ищФАцОЙуАВ</p> <h4 id="цЬНхКбхПШцЫ┤ф┐бцБпхРМцнецЫ┤цЦ░"><a href="#цЬНхКбхПШцЫ┤ф┐бцБпхРМцнецЫ┤цЦ░" class="header-anchor">#</a> цЬНхКбхПШцЫ┤ф┐бцБпхРМцнецЫ┤цЦ░</h4> <p>ф╕║ф║ЖхЗПх░СцЬНхКбц╢Иш┤╣шАЕф╗Оц│ихЖМф╕нх┐Гф╕нцЛЙхПЦчЪДцЬНхКбхПпчФишКВчВ╣ф┐бцБпчЪДцХ░цНощЗПя╝Мш┐Щф╕кцЧ╢хАЩхПпф╗ещАЪш┐ЗхвЮщЗПцЫ┤цЦ░чЪДцЦ╣х╝Пя╝Мц│ихЖМф╕нх┐ГхПкш┐ФхЫЮхПШхМЦчЪДщВгщГихИЖшКВчВ╣ф┐бцБпя╝Мх░дхЕ╢хЬихПкцЬЙх░СцХ░шКВчВ╣ф┐бцБпхПШцЫ┤цЧ╢я╝Мцндф╕╛хПпф╗ехдзхдзхЗПх░СцЬНхКбц╢Иш┤╣шАЕф╗Оц│ихЖМф╕нх┐ГцЛЙхПЦчЪДцХ░цНощЗПя╝Мф╗ОшАМцЬАхдзчиЛх║жщБ┐хЕНф║зчФЯч╜Сч╗ЬщгОцЪ┤уАВ</p> <h3 id="_3-4-шпЖхИлцЬНхКбшКВчВ╣цШпхРжхнШц┤╗"><a href="#_3-4-шпЖхИлцЬНхКбшКВчВ╣цШпхРжхнШц┤╗" class="header-anchor">#</a> 3.4. шпЖхИлцЬНхКбшКВчВ╣цШпхРжхнШц┤╗</h3> <h4 id="х┐Гш╖│х╝АхЕ│ф┐ЭцКдцЬ║хИ╢"><a href="#х┐Гш╖│х╝АхЕ│ф┐ЭцКдцЬ║хИ╢" class="header-anchor">#</a> х┐Гш╖│х╝АхЕ│ф┐ЭцКдцЬ║хИ╢</h4> <p>хЬич╜Сч╗ЬщвСч╣БцКЦхКичЪДцГЕхЖ╡ф╕Ля╝Мц│ихЖМф╕нх┐Гф╕нхПпчФичЪДшКВчВ╣ф╝Ъф╕НцЦнхПШхМЦя╝Мш┐ЩцЧ╢хАЩцЬНхКбц╢Иш┤╣шАЕф╝ЪщвСч╣БцФ╢хИ░цЬНхКбцПРф╛ЫшАЕшКВчВ╣хПШцЫ┤чЪДф┐бцБпя╝Мф║ОцШпх░▒ф╕НцЦнхЬ░шп╖ц▒Вц│ихЖМф╕нх┐ГцЭецЛЙхПЦцЬАцЦ░чЪДхПпчФицЬНхКбшКВчВ╣ф┐бцБпуАВх╜УцЬЙцИРчЩ╛ф╕КхНГф╕кцЬНхКбц╢Иш┤╣шАЕя╝МхРМцЧ╢шп╖ц▒Вц│ихЖМф╕нх┐ГшО╖хПЦцЬАцЦ░чЪДцЬНхКбцПРф╛ЫшАЕчЪДшКВчВ╣ф┐бцБпцЧ╢я╝МхПпшГ╜ф╝ЪцККц│ихЖМф╕нх┐ГчЪДх╕жхо╜ч╗ЩхНац╗бя╝Мх░дхЕ╢цШпц│ихЖМф╕нх┐ГцШпчЩ╛хЕЖч╜СхНбчЪДцГЕхЖ╡ф╕ЛуАВ</p> <p>цЙАф╗ещТИхп╣ш┐ЩчзНцГЕхЖ╡я╝М<strong>щЬАшжБф╕АчзНф┐ЭцКдцЬ║хИ╢я╝МхН│ф╜┐хЬич╜Сч╗ЬщвСч╣БцКЦхКичЪДцЧ╢хАЩя╝МцЬНхКбц╢Иш┤╣шАЕф╣Яф╕НшЗ│ф║ОхРМцЧ╢хО╗шп╖ц▒Вц│ихЖМф╕нх┐ГшО╖хПЦцЬАцЦ░чЪДцЬНхКбшКВчВ╣ф┐бцБп</strong>уАВ</p> <p>цИСцЫ╛ч╗Пх░▒щБЗхИ░ш┐Зш┐ЩчзНцГЕхЖ╡я╝Мф╕Аф╕кхПпшбМчЪДшзгхЖ│цЦ╣цбИх░▒цШпч╗Щц│ихЖМф╕нх┐Гшо╛ч╜оф╕Аф╕кх╝АхЕ│я╝Мх╜Ух╝АхЕ│цЙУх╝АцЧ╢я╝МхН│ф╜┐ч╜Сч╗ЬщвСч╣БцКЦхКия╝Мц│ихЖМф╕нх┐Гф╣Яф╕Нф╝ЪщАЪчЯецЙАцЬЙчЪДцЬНхКбц╢Иш┤╣шАЕцЬЙцЬНхКбшКВчВ╣ф┐бцБпхПШцЫ┤я╝МцпФхжВхПкч╗Щ 10% чЪДцЬНхКбц╢Иш┤╣шАЕш┐ФхЫЮхПШцЫ┤я╝Мш┐Щца╖чЪДшпЭх░▒шГ╜х░Жц│ихЖМф╕нх┐ГчЪДшп╖ц▒ВщЗПхЗПх░СхИ░хОЯцЭечЪД 1/10уАВ</p> <p>х╜УчД╢цЙУх╝Аш┐Щф╕кх╝АхЕ│ф╣ЯцШпцЬЙф╕АхоЪф╗гф╗╖чЪДя╝МхоГф╝Ъхп╝шЗ┤цЬНхКбц╢Иш┤╣шАЕцДЯчЯецЬАцЦ░чЪДцЬНхКбшКВчВ╣ф┐бцБпх╗╢ш┐Яя╝МхОЯхЕИхПпшГ╜хЬи 10s хЖЕх░▒шГ╜цДЯчЯехИ░цЬНхКбцПРф╛ЫшАЕшКВчВ╣ф┐бцБпчЪДхПШцЫ┤я╝МчО░хЬихПпшГ╜ф╝Ъх╗╢ш┐ЯхИ░хЗахИЖщТЯя╝МцЙАф╗ехЬич╜Сч╗Ьцнгх╕╕чЪДцГЕхЖ╡ф╕Ля╝Мх╝АхЕ│х╣╢ф╕НщАВхРИцЙУх╝Ая╝ЫхПпф╗еф╜Ьф╕║ф╕Аф╕кч┤зцАецОкцЦ╜я╝МхЬич╜Сч╗ЬщвСч╣БцКЦхКичЪДцЧ╢хАЩя╝МцЙНцЙУх╝Аш┐Щф╕кх╝АхЕ│уАВ</p> <h4 id="цЬНхКбшКВчВ╣цСШщЩдф┐ЭцКдцЬ║хИ╢"><a href="#цЬНхКбшКВчВ╣цСШщЩдф┐ЭцКдцЬ║хИ╢" class="header-anchor">#</a> цЬНхКбшКВчВ╣цСШщЩдф┐ЭцКдцЬ║хИ╢</h4> <p>цЬНхКбцПРф╛ЫшАЕхЬиш┐ЫчиЛхРпхКицЧ╢я╝Мф╝Ъц│ихЖМцЬНхКбхИ░ц│ихЖМф╕нх┐Гя╝Мх╣╢цпПщЪФф╕Ацо╡цЧ╢щЧ┤я╝Мц▒ЗцКех┐Гш╖│ч╗Щц│ихЖМф╕нх┐Гя╝Мф╗ецаЗшпЖшЗкх╖▒чЪДхнШц┤╗чК╢цАБуАВхжВцЮЬщЪФф║Жф╕Ацо╡хЫ║хоЪцЧ╢щЧ┤хРОя╝МцЬНхКбцПРф╛ЫшАЕф╗НчД╢ц▓бцЬЙц▒ЗцКех┐Гш╖│ч╗Щц│ихЖМф╕нх┐Гя╝Мц│ихЖМф╕нх┐Гх░▒ф╝Ъшодф╕║шпешКВчВ╣х╖▓ч╗ПхдДф║ОтАЬdeadтАЭчК╢цАБя╝Мф║ОцШпф╗ОцЬНхКбчЪДхПпчФишКВчВ╣ф┐бцБпф╕нчз╗щЩдхЗ║хО╗уАВ</p> <p>хжВцЮЬщБЗхИ░ч╜Сч╗ЬщЧощвШя╝МхдзцЙ╣цЬНхКбцПРф╛ЫшАЕшКВчВ╣ц▒ЗцКеч╗Щц│ихЖМф╕нх┐ГчЪДх┐Гш╖│ф┐бцБпщГ╜хПпшГ╜ф╝Ъф╝аш╛╛хд▒ш┤ея╝Мц│ихЖМф╕нх┐Гх░▒ф╝ЪцККхоГф╗мщГ╜ф╗ОхПпчФишКВчВ╣хИЧшбиф╕нчз╗щЩдхЗ║хО╗я╝МщАацИРхЙйф╕ЛчЪДхПпчФишКВчВ╣щЪ╛ф╗ецЙ┐хПЧцЙАцЬЙчЪДш░ГчФия╝Мх╝Хш╡╖тАЬщЫкх┤йтАЭуАВф╜ЖцШпш┐ЩчзНцГЕхЖ╡ф╕Ля╝МхПпшГ╜хдзщГихИЖцЬНхКбцПРф╛ЫшАЕшКВчВ╣цШпхПпчФичЪДя╝Мф╗Еф╗ЕхЫаф╕║ч╜Сч╗ЬхОЯхЫацЧац│Хц▒ЗцКех┐Гш╖│ч╗Щц│ихЖМф╕нх┐Гх░▒швлтАЬцЧацГЕтАЭчЪДцСШщЩдф║ЖуАВ</p> <p><strong>ш┐Щф╕кцЧ╢хАЩх░▒щЬАшжБца╣цНохоЮщЩЕф╕ЪхКбчЪДцГЕхЖ╡я╝Мшо╛хоЪф╕Аф╕кщШИхА╝цпФф╛Ля╝МхН│ф╜┐щБЗхИ░хИЪцЙНшп┤чЪДш┐ЩчзНцГЕхЖ╡я╝Мц│ихЖМф╕нх┐Гф╣Яф╕НшГ╜цСШщЩдш╢Еш┐Зш┐Щф╕кщШИхА╝цпФф╛ЛчЪДшКВчВ╣</strong>уАВ</p> <p>ш┐Щф╕кщШИхА╝цпФф╛ЛхПпф╗еца╣цНохоЮщЩЕф╕ЪхКбчЪДхЖЧф╜Щх║жцЭечбохоЪя╝МцИСщАЪх╕╕ф╝ЪцККш┐Щф╕кцпФф╛Лшо╛хоЪхЬи 20%я╝Мх░▒цШпшп┤ц│ихЖМф╕нх┐Гф╕НшГ╜цСШщЩдш╢Еш┐З 20% чЪДшКВчВ╣уАВхЫаф╕║хдзщГихИЖцГЕхЖ╡ф╕Ля╝МшКВчВ╣чЪДхПШхМЦф╕Нф╝Ъш┐Щф╣ИщвСч╣Бя╝МхПкцЬЙхЬич╜Сч╗ЬцКЦхКицИЦшАЕф╕ЪхКбцШОчбошжБф╕Лч║┐хдзцЙ╣щЗПшКВчВ╣чЪДцГЕхЖ╡ф╕ЛцЙНцЬЙхПпшГ╜хПСчФЯуАВшАМф╕ЪхКбцШОчбошжБф╕Лч║┐хдзцЙ╣щЗПшКВчВ╣чЪДцГЕхЖ╡цШпхПпф╗ещвДчЯечЪДя╝Мш┐ЩчзНцГЕхЖ╡ф╕ЛхПпф╗ехЕ│щЧнщШИхА╝ф┐ЭцКдя╝ЫшАМцнгх╕╕цГЕхЖ╡ф╕Ля╝Мх║ФшпецЙУх╝АщШИхА╝ф┐ЭцКдя╝Мф╗ещШ▓цнвч╜Сч╗ЬцКЦхКицЧ╢я╝МхдзцЙ╣щЗПхПпчФичЪДцЬНхКбшКВчВ╣швлцСШщЩдуАВ</p> <h2 id="_4-цЬНхКбщАЪф┐б"><a href="#_4-цЬНхКбщАЪф┐б" class="header-anchor">#</a> 4. цЬНхКбщАЪф┐б</h2> <p>щАЪш┐Зц│ихЖМф╕нх┐Гя╝МцЬНхКбц╢Иш┤╣шАЕхТМцЬНхКбцПРф╛ЫшАЕх░▒хПпф╗ецДЯчЯех╜╝цндя╝Мф╜ЖцШпя╝МшжБхоЮчО░ф║дф║Тш┐Шх┐Ещб╗шзгхЖ│щАЪф┐бщЧощвШя╝Ъ</p> <ul><li><strong>щАЪф┐бхНПшоо</strong>уАВхН│цЬНхКбцПРф╛ЫшАЕхТМцЬНхКбц╢Иш┤╣шАЕф╣ЛщЧ┤ф╗еф╗Аф╣Ица╖чЪД <strong>хНПшоо</strong> ш┐ЫшбМч╜Сч╗ЬщАЪф┐бя╝Мшп┤чЩ╜ф║Жя╝МцШпшжБшзгхЖ│ховцИ╖члпхТМцЬНхКбчлпхжВф╜Хх╗║члЛш┐ЮцОеуАБчобчРЖш┐ЮцОеф╗ехПКцЬНхКбчлпхжВф╜ХхдДчРЖшп╖ц▒ВчЪДщЧощвШуАВцШпщЗЗчФихЫЫх▒В TCPуАБUDP хНПшооя╝Мш┐ШцШпщЗЗчФиф╕Гх▒В HTTP хНПшооя╝Мш┐ШцШпщЗЗчФихЕ╢ф╗ЦхНПшооя╝Яф╛ЛхжВя╝ЪDubbo хЯ║ф║О TCP щАЪф┐бя╝ЫшАМ Spring Cloud хЯ║ф║О HTTP REST щАЪф┐буАВTCP щАЪф┐бцЦ╣х╝Пя╝Мф╝аш╛УцХИчОЗцЫ┤щлШя╝Ыф╜ЖцШп HTTP цЦ╣х╝ПхдйчД╢хПпф╗ецПРф╛Ыхп╣хдЦцЬНхКбуАВ</li> <li><strong>ф╝аш╛УцЦ╣х╝П</strong>уАВхН│цЬНхКбцПРф╛ЫшАЕхТМцЬНхКбц╢Иш┤╣шАЕф╣ЛщЧ┤чЪДцХ░цНоф╝аш╛УщЗЗчФихУкчзНцЦ╣х╝ПуАВцШпхРМцнеш┐ШцШпх╝Вцнея╝ЯцШпхЬихНХш┐ЮцОеф╕Кф╝аш╛Уя╝Мш┐ШцШпхдЪш╖пхдНчФиуАВ</li> <li><strong>х║ПхИЧхМЦхТМхПНх║ПхИЧхМЦ</strong>уАВхоГф╕╗шжБшзгхЖ│ховцИ╖члпхТМцЬНхКбчлпщЗЗчФихУкчзНцХ░цНоч╝ЦшзгчаБчЪДщЧощвШуАВх╕╕шзБчЪДх║ПхИЧхМЦцЦ╣х╝ПхМЕцЛмя╝ЪXMLуАБJSONя╝Ыф║Мш┐ЫхИ╢ч▒╗хжВя╝Ъ<a href="https://github.com/apache/thrift" target="_blank" rel="noopener noreferrer">thrift<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>уАБ<a href="https://github.com/protocolbuffers/protobuf" target="_blank" rel="noopener noreferrer">protobuf<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>уАБ<a href="http://hessian.caucho.com/doc/hessian-overview.xtp" target="_blank" rel="noopener noreferrer">hessian<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>уАБJDKуАВ</li></ul> <h3 id="_4-1-х║ПхИЧхМЦцЦ╣х╝П"><a href="#_4-1-х║ПхИЧхМЦцЦ╣х╝П" class="header-anchor">#</a> 4.1. х║ПхИЧхМЦцЦ╣х╝П</h3> <p>х║ПхИЧхМЦцЦ╣х╝ПчЪДщАЙхЮЛя╝Мф╕АшИмхЯ║ф║Оф╗еф╕ЛшАГшЩСя╝Ъ</p> <ul><li>цФпцМБцХ░цНоч╗УцЮДч▒╗хЮЛчЪДф╕░хпМх║ж</li> <li>ш╖ишпншиАцФпцМБ</li> <li>цАзшГ╜</li></ul> <blockquote><p>ЁЯСЙ хПВшАГя╝Ъ<a href="https://github.com/dunwu/javacore/blob/master/docs/io/java-serialization.md" target="_blank" rel="noopener noreferrer">Java х║ПхИЧхМЦ<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h3 id="_4-2-щАЪф┐бхНПшоо"><a href="#_4-2-щАЪф┐бхНПшоо" class="header-anchor">#</a> 4.2. щАЪф┐бхНПшоо</h3> <p>х╛оцЬНхКбцбЖцЮ╢хп╣цпФя╝Ъ</p> <table><thead><tr><th></th> <th>RPC</th> <th>REST</th></tr></thead> <tbody><tr><td>шАжхРИцАз</td> <td>х╝║шАжхРИ</td> <td>цЭ╛цХгшАжхРИ</td></tr> <tr><td>хНПшоо</td> <td>Tcp</td> <td>HttpуАБHttp2</td></tr> <tr><td>х║ПхИЧхМЦ</td> <td>ф║Мш┐ЫхИ╢я╝ИThriftуАБProtobufуАБHessianуАБAvroуАБJDKчнЙя╝Й</td> <td>XmlуАБJson</td></tr> <tr><td>цАзшГ╜</td> <td>щлШ</td> <td>ф╜О</td></tr> <tr><td>ховцИ╖члп</td> <td>хп╣ч╝ЦчиЛшпншиАцЬЙщЩРхИ╢</td> <td>ш╖ишпншиАцФпцМБцЫ┤хе╜я╝ИцФпцМБHttpхН│хПпя╝Й</td></tr> <tr><td>ф╗гшбицКАцЬп</td> <td>DubboуАБMotanуАБTarsуАБgRpcуАБThrift</td> <td>Spring Cloud</td></tr></tbody></table> <h2 id="_5-цЬНхКбчЫСцОз"><a href="#_5-цЬНхКбчЫСцОз" class="header-anchor">#</a> 5. цЬНхКбчЫСцОз</h2> <p>х╜УцЬНхКбц╢Иш┤╣шАЕф╕ОцЬНхКбцПРф╛ЫшАЕф╣ЛщЧ┤х╗║члЛф║ЖщАЪф┐бя╝Мф╜Ьф╕║чобчРЖшАЕщЬАшжБщАЪш┐ЗчЫСцОзцЙЛцо╡цЭешзВхпЯцЬНхКбцШпхРжцнгх╕╕я╝Мш░ГчФицШпхРжцИРхКЯуАВцЬНхКбчЫСцОзцШпх╛ИхдНцЭВчЪДя╝МхЬих╛оцЬНхКбцЮ╢цЮДф╕Ля╝Мф╕АцмбчФицИ╖ш░ГчФиф╝ЪхЫаф╕║цЬНхКбхМЦцЛЖхИЖхРОя╝МхПШцИРхдЪф╕кф╕НхРМцЬНхКбф╣ЛщЧ┤чЪДчЫ╕ф║Тш░ГчФия╝Мш┐Щф╣Ях░▒щЬАшжБхп╣цЛЖхИЖхРОчЪДцпПф╕кцЬНхКбщГ╜чЫСцОзш╡╖цЭеуАВ</p> <h3 id="_5-1-чЫСцОзхп╣ш▒б"><a href="#_5-1-чЫСцОзхп╣ш▒б" class="header-anchor">#</a> 5.1. чЫСцОзхп╣ш▒б</h3> <p>цЬНхКбчЫСцОзф╕АхоЪцШпщАЪш┐ЗшзВхпЯцХ░цНоцЭещЗПхМЦхИЖцЮРя╝МцЙАф╗ещжЦхЕИшжБцШОчбощЬАшжБчЫСцОзф╗Аф╣ИуАВ</p> <p>ф╕АшИмцЭешп┤я╝МцЬНхКбчЫСцОзцХ░цНоцЬЙф╗еф╕ЛхИЖч▒╗я╝Ъ</p> <ul><li><strong>ф╕ЪхКбчЫСцОз</strong>я╝Ъца╕х┐ГцМЗцаЗуАБчЩ╗х╜ХуАБчЩ╗хЗ║уАБф╕ЛхНХуАБцФпф╗ШчнЙуАВ</li> <li><strong>х║ФчФичЫСцОз</strong>я╝Ъшо┐щЧоцОехПгуАБшо┐щЧоцЬНхКбуАБSQLуАБхЖЕхнШф╜┐чФичОЗуАБхУНх║ФцЧ╢щЧ┤уАБTPSуАБQPS чнЙуАВ</li> <li><strong>ч│╗ч╗ЯчЫСцОз</strong>я╝ЪCPUуАБхЖЕхнШуАБч╜Сч╗ЬуАБчгБчЫШчнЙуАВ</li> <li><strong>хЯ║чбАчЫСцОз</strong>я╝Ъч╜Сч╗Ьц╡БщЗПуАБф╕вхМЕцХ░уАБщФЩхМЕцХ░уАБш┐ЮцОецХ░чнЙуАВ</li> <li><strong>ховцИ╖члпчЫСцОз</strong>я╝ЪцАзшГ╜уАБш┐ФхЫЮчаБуАБхЬ░хЯЯуАБш┐РшРехХЖуАБчЙИцЬмуАБч│╗ч╗ЯчнЙуАВ</li></ul> <h3 id="_5-2-ч│╗ч╗ЯчЫСцОзхОЯчРЖ"><a href="#_5-2-ч│╗ч╗ЯчЫСцОзхОЯчРЖ" class="header-anchor">#</a> 5.2. ч│╗ч╗ЯчЫСцОзхОЯчРЖ</h3> <p>ф╕АцЧжцШОчбоф║ЖшжБчЫСцОзчЪДхп╣ш▒бя╝МцОеф╕Лх░▒цШпшАГшЩСхжВф╜ХчЫСцОзуАВ</p> <p><strong>чЫСцОзч│╗ч╗Яф╕╗шжБхМЕцЛмхЫЫф╕кчОпшКВя╝ЪцХ░цНощЗЗщЫЖуАБцХ░цНоф╝аш╛УуАБцХ░цНохдДчРЖхТМцХ░цНох▒Хчд║</strong></p> <h4 id="цХ░цНощЗЗщЫЖ"><a href="#цХ░цНощЗЗщЫЖ" class="header-anchor">#</a> цХ░цНощЗЗщЫЖ</h4> <p>щАЪх╕╕цЬЙф╕дчзНцХ░цНоцФ╢щЫЖцЦ╣х╝Пя╝Ъ</p> <ul><li><strong>цЬНхКбф╕╗хКиф╕КцКе</strong>я╝Ъш┐ЩчзНхдДчРЖцЦ╣х╝ПщАЪш┐ЗхЬиф╕ЪхКбф╗гчаБцИЦшАЕцЬНхКбцбЖцЮ╢щЗМхКахЕецХ░цНоцФ╢щЫЖф╗гчаБщА╗ш╛Ся╝МхЬицпПф╕АцмбцЬНхКбш░ГчФихоМцИРхРОя╝Мф╕╗хКиф╕КцКецЬНхКбчЪДш░ГчФиф┐бцБпуАВш┐ЩчзНцЦ╣х╝ПхЬищУ╛ш╖пш╖Яш╕кф╕нш╛Гф╕║х╕╕шзБя╝Мф╕╗ц╡БчЪДцКАцЬпцЦ╣цбИцЬЙя╝ЪZipkinуАВ</li> <li><strong>ф╗гчРЖцФ╢щЫЖ</strong>я╝Ъш┐ЩчзНхдДчРЖцЦ╣х╝ПщАЪш┐ЗцЬНхКбш░ГчФихРОцККш░ГчФичЪДшпжч╗Жф┐бцБпшо░х╜ХхИ░цЬмхЬ░цЧех┐ЧцЦЗф╗╢ф╕ня╝МчД╢хРОхЖНщАЪш┐Зф╗гчРЖхО╗шзгцЮРцЬмхЬ░цЧех┐ЧцЦЗф╗╢я╝МчД╢хРОхЖНф╕КцКецЬНхКбчЪДш░ГчФиф┐бцБпуАВф╕╗ц╡БчЪДцКАцЬпцЦ╣цбИцЬЙя╝ЪELKуАБFlumeуАВ</li></ul> <h4 id="цХ░цНоф╝аш╛У"><a href="#цХ░цНоф╝аш╛У" class="header-anchor">#</a> цХ░цНоф╝аш╛У</h4> <p>цХ░цНоф╝аш╛УцЬАх╕╕чФичЪДцЦ╣х╝ПцЬЙф╕дчзНя╝Ъ</p> <ul><li><strong>UDP ф╝аш╛У</strong>я╝Ъш┐ЩчзНхдДчРЖцЦ╣х╝ПцШпцХ░цНохдДчРЖхНХхЕГцПРф╛ЫцЬНхКбхЩичЪДшп╖ц▒ВхЬ░хЭАя╝МцХ░цНощЗЗщЫЖхРОщАЪш┐З UDP хНПшооф╕ОцЬНхКбхЩих╗║члЛш┐ЮцОея╝МчД╢хРОцККцХ░цНохПСщАБш┐ЗхО╗уАВ</li> <li><strong>Kafka ф╝аш╛У</strong>я╝Ъш┐ЩчзНхдДчРЖцЦ╣х╝ПцШпцХ░цНощЗЗщЫЖхРОхПСщАБхИ░цМЗхоЪчЪД Topicя╝МчД╢хРОцХ░цНохдДчРЖхНХхЕГхЖНшовщШЕхп╣х║ФчЪД Topicя╝Мх░▒хПпф╗еф╗О Kafka ц╢ИцБпщШЯхИЧф╕ншп╗хПЦхИ░хп╣х║ФчЪДцХ░цНоуАВчФ▒ф║О Kafka цЬЙщЭЮх╕╕щлШчЪДхРЮхРРшГ╜хКЫя╝МцЙАф╗ех╛ИщАВхРИф╜Ьф╕║хдзцХ░цНощЗПчЪДч╝УхЖ▓ц▒ауАВ</li></ul> <h4 id="цХ░цНохдДчРЖ"><a href="#цХ░цНохдДчРЖ" class="header-anchor">#</a> цХ░цНохдДчРЖ</h4> <p>цХ░цНохдДчРЖцШпхп╣цФ╢щЫЖцЭечЪДхОЯхзЛцХ░цНош┐ЫшбМшБЪхРИх╣╢хнШхВиуАВцХ░цНошБЪхРИщАЪх╕╕цЬЙф╕дф╕кч╗┤х║жя╝Ъ</p> <ul><li><strong>цОехПгч╗┤х║жшБЪхРИ</strong>я╝Ъш┐Щф╕кч╗┤х║жцШпцККхоЮцЧ╢цФ╢хИ░чЪДцХ░цНоцМЙчЕзцОехПгхРНч╗┤х║жхоЮцЧ╢шБЪхРИхЬиф╕Аш╡╖я╝Мш┐Щца╖х░▒хПпф╗ех╛ЧхИ░цпПф╕кцОехПгчЪДцпПчзТшп╖ц▒ВщЗПуАБх╣│хЭЗшАЧцЧ╢уАБцИРхКЯчОЗчнЙф┐бцБпуАВ</li> <li><strong>цЬ║хЩич╗┤х║жшБЪхРИ</strong>я╝Ъш┐Щф╕кч╗┤х║жцШпцККхоЮцЧ╢цФ╢хИ░чЪДцХ░цНоцМЙчЕзш░ГчФичЪДшКВчВ╣ч╗┤х║жшБЪхРИхЬиф╕Аш╡╖я╝Мш┐Щца╖х░▒хПпф╗еф╗ОхНХцЬ║ч╗┤х║жхО╗цЯечЬЛцпПф╕кцОехПгчЪДхоЮцЧ╢шп╖ц▒ВщЗПуАБх╣│хЭЗшАЧцЧ╢чнЙф┐бцБпуАВ</li></ul> <p>шБЪхРИхРОчЪДцХ░цНощЬАшжБцМБф╣ЕхМЦхИ░цХ░цНох║Уф╕нхнШхВия╝МцЙАщАЙчФичЪДцХ░цНох║Уф╕АшИмхИЖф╕║ф╕дчзНя╝Ъ</p> <ul><li><strong>хЕицЦЗцгАч┤вцХ░цНох║У</strong>я╝ЪцпФхжВ Elasticsearchя╝Мф╗ехАТцОТч┤вх╝ХчЪДцХ░цНоч╗УцЮДхнШхВия╝МщЬАшжБцЯешпвчЪДцЧ╢хАЩя╝Мца╣цНоч┤вх╝ХцЭецЯешпвуАВ</li> <li><strong>цЧ╢х║ПцХ░цНох║У</strong>я╝ЪцпФхжВ OpenTSDBя╝Мф╗ецЧ╢х║Пх║ПхИЧцХ░цНочЪДцЦ╣х╝ПхнШхВия╝МцЯешпвчЪДцЧ╢хАЩцМЙчЕзцЧ╢х║ПхжВ 1minуАБ5min чнЙч╗┤х║жцЭецЯешпвуАВ</li></ul> <h4 id="цХ░цНох▒Хчд║"><a href="#цХ░цНох▒Хчд║" class="header-anchor">#</a> цХ░цНох▒Хчд║</h4> <p>цХ░цНох▒Хчд║цШпцККхдДчРЖхРОчЪДцХ░цНоф╗е Dashboard чЪДцЦ╣х╝Пх▒Хчд║ч╗ЩчФицИ╖уАВцХ░цНох▒Хчд║цЬЙхдЪчзНцЦ╣х╝Пя╝МцпФхжВцЫ▓ч║┐хЫ╛уАБще╝чК╢хЫ╛уАБца╝хнРхЫ╛х▒Хчд║чнЙуАВ</p> <h3 id="_5-3-чЫСцОзцКАцЬп"><a href="#_5-3-чЫСцОзцКАцЬп" class="header-anchor">#</a> 5.3. чЫСцОзцКАцЬп</h3> <p><img src="https://raw.githubusercontent.com/dunwu/images/dev/snap/20200716204432.png" alt="img"></p> <ul><li>ELK чЪДцКАцЬпцаИцпФш╛ГцИРчЖЯя╝Мх║ФчФишМГхЫ┤ф╣ЯцпФш╛Гх╣┐я╝МщЩдф║ЖхПпчФиф╜ЬчЫСцОзч│╗ч╗ЯхдЦя╝Мш┐ШхПпф╗ечФиф╜ЬцЧех┐ЧцЯешпвхТМхИЖцЮРуАВ</li> <li>Graphite цШпхЯ║ф║ОцЧ╢щЧ┤х║ПхИЧцХ░цНох║УхнШхВичЪДчЫСцОзч│╗ч╗Яя╝Мх╣╢ф╕ФцПРф╛Ыф║ЖхКЯшГ╜х╝║хдзчЪДхРДчзНшБЪхРИхЗ╜цХ░цпФхжВ sumуАБaverageуАБtop5 чнЙхПпчФиф║ОчЫСцОзхИЖцЮРя╝МшАМф╕Фхп╣хдЦцПРф╛Ыф║Ж API ф╣ЯхПпф╗ецОехЕехЕ╢ф╗ЦхЫ╛х╜вхМЦчЫСцОзч│╗ч╗ЯхжВ GrafanaуАВ</li> <li>TICK чЪДца╕х┐ГхЬиф║ОхЕ╢цЧ╢щЧ┤х║ПхИЧцХ░цНох║У InfluxDB чЪДхнШхВихКЯшГ╜х╝║хдзя╝Мф╕ФцФпцМБч▒╗ф╝╝ SQL шпншиАчЪДхдНцЭВцХ░цНохдДчРЖцУНф╜ЬуАВ</li> <li>Prometheus чЪДчЛмчЙ╣ф╣ЛхдДхЬиф║ОхоГщЗЗчФиф║ЖцЛЙцХ░цНочЪДцЦ╣х╝Пя╝Мхп╣ф╕ЪхКбх╜▒хУНш╛Гх░Пя╝МхРМцЧ╢ф╣ЯщЗЗчФиф║ЖцЧ╢щЧ┤х║ПхИЧцХ░цНох║УхнШхВия╝МшАМф╕ФцФпцМБчЛмцЬЙчЪД PromQL цЯешпвшпншиАя╝МхКЯшГ╜х╝║хдзшАМф╕ФчоАц┤БуАВ</li></ul> <h2 id="_6-цЬНхКбц▓╗чРЖ"><a href="#_6-цЬНхКбц▓╗чРЖ" class="header-anchor">#</a> 6. цЬНхКбц▓╗чРЖ</h2> <p>х╛оцЬНхКбц▓╗чРЖх╣│хП░х░▒цШп<strong>ф╕ОцЬНхКбцЙУф║дщБУчЪДч╗Яф╕АхЕехПг</strong>я╝МцЧашо║цШпх╝АхПСф║║хСШш┐ШцШпш┐Рч╗┤ф║║хСШя╝МщГ╜шГ╜щАЪш┐Зш┐Щф╕кх╣│хП░хп╣цЬНхКбш┐ЫшбМхРДчзНцУНф╜Ья╝МцпФхжВх╝АхПСф║║хСШхПпф╗ещАЪш┐Зш┐Щф╕кх╣│хП░хп╣цЬНхКбш┐ЫшбМщЩНч║зцУНф╜Ья╝Мш┐Рч╗┤ф║║хСШхПпф╗ещАЪш┐Зш┐Щф╕кх╣│хП░хп╣цЬНхКбш┐ЫшбМф╕Кф╕Лч║┐цУНф╜Ья╝МшАМф╕НщЬАшжБхЕ│х┐Гш┐Щф╕кцУНф╜ЬшГМхРОчЪДхЕ╖ф╜УхоЮчО░уАВ</p> <p>х╛оцЬНхКбц▓╗чРЖх╣│хП░хЕ│щФоф╣ЛхдДх░▒хЬиф║ОхоГшГ╜хдЯх░БшгЕхп╣х╛оцЬНхКбцЮ╢цЮДхЖЕчЪДхРДф╕кхЯ║чбАшо╛цЦ╜ч╗Дф╗╢чЪДш░ГчФия╝Мф╗ОшАМхп╣хдЦцПРф╛Ыч╗Яф╕АчЪДцЬНхКбцУНф╜Ь APIя╝МшАМф╕Фш┐ШцПРф╛Ыф║ЖхПпшзЖхМЦчЪДчХМщЭвя╝Мф╗ецЦ╣ф╛┐х╝АхПСф║║хСШхТМш┐Рч╗┤ф║║хСШцУНф╜ЬуАВ</p> <p><img src="https://raw.githubusercontent.com/dunwu/images/dev/snap/20200716203729.png" alt="img"></p> <p>цЬНхКбц▓╗чРЖчЪДх╕╕чФицЙЛцо╡цЬЙя╝Ъ</p> <ul><li>шКВчВ╣чобчРЖ
<ul><li>ц│ихЖМф╕нх┐Гф╕╗хКицСШщЩдцЬ║хИ╢</li> <li>цЬНхКбц╢Иш┤╣шАЕцСШщЩдцЬ║хИ╢</li></ul></li> <li>ш┤Яш╜╜хЭЗшбб
<ul><li>ш╜ошпв</li> <li>щЪПцЬ║</li> <li>цЬАш┐СцЬАх░Сш┐ЮцОе</li> <li>ф╕АшЗ┤цАз Hash</li></ul></li> <li>цЬНхКбш╖пчФ▒
<ul><li>ф╕ЪхКбхнШхЬичБ░х║жхПСх╕ГчЪДщЬАц▒В</li> <li>хдЪцЬ║цИ┐х░▒ш┐Сшо┐щЧочЪДщЬАц▒В</li></ul></li> <li>цЬНхКбхо╣щФЩ
<ul><li>FailOverя╝Ъхд▒ш┤ешЗкхКихИЗцНв</li> <li>FailBackя╝Ъхд▒ш┤ещАЪчЯе</li> <li>FailCacheя╝Ъхд▒ш┤еч╝УхнШ</li> <li>FailFastя╝Ъх┐лщАЯхд▒ш┤е</li></ul></li></ul> <h2 id="_7-api-ч╜СхЕ│"><a href="#_7-api-ч╜СхЕ│" class="header-anchor">#</a> 7. API ч╜СхЕ│</h2> <p>API ч╜СхЕ│цШпф╕Аф╕кцЬНхКбхЩия╝МцШпч│╗ч╗ЯчЪДхФпф╕АхЕехПгуАВф╗ОщЭвхРСхп╣ш▒бшо╛шобчЪДшзТх║жчЬЛя╝МхоГф╕ОхдЦшзВцибх╝Пч▒╗ф╝╝уАВAPI ч╜СхЕ│х░БшгЕф║Жч│╗ч╗ЯхЖЕщГицЮ╢цЮДя╝Мф╕║цпПф╕кховцИ╖члпцПРф╛Ыф╕Аф╕кхоЪхИ╢чЪД APIуАВхоГхПпшГ╜ш┐ШхЕ╖цЬЙхЕ╢хоГшБМш┤гя╝МхжВш║лф╗╜щкМшпБуАБчЫСцОзуАБш┤Яш╜╜хЭЗшббуАБч╝УхнШуАБшп╖ц▒ВхИЖчЙЗф╕ОчобчРЖуАБщЭЩцАБхУНх║ФхдДчРЖуАВ
API ч╜СхЕ│цЦ╣х╝ПчЪДца╕х┐ГшжБчВ╣цШпя╝МцЙАцЬЙчЪДховцИ╖члпхТМц╢Иш┤╣члпщГ╜щАЪш┐Зч╗Яф╕АчЪДч╜СхЕ│цОехЕех╛оцЬНхКбя╝МхЬич╜СхЕ│х▒ВхдДчРЖцЙАцЬЙчЪДщЭЮф╕ЪхКбхКЯшГ╜уАВщАЪх╕╕я╝Мч╜СхЕ│ф╣ЯцШпцПРф╛Ы REST/HTTP чЪДшо┐щЧо APIуАВцЬНхКбчлпщАЪш┐З API-GW ц│ихЖМхТМчобчРЖцЬНхКбуАВ</p> <h3 id="_7-1-zuul"><a href="#_7-1-zuul" class="header-anchor">#</a> 7.1. Zuul</h3> <p><img src="https://raw.githubusercontent.com/dunwu/images/dev/snap/20200716201640.png" alt="img"></p> <p>хЬи zuul ф╕ня╝М цХ┤ф╕кшп╖ц▒ВчЪДш┐ЗчиЛцШпш┐Щца╖чЪДя╝МщжЦхЕИх░Жшп╖ц▒Вч╗Щ zuulservlet хдДчРЖя╝Мzuulservlet ф╕нцЬЙф╕Аф╕к zuulRunner хп╣ш▒бя╝Мшпехп╣ш▒бф╕нхИЭхзЛхМЦф║Ж RequestContextя╝Ъф╜Ьф╕║хнШхВицХ┤ф╕кшп╖ц▒ВчЪДф╕Аф║ЫцХ░цНоя╝Мх╣╢швлцЙАцЬЙчЪД zuulfilter хЕ▒ф║луАВzuulRunner ф╕нш┐ШцЬЙ FilterProcessorя╝МFilterProcessor ф╜Ьф╕║цЙзшбМцЙАцЬЙчЪД zuulfilter чЪДчобчРЖхЩиуАВFilterProcessor ф╗О filterloader ф╕ншО╖хПЦ zuulfilterя╝МшАМ zuulfilter цШпшвл filterFileManager цЙАхКаш╜╜я╝Мх╣╢цФпцМБ groovy чГнхКаш╜╜я╝МщЗЗчФиф║Жш╜ошпвчЪДцЦ╣х╝ПчГнхКаш╜╜уАВцЬЙф║Жш┐Щф║Ы filter ф╣ЛхРОя╝Мzuulservelet щжЦхЕИцЙзшбМчЪД Pre ч▒╗хЮЛчЪДш┐Зц╗дхЩия╝МхЖНцЙзшбМ route ч▒╗хЮЛчЪДш┐Зц╗дхЩия╝МцЬАхРОцЙзшбМчЪДцШп post ч▒╗хЮЛчЪДш┐Зц╗дхЩия╝МхжВцЮЬхЬицЙзшбМш┐Щф║Ыш┐Зц╗дхЩицЬЙщФЩшппчЪДцЧ╢хАЩхИЩф╝ЪцЙзшбМ error ч▒╗хЮЛчЪДш┐Зц╗дхЩиуАВцЙзшбМхоМш┐Щф║Ыш┐Зц╗дхЩия╝МцЬАч╗Их░Жшп╖ц▒ВчЪДч╗УцЮЬш┐ФхЫЮч╗ЩховцИ╖члпуАВ</p> <h2 id="_8-ш┤Яш╜╜хЭЗшбб"><a href="#_8-ш┤Яш╜╜хЭЗшбб" class="header-anchor">#</a> 8. ш┤Яш╜╜хЭЗшбб</h2> <blockquote><p>хПВшАГя╝Ъ<a href="https://github.com/dunwu/blog/blob/master/source/_posts/theory/load-balance.md" target="_blank" rel="noopener noreferrer">ш┤Яш╜╜хЭЗшббхЯ║цЬмхОЯчРЖ<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h2 id="_9-цЬНхКбш╖пчФ▒"><a href="#_9-цЬНхКбш╖пчФ▒" class="header-anchor">#</a> 9. цЬНхКбш╖пчФ▒</h2> <p><strong>цЬНхКбш╖пчФ▒х░▒цШпцЬНхКбц╢Иш┤╣шАЕхЬихПСш╡╖цЬНхКбш░ГчФицЧ╢я╝Мх┐Ещб╗ца╣цНочЙ╣хоЪчЪДшзДхИЩцЭещАЙцЛйцЬНхКбшКВчВ╣я╝Мф╗ОшАМц╗бш╢│цЯРф║ЫчЙ╣хоЪчЪДщЬАц▒В</strong>уАВ</p> <h3 id="_9-1-цЬНхКбш╖пчФ▒чЪДх║ФчФихЬ║цЩп"><a href="#_9-1-цЬНхКбш╖пчФ▒чЪДх║ФчФихЬ║цЩп" class="header-anchor">#</a> 9.1. цЬНхКбш╖пчФ▒чЪДх║ФчФихЬ║цЩп</h3> <ul><li><strong>хИЖч╗Дш░ГчФи</strong>уАВф╕АшИмцЭешо▓я╝Мф╕║ф║Жф┐ЭшпБцЬНхКбчЪДщлШхПпчФицАзя╝МхоЮчО░х╝ВхЬ░хдЪц┤╗чЪДщЬАц▒Вя╝Мф╕Аф╕кцЬНхКбх╛Ах╛Аф╕НцнвщГич╜▓хЬиф╕Аф╕кцХ░цНоф╕нх┐Гя╝МшАМф╕ФхЗ║ф║ОшКВчЬБцИРцЬмчнЙшАГшЩСя╝МцЬЙф║Ыф╕ЪхКбхПпшГ╜ф╕Нф╗ЕхЬичзБцЬЙцЬ║цИ┐щГич╜▓я╝Мш┐Шф╝ЪщЗЗчФихЕмцЬЙф║СщГич╜▓я╝МчФЪшЗ│щЗЗчФихдЪхо╢хЕмцЬЙф║СщГич╜▓уАВцЬНхКбшКВчВ╣ф╣Яф╝ЪцМЙчЕзф╕НхРМчЪДцХ░цНоф╕нх┐ГхИЖцИРф╕НхРМчЪДхИЖч╗Дя╝Мш┐ЩцЧ╢хп╣ф║ОцЬНхКбц╢Иш┤╣шАЕцЭешп┤я╝МщАЙцЛйхУкф╕Аф╕кхИЖч╗Дш░ГчФия╝Мх░▒х┐Ещб╗цЬЙчЫ╕х║ФчЪДш╖пчФ▒шзДхИЩуАВ</li> <li><strong>чБ░х║жхПСх╕Г</strong>уАВхЬицЬНхКбф╕Кч║┐хПСх╕ГчЪДш┐ЗчиЛф╕ня╝Мф╕АшИмщЬАшжБхЕИхЬиф╕Ах░ПщГихИЖшзДцибчЪДцЬНхКбшКВчВ╣ф╕КхЕИхПСх╕ГцЬНхКбя╝МчД╢хРОщкМшпБхКЯшГ╜цШпхРжцнгх╕╕уАВхжВцЮЬцнгх╕╕чЪДшпЭх░▒ч╗зч╗нцЙйхдзхПСх╕ГшМГхЫ┤я╝ЫхжВцЮЬф╕Нцнгх╕╕чЪДшпЭя╝Мх░▒щЬАшжБцОТцЯещЧощвШя╝МшзгхЖ│щЧощвШхРОч╗зч╗нхПСх╕ГуАВш┐Щф╕кш┐ЗчиЛх░▒хПлф╜ЬчБ░х║жхПСх╕Гя╝Мф╣ЯхПлщЗСф╕ЭщЫАщГич╜▓уАВ</li> <li><strong>ц╡БщЗПхИЗцНв</strong>уАВхЬиф╕ЪхКбч║┐ф╕Кш┐РшбМш┐ЗчиЛф╕ня╝Мч╗Пх╕╕ф╝ЪщБЗхИ░ф╕Аф║Ыф╕НхПпцКЧхКЫхЫач┤ахп╝шЗ┤ф╕ЪхКбцХЕщЪЬя╝МцпФхжВцЯРф╕кцЬ║цИ┐чЪДхЕЙч╝ЖшвлцМЦцЦня╝МцИЦшАЕхПСчФЯчЭАчБлчнЙф║ЛцХЕхп╝шЗ┤цХ┤ф╕кцЬ║цИ┐чЪДцЬНхКбщГ╜ф╕НхПпчФиуАВш┐Щф╕кцЧ╢хАЩх░▒щЬАшжБцМЙчЕзцЯРф╕кцМЗф╗дя╝МшГ╜хдЯцККхОЯцЭеш░ГчФиш┐Щф╕кцЬ║цИ┐цЬНхКбчЪДц╡БщЗПхИЗцНвхИ░хЕ╢ф╗Ццнгх╕╕чЪДцЬ║цИ┐уАВ</li> <li><strong>шп╗хЖЩхИЖчж╗</strong>уАВхп╣ф║ОхдзхдЪцХ░ф║ТшБФч╜Сф╕ЪхКбцЭешп┤щГ╜цШпшп╗хдЪхЖЩх░Ся╝МцЙАф╗ехЬиш┐ЫшбМцЬНхКбщГич╜▓чЪДцЧ╢хАЩя╝МхПпф╗ецККшп╗хЖЩхИЖх╝АщГич╜▓я╝МцЙАцЬЙхЖЩцОехПгхПпф╗ещГич╜▓хЬиф╕Аш╡╖я╝МшАМшп╗цОехПгщГич╜▓хЬихПжхдЦчЪДшКВчВ╣ф╕КуАВ</li></ul> <h3 id="_9-2-цЬНхКбш╖пчФ▒чЪДшзДхИЩ"><a href="#_9-2-цЬНхКбш╖пчФ▒чЪДшзДхИЩ" class="header-anchor">#</a> 9.2. цЬНхКбш╖пчФ▒чЪДшзДхИЩ</h3> <p>цЬНхКбш╖пчФ▒ф╕╗шжБцЬЙф╕дчзНшзДхИЩя╝Ъф╕АчзНцШпцЭбф╗╢ш╖пчФ▒я╝Мф╕АчзНцШпшДЪцЬмш╖пчФ▒уАВ</p> <h4 id="цЭбф╗╢ш╖пчФ▒"><a href="#цЭбф╗╢ш╖пчФ▒" class="header-anchor">#</a> цЭбф╗╢ш╖пчФ▒</h4> <p>цЭбф╗╢ш╖пчФ▒цШпхЯ║ф║ОцЭбф╗╢шбиш╛╛х╝ПчЪДш╖пчФ▒шзДхИЩуАВ</p> <div class="language- extra-class"><pre class="language-text"><code>condition://0.0.0.0/dubbo.test.interfaces.TestService?category=routers&amp;dynamic=true&amp;priority=2&amp;enabled=true&amp;rule=&quot; + URL.encode(&quot; host = 10.20.153.10=&gt; host = 10.20.153.11&quot;)
</code></pre></div><p>ш┐ЩщЗМщЭв <code>condition://</code> ф╗гшбиф║Жш┐ЩцШпф╕Ацо╡чФицЭбф╗╢шбиш╛╛х╝Пч╝ЦхЖЩчЪДш╖пчФ▒шзДхИЩя╝МхЕ╖ф╜УчЪДшзДхИЩцШп</p> <div class="language- extra-class"><pre class="language-text"><code>host = 10.20.153.10 =&gt; host = 10.20.153.11
</code></pre></div><p>хИЖщЪФчмжтАЬ=&gt;тАЭхЙНщЭвцШпцЬНхКбц╢Иш┤╣шАЕчЪДхМ╣щЕНцЭбф╗╢я╝МхРОщЭвцШпцЬНхКбцПРф╛ЫшАЕчЪДш┐Зц╗дцЭбф╗╢уАВх╜УцЬНхКбц╢Иш┤╣шАЕшКВчВ╣ц╗бш╢│хМ╣щЕНцЭбф╗╢цЧ╢я╝Мх░▒хп╣шпецЬНхКбц╢Иш┤╣шАЕцЙзшбМхРОщЭвчЪДш┐Зц╗дшзДхИЩуАВщВгф╣Иф╕КщЭвш┐Щцо╡шбиш╛╛х╝Пшбиш╛╛чЪДцДПф╣Йх░▒цШп IP ф╕║тАЬ10.20.153.10тАЭчЪДцЬНхКбц╢Иш┤╣шАЕщГ╜ш░ГчФи IP ф╕║тАЬ10.20.153.11тАЭчЪДцЬНхКбцПРф╛ЫшАЕшКВчВ╣уАВ</p> <p>хжВцЮЬцЬНхКбц╢Иш┤╣шАЕчЪДхМ╣щЕНцЭбф╗╢ф╕║чй║я╝Мх░▒шбичд║хп╣цЙАцЬЙчЪДцЬНхКбц╢Иш┤╣шАЕх║ФчФия╝Мх░▒хГПф╕ЛщЭвчЪДшбиш╛╛х╝Пф╕Аца╖уАВ</p> <div class="language- extra-class"><pre class="language-text"><code>=&gt; host я╝Б= 10.20.153.11
</code></pre></div><p>хжВцЮЬцЬНхКбцПРф╛ЫшАЕчЪДш┐Зц╗дцЭбф╗╢ф╕║чй║я╝Мх░▒шбичд║чжБцнвцЬНхКбц╢Иш┤╣шАЕшо┐щЧоя╝Мх░▒хГПф╕ЛщЭвчЪДшбиш╛╛х╝Пф╕Аца╖уАВ</p> <div class="language- extra-class"><pre class="language-text"><code>host = 10.20.153.10=&gt;
</code></pre></div><p>ф╕ЛщЭвцИСф╕╛ф╕Аф║Ы Dubbo цбЖцЮ╢ф╕нчЪДцЭбф╗╢ш╖пчФ▒я╝МцЭеч╗Щф╜ашо▓шзгф╕ЛцЭбф╗╢ш╖пчФ▒чЪДхЕ╖ф╜Ух║ФчФихЬ║цЩпуАВ</p> <ul><li>цОТщЩдцЯРф╕кцЬНхКбшКВчВ╣</li></ul> <div class="language- extra-class"><pre class="language-text"><code>=&gt; host != 172.22.3.91
</code></pre></div><p>ф╕АцЧжш┐ЩцЭбш╖пчФ▒шзДхИЩшвлх║ФчФихИ░ч║┐ф╕Кя╝МцЙАцЬЙчЪДцЬНхКбц╢Иш┤╣шАЕщГ╜ф╕Нф╝Ъшо┐щЧо IP ф╕║ 172.22.3.91 чЪДцЬНхКбшКВчВ╣я╝Мш┐ЩчзНш╖пчФ▒шзДхИЩф╕АшИмх║ФчФихЬич║┐ф╕Кц╡БщЗПцОТщЩдщвДхПСх╕ГцЬ║ф╗ехПКцСШщЩдцЯРф╕кцХЕщЪЬшКВчВ╣чЪДхЬ║цЩпуАВ</p> <ul><li>чЩ╜хРНхНХхТМщ╗СхРНхНХхКЯшГ╜</li></ul> <div class="language- extra-class"><pre class="language-text"><code>host != 10.20.153.10,10.20.153.11 =&gt;
</code></pre></div><p>ш┐ЩцЭбш╖пчФ▒шзДхИЩцДПцАЭцШпщЩдф║Ж IP ф╕║ 10.20.153.10 хТМ 10.20.153.11 чЪДцЬНхКбц╢Иш┤╣шАЕхПпф╗ехПСш╡╖цЬНхКбш░ГчФиф╗ехдЦя╝МхЕ╢ф╗ЦцЬНхКбц╢Иш┤╣шАЕщГ╜ф╕НхПпф╗ея╝Мф╕╗шжБчФиф║ОчЩ╜хРНхНХшо┐щЧощА╗ш╛Ся╝МцпФхжВцЯРф╕кхРОхП░цЬНхКбхПкхЕБшо╕чЙ╣хоЪчЪДхЗахП░цЬ║хЩицЙНхПпф╗ешо┐щЧоя╝Мш┐Щца╖чЪДшпЭхПпф╗ецЬ║хЩицОзхИ╢шо┐щЧоцЭГщЩРуАВ</p> <div class="language- extra-class"><pre class="language-text"><code>host = 10.20.153.10,10.20.153.11 =&gt;
</code></pre></div><p>хРМчРЖя╝Мш┐ЩцЭбш╖пчФ▒шзДхИЩцДПцАЭцШпщЩдф║Ж IP ф╕║ 10.20.153.10 хТМ 10.20.153.11 чЪДцЬНхКбц╢Иш┤╣шАЕф╕НшГ╜хПСш╡╖цЬНхКбш░ГчФиф╗ехдЦя╝МхЕ╢ф╗ЦцЬНхКбц╢Иш┤╣шАЕщГ╜хПпф╗ея╝Мф╣Ях░▒цШпхоЮчО░ф║Жщ╗СхРНхНХхКЯшГ╜я╝МцпФхжВч║┐ф╕Кч╗Пх╕╕ф╝ЪщБЗхИ░цЯРф║Ыш░ГчФицЦ╣ф╕НчобцШпхЗ║ф║ОцЬЙцДПш┐ШцШпцЧацДПчЪДф╕НхРИчРЖш░ГчФия╝Мх╜▒хУНф║ЖцЬНхКбчЪДчи│хоЪцАзя╝Мш┐ЩцЧ╢хАЩхПпф╗ещАЪш┐Зщ╗СхРНхНХхКЯшГ╜цЪВцЧ╢ф║Иф╗ех░БцЭАуАВ</p> <ul><li>цЬ║цИ┐щЪФчж╗</li></ul> <div class="language- extra-class"><pre class="language-text"><code>host = 172.22.3.* =&gt; host = 172.22.3.*
</code></pre></div><p>ш┐ЩцЭбш╖пчФ▒шзДхИЩцДПцАЭцШп IP ч╜Сцо╡ф╕║ 172.22.3.* чЪДцЬНхКбц╢Иш┤╣шАЕя╝МцЙНхПпф╗ешо┐щЧохРМч╜Сцо╡чЪДцЬНхКбшКВчВ╣я╝Мш┐ЩчзНшзДхИЩф╕АшИмх║ФчФиф║ОцЬНхКбщГич╜▓хЬихдЪф╕к IDCя╝МчРЖшо║ф╕КхРМф╕Аф╕к IDC хЖЕчЪДш░ГчФицАзшГ╜шжБцпФш╖и IDC ш░ГчФицАзшГ╜шжБхе╜я╝Мх║ФчФиш┐Щф╕кшзДхИЩцШпф╕║ф║ЖхоЮчО░хРМ IDC х░▒ш┐Сшо┐щЧоуАВ</p> <ul><li>шп╗хЖЩхИЖчж╗</li></ul> <div class="language- extra-class"><pre class="language-text"><code>method = find*,list*,get*,is* =&gt; host =172.22.3.94,172.22.3.95
method != find*,list*,get*,is* =&gt; host = 172.22.3.97,172.22.3.98
</code></pre></div><p>ш┐ЩцЭбш╖пчФ▒шзДхИЩцДПцАЭцШп find*уАБget*уАБis* чнЙшп╗цЦ╣ц│Хш░ГчФи IP ф╕║ 172.22.3.94 хТМ 172.22.3.95 чЪДшКВчВ╣я╝МщЩдцндф╗ехдЦчЪДхЖЩцЦ╣ц│Хш░ГчФи IP ф╕║ 172.22.3.97 хТМ 172.22.3.98 чЪДшКВчВ╣уАВхп╣ф║ОхдзщГихИЖф║ТшБФч╜Сф╕ЪхКбцЭешп┤я╝Мх╛Ах╛Ашп╗шп╖ц▒ВшжБш┐Ьш┐Ьхдзф║ОхЖЩшп╖ц▒Вя╝МшАМхЖЩшп╖ц▒ВчЪДщЗНшжБцАзх╛Ах╛АшжБш┐Ьш┐ЬщлШф║Ошп╗шп╖ц▒Вя╝МцЙАф╗ещЬАшжБцККшп╗хЖЩшп╖ц▒Вш┐ЫшбМхИЖчж╗я╝Мф╗ещБ┐хЕНшп╗шп╖ц▒Вх╝Вх╕╕х╜▒хУНхИ░хЖЩшп╖ц▒Вя╝Мш┐ЩцЧ╢хАЩх░▒хПпф╗ех║ФчФиш┐ЩчзНшзДхИЩуАВ</p> <h4 id="шДЪцЬмш╖пчФ▒"><a href="#шДЪцЬмш╖пчФ▒" class="header-anchor">#</a> шДЪцЬмш╖пчФ▒</h4> <p>шДЪцЬмш╖пчФ▒цШпхЯ║ф║ОшДЪцЬмшпншиАчЪДш╖пчФ▒шзДхИЩя╝Мх╕╕чФичЪДшДЪцЬмшпншиАцпФхжВ JavaScriptуАБGroovyуАБJRuby чнЙуАВ</p> <div class="language- extra-class"><pre class="language-text"><code>&quot;script://0.0.0.0/com.foo.BarService?category=routers&amp;dynamic=false&amp;rule=&quot; + URL.encode(&quot;я╝Иfunction route(invokers) { ... } (invokers)я╝Й&quot;)
</code></pre></div><p>ш┐ЩщЗМщЭвтАЬscript://тАЭх░▒ф╗гшбиф║Жш┐ЩцШпф╕Ацо╡шДЪцЬмшпншиАч╝ЦхЖЩчЪДш╖пчФ▒шзДхИЩя╝МхЕ╖ф╜УшзДхИЩхоЪф╣ЙхЬишДЪцЬмшпншиАчЪД route цЦ╣ц│ХхоЮчО░щЗМя╝МцпФхжВф╕ЛщЭвш┐Щцо╡чФи JavaScript ч╝ЦхЖЩчЪД route() цЦ╣ц│Хшбиш╛╛чЪДцДПцАЭцШпя╝МхПкцЬЙ IP ф╕║ 10.20.153.10 чЪДцЬНхКбц╢Иш┤╣шАЕхПпф╗ехПСш╡╖цЬНхКбш░ГчФиуАВ</p> <div class="language- extra-class"><pre class="language-text"><code>function route(invokers){
  var result = new java.util.ArrayList(invokers.size());
  for(i =0; i &lt; invokers.size(); i ++){
    if(&quot;10.20.153.10&quot;.equals(invokers.get(i).getUrl().getHost())){ 
       result.add(invokers.get(i));
    } 
  }
  return result; 
 } (invokers)я╝Й;
</code></pre></div><h3 id="_9-3-цЬНхКбш╖пчФ▒чЪДшО╖хПЦцЦ╣х╝П"><a href="#_9-3-цЬНхКбш╖пчФ▒чЪДшО╖хПЦцЦ╣х╝П" class="header-anchor">#</a> 9.3. цЬНхКбш╖пчФ▒чЪДшО╖хПЦцЦ╣х╝П</h3> <p>цЬНхКбш╖пчФ▒чЪДшО╖хПЦцЦ╣х╝Пф╕╗шжБцЬЙф╕ЙчзНя╝Ъ</p> <ul><li>цЬмхЬ░щЕНч╜о</li></ul> <p>щб╛хРНцАЭф╣Йх░▒цШпш╖пчФ▒шзДхИЩхнШхВихЬицЬНхКбц╢Иш┤╣шАЕцЬмхЬ░ф╕КуАВцЬНхКбц╢Иш┤╣шАЕхПСш╡╖ш░ГчФицЧ╢я╝Мф╗ОцЬмхЬ░хЫ║хоЪф╜Нч╜ошп╗хПЦш╖пчФ▒шзДхИЩя╝МчД╢хРОцМЙчЕзш╖пчФ▒шзДхИЩщАЙхПЦф╕Аф╕кцЬНхКбшКВчВ╣хПСш╡╖ш░ГчФиуАВ</p> <ul><li>щЕНч╜оф╕нх┐ГчобчРЖ</li></ul> <p>ш┐ЩчзНцЦ╣х╝Пф╕Ля╝МцЙАцЬЙчЪДцЬНхКбц╢Иш┤╣шАЕщГ╜ф╗ОщЕНч╜оф╕нх┐ГшО╖хПЦш╖пчФ▒шзДхИЩя╝МчФ▒щЕНч╜оф╕нх┐ГцЭеч╗Яф╕АчобчРЖуАВ</p> <ul><li>хКицАБф╕ЛхПС</li></ul> <p>ш┐ЩчзНцЦ╣х╝Пф╕Ля╝Мф╕АшИмцШпш┐Рч╗┤ф║║хСШцИЦшАЕх╝АхПСф║║хСШя╝МщАЪш┐ЗцЬНхКбц▓╗чРЖх╣│хП░ф┐оцФ╣ш╖пчФ▒шзДхИЩя╝МцЬНхКбц▓╗чРЖх╣│хП░ш░ГчФищЕНч╜оф╕нх┐ГцОехПгя╝МцККф┐оцФ╣хРОчЪДш╖пчФ▒шзДхИЩцМБф╣ЕхМЦхИ░щЕНч╜оф╕нх┐ГуАВхЫаф╕║цЬНхКбц╢Иш┤╣шАЕшовщШЕф║Жш╖пчФ▒шзДхИЩчЪДхПШцЫ┤я╝Мф║ОцШпх░▒ф╝Ъф╗ОщЕНч╜оф╕нх┐ГшО╖хПЦцЬАцЦ░чЪДш╖пчФ▒шзДхИЩя╝МцМЙчЕзцЬАцЦ░чЪДш╖пчФ▒шзДхИЩцЭецЙзшбМуАВ</p> <h3 id="_9-4-хЖЕщГицЬНхКбш░ГчФи"><a href="#_9-4-хЖЕщГицЬНхКбш░ГчФи" class="header-anchor">#</a> 9.4. хЖЕщГицЬНхКбш░ГчФи</h3> <p>хЯ║чбАцЬНхКбф╣ЛщЧ┤чЪДш░ГчФия╝Ъч╗УхРИцЬНхКбц│ихЖМф╕нх┐Гф╗ехПКф╕Ух▒ЮчЪДхЕ╖цЬЙш┤Яш╜╜хЭЗшббхКЯшГ╜чЪДховцИ╖члпя╝МхжВ Eureka+я╝ИrestTemplate+Ribbonя╝ЙцИЦшАЕ Eureka+Feign
шБЪхРИцЬНхКбш░ГчФия╝Ъч╗УхРИцЬНхКбц│ихЖМф╕нх┐Гф╗ехПКф╕Ух▒ЮчЪДхЕ╖цЬЙш┤Яш╜╜хЭЗшббхКЯшГ╜чЪДховцИ╖члпя╝МхжВ Eureka+я╝ИrestTemplate+Ribbonя╝ЙцИЦшАЕ Eureka+Feign</p> <p><img src="https://raw.githubusercontent.com/dunwu/images/dev/snap/20200716202409.png" alt="img"></p> <h3 id="_9-5-хдЦщГицЬНхКбш░ГчФи"><a href="#_9-5-хдЦщГицЬНхКбш░ГчФи" class="header-anchor">#</a> 9.5. хдЦщГицЬНхКбш░ГчФи</h3> <p>хЯ║ф║О Netflix чЪД zuulя╝МхБЪф║ЖчоАхНХф║Жшзгя╝МSpringCloud ф╕О zuul щЫЖцИРчЪДцЦ╣х╝ПуАВш┐ЩщЗМхЕИхп╣ца╕х┐Гц╡БчиЛхБЪф╕кчоАхНХф║Жшзгя╝МхРОч╗нф╝ЪцЬЙц╖▒хЕечЪДх║ФчФиуАБхИЖцЮРуАВ</p> <p>Spring Cloud х╛Ихе╜чЪДщЫЖцИРф║Ж zuulя╝Мх╣╢ф╕ФхПпф╗ещАЪш┐Зц│ишзгчЪДх╜вх╝ПцЭеш┐ЫшбМшп╖ц▒ВчЪДхПНхРСш╖пчФ▒ф╗ехПК API ч╜СхЕ│хКЯшГ╜
Spring Cloud щЫЖцИР zuulя╝Мхп╣ф╕О url цШах░ДчЪДхдДчРЖцЦ╣х╝Пф╕О SpringMVC хп╣ url чЪДшп╖ц▒ВцЦ╣х╝Пч▒╗ф╝╝я╝МщГ╜цШпщАЪш┐З RequestMapping цЭеш┐ЫшбМшп╖ц▒Вч╗СхоЪчЪДуАВца╕х┐Гч▒╗я╝ЪZuulHandlerMapping
zuul чЪДца╕х┐ГцШп ZuulServletя╝Мф╕Аф╕кшп╖ц▒Вца╕х┐Гц╡БчиЛя╝ЪHttpServletRequest тАУ&gt;ZuulHandlerMapping тАУ&gt;ZuulController тАУ&gt; ZuulServlet тАУ&gt; ZuulFilter тАУ&gt; HttpServletResponse</p> <h2 id="_10-щЕНч╜оф╕нх┐Г"><a href="#_10-щЕНч╜оф╕нх┐Г" class="header-anchor">#</a> 10. щЕНч╜оф╕нх┐Г</h2> <p>щЕНч╜оф╕нх┐ГчЪДцАЭш╖пх░▒цШпцККцЬНхКбчЪДхРДчзНщЕНч╜оя╝МхжВф╗гчаБщЗМщЕНч╜очЪДхРДчзНхПВцХ░уАБцЬНхКбщЩНч║зчЪДх╝АхЕ│чФЪшЗ│ф╛Эш╡ЦчЪДш╡Дц║РчнЙщГ╜хЬиф╕Аф╕кхЬ░цЦ╣ч╗Яф╕Аш┐ЫшбМчобчРЖуАВцЬНхКбхРпхКицЧ╢я╝МхПпф╗ешЗкхКиф╗ОщЕНч╜оф╕нх┐Гф╕нцЛЙхПЦцЙАщЬАчЪДщЕНч╜оя╝Мх╣╢ф╕ФхжВцЮЬцЬЙщЕНч╜охПШцЫ┤чЪДцГЕхЖ╡я╝МхРМца╖хПпф╗ешЗкхКиф╗ОщЕНч╜оф╕нх┐ГцЛЙхПЦцЬАцЦ░чЪДщЕНч╜оф┐бцБпя╝МцЬНхКбцЧащб╗щЗНцЦ░хПСх╕ГуАВ</p> <p>щЕНч╜оф╕нх┐Гф╕АшИмхМЕхРлф╕ЛщЭвхЗаф╕кхКЯшГ╜я╝Ъ</p> <ul><li>щЕНч╜оц│ихЖМхКЯшГ╜</li> <li>щЕНч╜охПНц│ихЖМхКЯшГ╜</li> <li>щЕНч╜оцЯечЬЛхКЯшГ╜</li> <li>щЕНч╜охПШцЫ┤шовщШЕхКЯшГ╜</li></ul> <h3 id="_10-1-apollo"><a href="#_10-1-apollo" class="header-anchor">#</a> 10.1. Apollo</h3> <p>цР║чиЛх╝Ац║РчЪДхИЖх╕Гх╝ПщЕНч╜оф╕нх┐Гя╝МцФпцМБ Java хТМ.Net шпншиАя╝МховцИ╖члпхТМщЕНч╜оф╕нх┐ГщАЪш┐З HTTP щХ┐ш┐ЮцОехоЮчО░хоЮцЧ╢цОищАБя╝Мх╣╢ф╕ФцЬЙч╗Яф╕АчЪДчобчРЖчХМщЭвцЭехоЮчО░щЕНч╜очобчРЖуАВ</p> <p><img src="https://mmbiz.qpic.cn/mmbiz_png/ELH62gpbFmGdnIjxDT7AOQyZgl2KQnz68zZFSDpHfa80ppne7gbP4ROOLJSuZT7E2uEdf1OTR9zthLNFkIZSLQ/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="img"></p> <h3 id="_10-2-spring-cloud-git"><a href="#_10-2-spring-cloud-git" class="header-anchor">#</a> 10.2. Spring Cloud Git</h3> <p>Spring Cloud ф╕нф╜┐чФичЪДщЕНч╜оф╕нх┐Гч╗Дф╗╢я╝МхПкцФпцМБ Java шпншиАя╝МщЕНч╜охнШхВихЬи git ф╕ня╝МхПШцЫ┤щЕНч╜оф╣ЯщЬАшжБщАЪш┐З git цУНф╜Ья╝МхжВцЮЬщЕНч╜оф╕нх┐ГцЬЙщЕНч╜охПШцЫ┤я╝МщЬАшжБцЙЛхКихИ╖цЦ░уАВ</p> <p><img src="https://raw.githubusercontent.com/dunwu/images/dev/snap/20200716202911.png" alt="img"></p> <h2 id="_11-щУ╛ш╖пш┐╜ш╕к"><a href="#_11-щУ╛ш╖пш┐╜ш╕к" class="header-anchor">#</a> 11. щУ╛ш╖пш┐╜ш╕к</h2> <h3 id="_11-1-щУ╛ш╖пш┐╜ш╕кчЪДф╜ЬчФи"><a href="#_11-1-щУ╛ш╖пш┐╜ш╕кчЪДф╜ЬчФи" class="header-anchor">#</a> 11.1. щУ╛ш╖пш┐╜ш╕кчЪДф╜ЬчФи</h3> <ul><li>ф╝ШхМЦч│╗ч╗ЯчУ╢щвИ</li> <li>ф╝ШхМЦщУ╛ш╖пш░ГчФи</li> <li>чФЯцИРч╜Сч╗ЬцЛУцЙС</li> <li>щАПцШОф╝аш╛УцХ░цНо</li></ul> <h3 id="_11-2-щУ╛ш╖пш┐╜ш╕кчЪДхОЯчРЖ"><a href="#_11-2-щУ╛ш╖пш┐╜ш╕кчЪДхОЯчРЖ" class="header-anchor">#</a> 11.2. щУ╛ш╖пш┐╜ш╕кчЪДхОЯчРЖ</h3> <p>чРЖшзгщУ╛ш╖пш┐╜ш╕кх┐Ещб╗хЕИф║Жшзгф╗еф╕ЛцжВх┐╡я╝Ъ</p> <ul><li><strong>traceId</strong>я╝МчФиф║ОцаЗшпЖцЯРф╕АцмбхЕ╖ф╜УчЪДшп╖ц▒В IDуАВх╜УчФицИ╖чЪДшп╖ц▒Вш┐ЫхЕеч│╗ч╗ЯхРОя╝Мф╝ЪхЬи RPC ш░ГчФич╜Сч╗ЬчЪДчммф╕Ах▒ВчФЯцИРф╕Аф╕кхЕих▒АхФпф╕АчЪД traceIdя╝Мх╣╢ф╕Фф╝ЪщЪПчЭАцпПф╕Ах▒ВчЪД RPC ш░ГчФия╝Мф╕НцЦнх╛АхРОф╝ащАТя╝Мш┐Щца╖чЪДшпЭщАЪш┐З traceId х░▒хПпф╗ецККф╕АцмбчФицИ╖шп╖ц▒ВхЬич│╗ч╗Яф╕нш░ГчФичЪДш╖пх╛Дф╕▓шБФш╡╖цЭеуАВ</li> <li><strong>spanId</strong>я╝МчФиф║ОцаЗшпЖф╕Ацмб RPC ш░ГчФихЬихИЖх╕Гх╝Пшп╖ц▒Вф╕нчЪДф╜Нч╜оуАВх╜УчФицИ╖чЪДшп╖ц▒Вш┐ЫхЕеч│╗ч╗ЯхРОя╝МхдДхЬи RPC ш░ГчФич╜Сч╗ЬчЪДчммф╕Ах▒В A цЧ╢ spanId хИЭхзЛхА╝цШп 0я╝Мш┐ЫхЕеф╕Лф╕Ах▒В RPC ш░ГчФи B чЪДцЧ╢хАЩ spanId цШп 0.1я╝Мч╗зч╗нш┐ЫхЕеф╕Лф╕Ах▒В RPC ш░ГчФи C цЧ╢ spanId цШп 0.1.1я╝МшАМф╕О B хдДхЬихРМф╕Ах▒ВчЪД RPC ш░ГчФи E чЪД spanId цШп 0.2я╝Мш┐Щца╖чЪДшпЭщАЪш┐З spanId х░▒хПпф╗ехоЪф╜НцЯРф╕Ацмб RPC шп╖ц▒ВхЬич│╗ч╗Яш░ГчФиф╕нцЙАхдДчЪДф╜Нч╜оя╝Мф╗ехПКхоГчЪДф╕Кф╕Лц╕╕ф╛Эш╡ЦхИЖхИлцШпш░БуАВ</li> <li><strong>annotation</strong>я╝МчФиф║Оф╕ЪхКбшЗкхоЪф╣ЙхЯЛчВ╣цХ░цНоя╝МхПпф╗ецШпф╕ЪхКбцДЯхЕ┤ш╢гчЪДцГ│ф╕Кф╝ахИ░хРОчлпчЪДцХ░цНоя╝МцпФхжВф╕Ацмбшп╖ц▒ВчЪДчФицИ╖ UIDуАВ</li></ul> <p><img src="https://raw.githubusercontent.com/dunwu/images/dev/snap/20200716204658.png" alt="img"></p> <h3 id="_11-3-щУ╛ш╖пш┐╜ш╕кчЪДхоЮчО░"><a href="#_11-3-щУ╛ш╖пш┐╜ш╕кчЪДхоЮчО░" class="header-anchor">#</a> 11.3. щУ╛ш╖пш┐╜ш╕кчЪДхоЮчО░</h3> <p>ф╕Аф╕кцЬНхКбш┐╜ш╕кч│╗ч╗Яф╕АшИмхПпф╗ехИЖф╕║ф╕Йх▒Вя╝Ъ</p> <ul><li><strong>цХ░цНощЗЗщЫЖ</strong>х▒Вя╝Мш┤Яш┤гцХ░цНохЯЛчВ╣х╣╢ф╕КцКеуАВ</li> <li><strong>цХ░цНохдДчРЖ</strong>х▒Вя╝Мш┤Яш┤гцХ░цНочЪДхнШхВиф╕ОшобчоЧуАВ</li> <li><strong>цХ░цНох▒Хчд║</strong>х▒Вя╝Мш┤Яш┤гцХ░цНочЪДхЫ╛х╜вхМЦх▒Хчд║уАВ</li></ul> <h4 id="цХ░цНощЗЗщЫЖх▒В"><a href="#цХ░цНощЗЗщЫЖх▒В" class="header-anchor">#</a> цХ░цНощЗЗщЫЖх▒В</h4> <p>ф╕Ацмб RPC шп╖ц▒ВхПпф╗ехИЖф╕║хЫЫф╕кщШ╢цо╡уАВ</p> <ul><li>CSя╝ИClient Sendя╝ЙщШ╢цо╡ : ховцИ╖члпхПСш╡╖шп╖ц▒Вя╝Мх╣╢чФЯцИРш░ГчФичЪДф╕Кф╕ЛцЦЗуАВ</li> <li>SRя╝ИServer Recieveя╝ЙщШ╢цо╡ : цЬНхКбчлпцОецФ╢шп╖ц▒Вя╝Мх╣╢чФЯцИРф╕Кф╕ЛцЦЗуАВ</li> <li>SSя╝ИServer Sendя╝ЙщШ╢цо╡ : цЬНхКбчлпш┐ФхЫЮшп╖ц▒Вя╝Мш┐Щф╕кщШ╢цо╡ф╝Ъх░ЖцЬНхКбчлпф╕Кф╕ЛцЦЗцХ░цНоф╕КцКея╝Мф╕ЛщЭвш┐Щх╝ахЫ╛хПпф╗ешп┤цШОф╕КцКечЪДцХ░цНоцЬЙя╝ЪtraceId=123456я╝МspanId=0.1я╝МappKey=Bя╝Мmethod=B.methodя╝Мstart=103я╝Мduration=38уАВ</li> <li>CRя╝ИClient Recieveя╝ЙщШ╢цо╡ : ховцИ╖члпцОецФ╢ш┐ФхЫЮч╗УцЮЬя╝Мш┐Щф╕кщШ╢цо╡ф╝Ъх░ЖховцИ╖члпф╕Кф╕ЛцЦЗцХ░цНоф╕КцКея╝Мф╕КцКечЪДцХ░цНоцЬЙя╝Ъtraceid=123456я╝МspanId=0.1я╝МappKey=Aя╝Мmethod=B.methodя╝Мstart=103я╝Мduration=38уАВ</li></ul> <h4 id="цХ░цНохдДчРЖх▒В"><a href="#цХ░цНохдДчРЖх▒В" class="header-anchor">#</a> цХ░цНохдДчРЖх▒В</h4> <p>цХ░цНохдДчРЖх▒ВчЪДф╜ЬчФих░▒цШпцККцХ░цНощЗЗщЫЖх▒Вф╕КцКечЪДцХ░цНоцМЙщЬАшобчоЧя╝МчД╢хРОшР╜хЬ░хнШхВиф╛ЫцЯешпвф╜┐чФиуАВ</p> <ul><li>хоЮцЧ╢цХ░цНохдДчРЖ</li></ul> <p>щТИхп╣хоЮцЧ╢цХ░цНохдДчРЖя╝Мф╕АшИмщЗЗчФи Storm цИЦшАЕ Spark Streaming цЭехп╣щУ╛ш╖пцХ░цНош┐ЫшбМхоЮцЧ╢шБЪхРИхКах╖ея╝МхнШхВиф╕АшИмф╜┐чФи OLTP цХ░цНоф╗Ух║Уя╝МцпФхжВ HBaseя╝Мф╜┐чФи traceId ф╜Ьф╕║ RowKeyя╝МшГ╜хдйчД╢хЬ░цККф╕АцХ┤цЭбш░ГчФищУ╛шБЪхРИхЬиф╕Аш╡╖я╝МцПРщлШцЯешпвцХИчОЗуАВ</p> <ul><li>чж╗ч║┐цХ░цНохдДчРЖ</li></ul> <p>щТИхп╣чж╗ч║┐цХ░цНохдДчРЖя╝Мф╕АшИмщАЪш┐Зш┐РшбМ MapReduce цИЦшАЕ Spark цЙ╣хдДчРЖчиЛх║ПцЭехп╣щУ╛ш╖пцХ░цНош┐ЫшбМчж╗ч║┐шобчоЧя╝МхнШхВиф╕АшИмф╜┐чФи HiveуАВ</p> <h4 id="цХ░цНох▒Хчд║х▒В"><a href="#цХ░цНох▒Хчд║х▒В" class="header-anchor">#</a> цХ░цНох▒Хчд║х▒В</h4> <p>цХ░цНох▒Хчд║х▒ВчЪДф╜ЬчФих░▒цШпх░ЖхдДчРЖхРОчЪДщУ╛ш╖пф┐бцБпф╗ехЫ╛х╜вхМЦчЪДцЦ╣х╝Пх▒Хчд║ч╗ЩчФицИ╖уАВ</p> <p>хоЮщЩЕщб╣чЫоф╕нф╕╗шжБчФихИ░ф╕дчзНхЫ╛х╜вх▒Хчд║я╝Мф╕АчзНцШпш░ГчФищУ╛ш╖пхЫ╛я╝Мф╕АчзНцШпш░ГчФицЛУцЙСхЫ╛уАВ</p> <h3 id="_11-4-щУ╛ш╖пш┐╜ш╕кцЦ╣цбИхп╣цпФ"><a href="#_11-4-щУ╛ш╖пш┐╜ш╕кцЦ╣цбИхп╣цпФ" class="header-anchor">#</a> 11.4. щУ╛ш╖пш┐╜ш╕кцЦ╣цбИхп╣цпФ</h3> <p><img src="https://raw.githubusercontent.com/dunwu/images/dev/snap/20200716205052.png" alt="img"></p> <h2 id="_12-щЩРц╡БчЖФцЦн"><a href="#_12-щЩРц╡БчЖФцЦн" class="header-anchor">#</a> 12. щЩРц╡БчЖФцЦн</h2> <p>ф╕АшИмшАМшиАя╝МщЫЖч╛дцХЕщЪЬчЪДф║зчФЯхОЯхЫаф╕НхдЦф╣ОцЬЙф╕дчзНя╝Ъ</p> <p>ф╕АчзНцШпф╗гчаБ bug цЙАхп╝шЗ┤я╝МцпФхжВшп┤цЯРф╕Ацо╡ Java ф╗гчаБф╕НцЦнхЬ░хИЖщЕНхдзхп╣ш▒бя╝Мф╜Жц▓бцЬЙхПКцЧ╢хЫЮцФ╢хп╝шЗ┤ JVM OOM щААхЗ║я╝Ы</p> <p>хПжф╕АчзНцШпчкБхПСчЪДц╡БщЗПхЖ▓хЗ╗я╝Мш╢ЕхЗ║ф║Жч│╗ч╗ЯчЪДцЬАхдзцЙ┐ш╜╜шГ╜хКЫя╝МцпФхжВтАЬхПМ 11тАЭш┐ЩчзНш┤нчЙйц┤╗хКия╝МчФ╡хХЖч│╗ч╗Яф╝ЪхЬищЫ╢чВ╣ф╕АчЮмщЧ┤ц╢МхЕехдзщЗПц╡БщЗПя╝Мш╢ЕхЗ║ч│╗ч╗ЯчЪДцЬАхдзцЙ┐ш╜╜шГ╜хКЫя╝Мф╕Аф╕ЛхнРх░▒цККцХ┤ф╕кч│╗ч╗Яч╗ЩхОЛхЮоф║ЖуАВ</p> <p>х║Фф╗ШщЫЖч╛дцХЕщЪЬчЪДцАЭш╖пя╝Мф╕╗шжБцЬЙф╕дчзНя╝Ъ<strong>щЩРц╡Б</strong>хТМ<strong>щЩНч║з</strong>уАВ</p> <h3 id="_12-1-щЩРц╡Б"><a href="#_12-1-щЩРц╡Б" class="header-anchor">#</a> 12.1. щЩРц╡Б</h3> <p>щЩРц╡Бх░▒цШпщЩРхИ╢ц╡БщЗПуАВщАЪх╕╕цГЕхЖ╡ф╕Ля╝Мч│╗ч╗ЯшГ╜хдЯцЙ┐ш╜╜чЪДц╡БщЗПца╣цНощЫЖч╛дшзДцибчЪДхдзх░ПцШпхЫ║хоЪчЪДя╝МхПпф╗ечз░ф╣Лф╕║ч│╗ч╗ЯчЪДцЬАхдзхо╣щЗПуАВх╜УчЬЯхоЮц╡БщЗПш╢Еш┐Зф║Жч│╗ч╗ЯчЪДцЬАхдзхо╣щЗПхРОя╝Мх░▒ф╝Ъхп╝шЗ┤ч│╗ч╗ЯхУНх║ФхПШцЕвя╝МцЬНхКбш░ГчФихЗ║чО░хдзщЗПш╢ЕцЧ╢я╝МхПНцШач╗ЩчФицИ╖чЪДцДЯшзЙх░▒цШпхНбщб┐уАБцЧахУНх║ФуАВцЙАф╗ея╝Мх║Фшпеца╣цНоч│╗ч╗ЯчЪДцЬАхдзхо╣щЗПя╝Мч╗Щч│╗ч╗Яшо╛ч╜оф╕Аф╕кщШИхА╝я╝Мш╢Еш┐Зш┐Щф╕кщШИхА╝чЪДшп╖ц▒Вф╝ЪшвлшЗкхКицКЫх╝Гя╝Мш┐Щца╖чЪДшпЭхПпф╗ецЬАхдзщЩРх║жхЬ░ф┐ЭшпБч│╗ч╗ЯцПРф╛ЫчЪДцЬНхКбцнгх╕╕уАВ</p> <p>щЩдцндф╣ЛхдЦя╝МщАЪх╕╕ф╕Аф╕кх╛оцЬНхКбч│╗ч╗Яф╝ЪхРМцЧ╢цПРф╛ЫхдЪф╕кцЬНхКбя╝МцпПф╕кцЬНхКбхЬихРМф╕АцЧ╢хИ╗чЪДшп╖ц▒ВщЗПф╣ЯцШпф╕НхРМчЪДя╝Мх╛ИхПпшГ╜хЗ║чО░чЪДф╕АчзНцГЕхЖ╡х░▒цШпя╝Мч│╗ч╗Яф╕нцЯРф╕кцЬНхКбчЪДшп╖ц▒ВщЗПчкБхвЮя╝МхНачФиф║Жч│╗ч╗Яф╕нхдзщГихИЖш╡Дц║Ря╝Мхп╝шЗ┤хЕ╢ф╗ЦцЬНхКбц▓бцЬЙш╡Дц║РхПпчФиуАВхЫацндя╝Мш┐ШшжБщТИхп╣ч│╗ч╗Яф╕нцпПф╕кцЬНхКбчЪДшп╖ц▒ВщЗПф╣Яшо╛ч╜оф╕Аф╕кщШИхА╝я╝Мш╢Еш┐Зш┐Щф╕кщШИхА╝чЪДшп╖ц▒Вф╣ЯшжБшвлшЗкхКицКЫх╝Гя╝Мш┐Щца╖чЪДшпЭф╕НшЗ│ф║ОхЫаф╕║ф╕Аф╕кцЬНхКбх╜▒хУНф║ЖхЕ╢ф╗ЦцЙАцЬЙцЬНхКбуАВ</p> <p>хЬихоЮщЩЕщб╣чЫоф╕ня╝МхПпф╗ечФиф╕дф╕кцМЗцаЗцЭешббщЗПцЬНхКбчЪДшп╖ц▒ВщЗПя╝Мф╕Аф╕кцШп QPS хН│цпПчзТшп╖ц▒ВщЗПя╝Мф╕Аф╕кцШпх╖еф╜Ьч║┐чиЛцХ░уАВф╕Нш┐З QPS хЫаф╕║ф╕НхРМцЬНхКбчЪДхУНх║Фх┐лцЕвф╕НхРМя╝МцЙАф╗еч│╗ч╗ЯшГ╜хдЯцЙ┐ш╜╜чЪД QPS чЫ╕х╖ох╛Ихдзя╝МхЫацндф╕АшИмщАЙцЛйх╖еф╜Ьч║┐чиЛцХ░цЭеф╜Ьф╕║щЩРц╡БчЪДцМЗцаЗя╝Мч╗Щч│╗ч╗Яшо╛ч╜оф╕Аф╕кцА╗чЪДцЬАхдзх╖еф╜Ьч║┐чиЛцХ░ф╗ехПКхНХф╕кцЬНхКбчЪДцЬАхдзх╖еф╜Ьч║┐чиЛцХ░я╝Мш┐Щца╖чЪДшпЭцЧашо║цШпч│╗ч╗ЯчЪДцА╗шп╖ц▒ВщЗПш┐Зхдзхп╝шЗ┤цХ┤ф╜Ух╖еф╜Ьч║┐чиЛцХ░щЗПш╛╛хИ░цЬАхдзх╖еф╜Ьч║┐чиЛцХ░я╝Мш┐ШцШпцЯРф╕кцЬНхКбчЪДшп╖ц▒ВщЗПш╢Еш┐ЗхНХф╕кцЬНхКбчЪДцЬАхдзх╖еф╜Ьч║┐чиЛцХ░я╝МщГ╜ф╝ЪшвлщЩРц╡Бя╝Мф╗еш╡╖хИ░ф┐ЭцКдцХ┤ф╕кч│╗ч╗ЯчЪДф╜ЬчФиуАВ</p> <h3 id="_12-2-щЩНч║з"><a href="#_12-2-щЩНч║з" class="header-anchor">#</a> 12.2. щЩНч║з</h3> <p>ф╗Аф╣ИцШпщЩНч║зхСвя╝ЯхЬицИСчЬЛцЭея╝МщЩНч║зх░▒цШпщАЪш┐ЗхБЬцнвч│╗ч╗Яф╕нчЪДцЯРф║ЫхКЯшГ╜я╝МцЭеф┐ЭшпБч│╗ч╗ЯцХ┤ф╜УчЪДхПпчФицАзуАВщЩНч║зхПпф╗ешп┤цШпф╕АчзНшвлхКищШ▓х╛бчЪДцОкцЦ╜я╝Мф╕║ф╗Аф╣Иш┐Щф╣Ишп┤хСвя╝ЯхЫаф╕║хоГф╕АшИмцШпч│╗ч╗Ях╖▓ч╗ПхЗ║чО░цХЕщЪЬхРОцЙАщЗЗхПЦчЪДф╕АчзНцнвцНЯцОкцЦ╜уАВ</p> <p>щВгф╣ИщЩНч║зф╕АшИмцШпхжВф╜ХхоЮчО░чЪДхСвя╝Яца╣цНоцИСчЪДхоЮш╖╡цЭечЬЛя╝М ф╕АчзНхПпшбМчЪДцЦ╣цбИцШпщАЪш┐Зх╝АхЕ│цЭехоЮчО░уАВ</p> <p>хЕ╖ф╜УцЭешо▓я╝Мх░▒цШпхЬич│╗ч╗Яш┐РшбМчЪДхЖЕхнШф╕нх╝Аш╛Яф╕АхЭЧхМ║хЯЯя╝Мф╕УщЧичФиф║ОхнШхВих╝АхЕ│чЪДчК╢цАБя╝Мф╣Ях░▒цШпх╝АхРпш┐ШцШпхЕ│щЧнуАВх╣╢ф╕ФщЬАшжБчЫСхРмцЯРф╕кчлпхПгя╝МщАЪш┐Зш┐Щф╕кчлпхПгхПпф╗ехРСч│╗ч╗Яф╕ЛхПСхС╜ф╗дя╝МцЭецФ╣хПШхЖЕхнШф╕нх╝АхЕ│чЪДчК╢цАБуАВх╜Ух╝АхЕ│х╝АхРпцЧ╢я╝Мф╕ЪхКбчЪДцЯРф╕Ацо╡щА╗ш╛Сх░▒ф╕НхЖНцЙзшбМя╝МшАМцнгх╕╕цГЕхЖ╡ф╕Ля╝Мх╝АхЕ│цШпхЕ│щЧнчЪДчК╢цАБуАВ</p> <p>х╝АхЕ│ф╕АшИмчФихЬиф╕дчзНхЬ░цЦ╣я╝Мф╕АчзНцШпцЦ░хвЮчЪДф╕ЪхКбщА╗ш╛Ся╝МхЫаф╕║цЦ░хвЮчЪДф╕ЪхКбщА╗ш╛СчЫ╕хп╣цЭешп┤ф╕НцИРчЖЯя╝Мх╛Ах╛АхЕ╖хдЗф╕АхоЪчЪДщгОщЩйя╝МцЙАф╗ещЬАшжБхКах╝АхЕ│цЭецОзхИ╢цЦ░ф╕ЪхКбщА╗ш╛СцШпхРжцЙзшбМя╝ЫхПжф╕АчзНцШпф╛Эш╡ЦчЪДцЬНхКбцИЦш╡Дц║Ря╝МхЫаф╕║ф╛Эш╡ЦчЪДцЬНхКбцИЦшАЕш╡Дц║Рф╕НцА╗цШпхПпщЭачЪДя╝МцЙАф╗ецЬАхе╜цШпцЬЙх╝АхЕ│шГ╜хдЯцОзхИ╢цШпхРжхп╣ф╛Эш╡ЦцЬНхКбцИЦш╡Дц║РхПСш╡╖ш░ГчФия╝МцЭеф┐ЭшпБхН│ф╜┐ф╛Эш╡ЦхЗ║чО░щЧощвШя╝Мф╣ЯшГ╜щАЪш┐ЗщЩНч║зцЭещБ┐хЕНх╜▒хУНуАВ</p> <p>хЬихоЮщЩЕф╕ЪхКбх║ФчФичЪДцЧ╢хАЩя╝МщЩНч║зшжБцМЙчЕзхп╣ф╕ЪхКбчЪДх╜▒хУНчиЛх║жш┐ЫшбМхИЖч║зя╝Мф╕АшИмхИЖф╕║ф╕Йч║зя╝Ъф╕Ач║зщЩНч║зцШпхп╣ф╕ЪхКбх╜▒хУНцЬАх░ПчЪДщЩНч║зя╝МхЬицХЕщЪЬчЪДцГЕхЖ╡ф╕Ля╝МщжЦхЕИцЙзшбМф╕Ач║зщЩНч║зя╝МцЙАф╗еф╕Ач║зщЩНч║зф╣ЯхПпф╗ешо╛ч╜оцИРшЗкхКищЩНч║зя╝Мф╕НщЬАшжБф║║ф╕║х╣▓щвДя╝Ыф║Мч║зщЩНч║зцШпхп╣ф╕ЪхКбцЬЙф╕АхоЪх╜▒хУНчЪДщЩНч║зя╝МхЬицХЕщЪЬчЪДцГЕхЖ╡ф╕Ля╝МхжВцЮЬф╕Ач║зщЩНч║зш╡╖ф╕НхИ░хдЪхдзф╜ЬчФичЪДцЧ╢хАЩя╝МхПпф╗еф║║ф╕║щЗЗхПЦцОкцЦ╜я╝МцЙзшбМф║Мч║зщЩНч║зя╝Ыф╕Йч║зщЩНч║зцШпхп╣ф╕ЪхКбцЬЙш╛Гхдзх╜▒хУНчЪДщЩНч║зя╝Мш┐ЩчзНщЩНч║зшжБф╣ИцШпхп╣хХЖф╕ЪцФ╢хЕецЬЙщЗНхдзх╜▒хУНя╝МшжБф╣ИцШпхп╣чФицИ╖ф╜УщкМцЬЙщЗНхдзх╜▒хУНя╝МцЙАф╗ецУНф╜Ьш╡╖цЭешжБщЭЮх╕╕ш░ицЕОя╝Мф╕НхЬицЬАхРОцЧ╢хИ╗ф╕АшИмф╕Нф║ИщЗЗчФиуАВ</p> <h2 id="_13-devops"><a href="#_13-devops" class="header-anchor">#</a> 13. DEVOPS</h2> <h3 id="_13-1-хо╣хЩихТМхо╣хЩих╣│хП░"><a href="#_13-1-хо╣хЩихТМхо╣хЩих╣│хП░" class="header-anchor">#</a> 13.1. хо╣хЩихТМхо╣хЩих╣│хП░</h3> <p>MesosуАБMarathonуАБKubernetes</p> <h2 id="_14-rpc-щАЙхЮЛ"><a href="#_14-rpc-щАЙхЮЛ" class="header-anchor">#</a> 14. RPC щАЙхЮЛ</h2> <h3 id="_14-1-щЩРхоЪшпншиА-rpc"><a href="#_14-1-щЩРхоЪшпншиА-rpc" class="header-anchor">#</a> 14.1. щЩРхоЪшпншиА RPC</h3> <p>ш╖ЯшпншиАх╣│хП░ч╗СхоЪчЪДх╝Ац║Р RPC цбЖцЮ╢ф╕╗шжБцЬЙф╕ЛщЭвхЗачзНуАВ</p> <ul><li>Dubboя╝ЪхЫ╜хЖЕцЬАцЧйх╝Ац║РчЪД RPC цбЖцЮ╢я╝МчФ▒щШ┐щЗМх╖┤х╖┤хЕмхП╕х╝АхПСх╣╢ф║О 2011 х╣┤цЬлхп╣хдЦх╝Ац║Ря╝Мф╗ЕцФпцМБ Java шпншиАуАВ</li> <li>Motanя╝Ъх╛охНЪхЖЕщГиф╜┐чФичЪД RPC цбЖцЮ╢я╝Мф║О 2016 х╣┤хп╣хдЦх╝Ац║Ря╝Мф╗ЕцФпцМБ Java шпншиАуАВ</li> <li>Tarsя╝ЪшЕ╛шопхЖЕщГиф╜┐чФичЪД RPC цбЖцЮ╢я╝Мф║О 2017 х╣┤хп╣хдЦх╝Ац║Ря╝Мф╗ЕцФпцМБ C++ шпншиАуАВ</li> <li>Spring Cloudя╝ЪхЫ╜хдЦ Pivotal хЕмхП╕ 2014 х╣┤хп╣хдЦх╝Ац║РчЪД RPC цбЖцЮ╢я╝Мф╗ЕцФпцМБ Java шпншиАя╝МцЬАш┐СхЗах╣┤чФЯцАБхПСх▒Хх╛ЧцпФш╛Гхе╜я╝МцШпцпФш╛ГчБлчЪД RPC цбЖцЮ╢уАВ</li></ul> <p>цЙАф╗ех╛ИцШОцШ╛я╝МхжВцЮЬф╜ачЪДф╕ЪхКбхЬ║цЩпф╗Еф╗Ех▒АщЩРф║Оф╕АчзНшпншиАчЪДшпЭя╝МхПпф╗ещАЙцЛйш╖ЯшпншиАч╗СхоЪчЪД RPC цбЖцЮ╢ф╕нчЪДф╕АчзНя╝ЫхжВцЮЬц╢ЙхПКхдЪф╕кшпншиАх╣│хП░ф╣ЛщЧ┤чЪДчЫ╕ф║Тш░ГчФия╝Мх░▒х║ФшпещАЙцЛйш╖ишпншиАх╣│хП░чЪД RPC цбЖцЮ╢уАВ</p> <p>ф╗Фч╗ЖхИЖцЮРя╝МхПпф╗ечЬЛхЗ║ Spring Cloud ф╕Нф╗ЕцПРф╛Ыф║ЖхЯ║цЬмчЪД RPC цбЖцЮ╢хКЯшГ╜я╝Мш┐ШцПРф╛Ыф║ЖцЬНхКбц│ихЖМч╗Дф╗╢уАБщЕНч╜оф╕нх┐Гч╗Дф╗╢уАБш┤Яш╜╜хЭЗшббч╗Дф╗╢уАБцЦнш╖пхЩич╗Дф╗╢уАБхИЖх╕Гх╝Пц╢ИцБпш┐╜ш╕кч╗Дф╗╢чнЙф╕Ач│╗хИЧч╗Дф╗╢я╝Мф╣ЯщЪ╛цАкшвлцКАцЬпхЬИчЪДф║║чз░ф╣Лф╕║тАЬSpring Cloud хЕихо╢цб╢тАЭуАВхжВцЮЬф╜аф╕НцГ│шЗкх╖▒хоЮчО░ф╗еф╕Кш┐Щф║ЫхКЯшГ╜я╝МщВгф╣И Spring Cloud хЯ║цЬмхПпф╗ец╗бш╢│ф╜ачЪДхЕищГищЬАц▒ВуАВшАМ DubboуАБMotan хЯ║цЬмф╕КхПкцПРф╛Ыф║ЖцЬАхЯ║чбАчЪД RPC цбЖцЮ╢чЪДхКЯшГ╜я╝МхЕ╢ф╗Цх╛оцЬНхКбч╗Дф╗╢щГ╜щЬАшжБшЗкх╖▒хО╗хоЮчО░уАВф╕Нш┐ЗчФ▒ф║О Spring Cloud чЪД RPC щАЪф┐бщЗЗчФиф║Ж HTTP хНПшооя╝МчЫ╕цпФ Dubbo хТМ Motan цЙАщЗЗчФичЪДчзБцЬЙхНПшооцЭешп┤я╝МхЬищлШх╣╢хПСчЪДщАЪф┐бхЬ║цЩпф╕Ля╝МцАзшГ╜чЫ╕хп╣шжБх╖оф╕Аф║Ыя╝МцЙАф╗ехп╣цАзшГ╜цЬЙшЛЫхИ╗шжБц▒ВчЪДцГЕхЖ╡ф╕Ля╝МхПпф╗ешАГшЩС Dubbo хТМ MotanуАВ</p> <h3 id="_14-2-ш╖ишпншиА-rpc"><a href="#_14-2-ш╖ишпншиА-rpc" class="header-anchor">#</a> 14.2. ш╖ишпншиА RPC</h3> <p>шАМш╖ишпншиАх╣│хП░чЪДх╝Ац║Р RPC цбЖцЮ╢ф╕╗шжБцЬЙф╗еф╕ЛхЗачзНуАВ</p> <ul><li>gRPCя╝ЪGoogle ф║О 2015 х╣┤хп╣хдЦх╝Ац║РчЪДш╖ишпншиА RPC цбЖцЮ╢я╝МцФпцМБх╕╕чФичЪД C++уАБJavaуАБPythonуАБGoуАБRubyуАБPHPуАБAndroid JavaуАБObjective-C чнЙхдЪчзНшпншиАуАВ</li> <li>Thriftя╝ЪцЬАхИЭцШпчФ▒ Facebook х╝АхПСчЪДхЖЕщГич│╗ч╗Яш╖ишпншиАчЪД RPC цбЖцЮ╢я╝М2007 х╣┤ш┤бчМоч╗Щф║Ж Apache хЯ║щЗСя╝МцИРф╕║ Apache х╝Ац║Рщб╣чЫоф╣Лф╕Ая╝МцФпцМБх╕╕чФичЪД C++уАБJavaуАБPHPуАБPythonуАБRubyуАБErlang чнЙхдЪчзНшпншиАуАВ</li></ul> <p>ф╗ОцИРчЖЯх║жф╕КцЭешо▓я╝МThrift хЫаф╕║шпЮчФЯчЪДцЧ╢щЧ┤шжБцЧйф║О gRPCя╝МцЙАф╗еф╜┐чФичЪДшМГхЫ┤шжБщлШф║О gRPCя╝МхЬи HBaseуАБHadoopуАБScribeуАБCassandra чнЙшо╕хдЪх╝Ац║Рч╗Дф╗╢ф╕нщГ╜х╛ЧхИ░ф║Жх╣┐ц│ЫхЬ░х║ФчФиуАВшАМф╕Ф Thrift цФпцМБхдЪш╛╛ 25 чзНшпншиАя╝Мш┐ЩшжБцпФ gRPC цФпцМБчЪДшпншиАцЫ┤хдЪя╝МцЙАф╗ехжВцЮЬщБЗхИ░ gRPC ф╕НцФпцМБчЪДшпншиАхЬ║цЩпф╕Ля╝МщАЙцЛй Thrift цЫ┤хРИщАВуАВ</p> <p>ф╜Ж gRPC ф╜Ьф╕║хРОш╡╖ф╣ЛчзАя╝МхЫаф╕║щЗЗчФиф║Ж HTTP/2 ф╜Ьф╕║щАЪф┐бхНПшооуАБProtoBuf ф╜Ьф╕║цХ░цНох║ПхИЧхМЦца╝х╝Пя╝МхЬичз╗хКичлпшо╛хдЗчЪДх║ФчФиф╗ехПКхп╣ф╝аш╛Ух╕жхо╜цпФш╛ГцХПцДЯчЪДхЬ║цЩпф╕ЛхЕ╖цЬЙх╛ИхдзчЪДф╝ШхК┐я╝МшАМф╕Фх╝АхПСцЦЗцбгф╕░хпМя╝Мца╣цНо ProtoBuf цЦЗф╗╢чФЯцИРчЪДф╗гчаБшжБцпФ Thrift цЫ┤чоАц┤Бф╕Аф║Ыя╝Мф╗Оф╜┐чФищЪ╛цШУчиЛх║жф╕КцЫ┤хНаф╝ШхК┐я╝МцЙАф╗ехжВцЮЬф╜┐чФичЪДшпншиАх╣│хП░ gRPC цФпцМБчЪДшпЭя╝Мх╗║шоош┐ШцШпщЗЗчФи gRPC цпФш╛Гхе╜уАВ</p> <h2 id="_15-service-mesh"><a href="#_15-service-mesh" class="header-anchor">#</a> 15. Service Mesh</h2> <p><img src="https://raw.githubusercontent.com/dunwu/images/dev/snap/20200721154106.png" alt="img"></p> <h3 id="_15-1-service-mesh-чЪДхоЮчО░хОЯчРЖ"><a href="#_15-1-service-mesh-чЪДхоЮчО░хОЯчРЖ" class="header-anchor">#</a> 15.1. Service Mesh чЪДхоЮчО░хОЯчРЖ</h3> <p>Service Mesh хоЮчО░чЪДхЕ│щФох░▒хЬиф║Оф╕дчВ╣я╝Ъ</p> <p>ф╕Аф╕кцШпф╕КщЭвцПРхИ░чЪДш╜╗щЗПч║зчЪДч╜Сч╗Ьф╗гчРЖф╣ЯхПл SideCarя╝МхоГчЪДф╜ЬчФих░▒цШпш╜мхПСцЬНхКбф╣ЛщЧ┤чЪДш░ГчФия╝Ы</p> <p>ф╕Аф╕кцШпхЯ║ф║О SideCar чЪДцЬНхКбц▓╗чРЖф╣ЯшвлхПлф╜Ь Control Planeя╝МхоГчЪДф╜ЬчФицШпхРС SideCar хПСщАБхРДчзНцМЗф╗дя╝Мф╗ехоМцИРхРДчзНцЬНхКбц▓╗чРЖхКЯшГ╜уАВф╕ЛщЭвцИСх░▒цЭешпжч╗Жшо▓шзгш┐Щф╕дчВ╣цШпхжВф╜ХхоЮчО░чЪДуАВ</p> <h2 id="_16-хПВшАГш╡ДцЦЩ"><a href="#_16-хПВшАГш╡ДцЦЩ" class="header-anchor">#</a> 16. хПВшАГш╡ДцЦЩ</h2> <ul><li><a href="https://time.geekbang.org/column/intro/100014401" target="_blank" rel="noopener noreferrer">ф╗О 0 х╝АхзЛхнжх╛оцЬНхКб<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://time.geekbang.org/column/intro/100046201" target="_blank" rel="noopener noreferrer">RPC хоЮцИШф╕Оца╕х┐ГхОЯчРЖ<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://time.geekbang.org/course/intro/100003901" target="_blank" rel="noopener noreferrer">х╛оцЬНхКбцЮ╢цЮДца╕х┐Г 20 шо▓<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.cnblogs.com/savorboard/p/api-gateway.html" target="_blank" rel="noopener noreferrer">ш░Иш░Их╛оцЬНхКбф╕нчЪД API ч╜СхЕ│я╝ИAPI Gatewayя╝Й<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/dunwu/design/edit/master/docs/microservices/х╛оцЬНхКбхОЯчРЖ.md" target="_blank" rel="noopener noreferrer">х╕охКйцИСф╗мцФ╣хЦДцндщб╡щЭвя╝Б</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">ф╕КцмбцЫ┤цЦ░:</span> <span class="time">3 months ago</span></div></footer> <!----> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/design/assets/js/app.31535b90.js" defer></script><script src="/design/assets/js/4.843d76c1.js" defer></script><script src="/design/assets/js/41.64d1acff.js" defer></script><script src="/design/assets/js/5.eb6f8f38.js" defer></script>
  </body>
</html>
