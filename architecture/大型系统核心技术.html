<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>хдзхЮЛч│╗ч╗Яца╕х┐ГцКАцЬп | DESIGN</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/design/favicon.ico">
    <meta name="description" content="DESIGN">
    
    <link rel="preload" href="/design/assets/css/0.styles.3c2ef156.css" as="style"><link rel="preload" href="/design/assets/js/app.31535b90.js" as="script"><link rel="preload" href="/design/assets/js/4.843d76c1.js" as="script"><link rel="preload" href="/design/assets/js/13.151414b4.js" as="script"><link rel="preload" href="/design/assets/js/5.eb6f8f38.js" as="script"><link rel="prefetch" href="/design/assets/js/10.07f2584d.js"><link rel="prefetch" href="/design/assets/js/11.df166aa0.js"><link rel="prefetch" href="/design/assets/js/12.b7ade635.js"><link rel="prefetch" href="/design/assets/js/14.5dd04c5d.js"><link rel="prefetch" href="/design/assets/js/15.14e9a635.js"><link rel="prefetch" href="/design/assets/js/16.8728dd67.js"><link rel="prefetch" href="/design/assets/js/17.1686b754.js"><link rel="prefetch" href="/design/assets/js/18.d815545e.js"><link rel="prefetch" href="/design/assets/js/19.d846ce2f.js"><link rel="prefetch" href="/design/assets/js/20.1dd8edb9.js"><link rel="prefetch" href="/design/assets/js/21.38ae8c29.js"><link rel="prefetch" href="/design/assets/js/22.26dcb0f5.js"><link rel="prefetch" href="/design/assets/js/23.d996c1df.js"><link rel="prefetch" href="/design/assets/js/24.84573b57.js"><link rel="prefetch" href="/design/assets/js/25.362291b4.js"><link rel="prefetch" href="/design/assets/js/26.287f6746.js"><link rel="prefetch" href="/design/assets/js/27.665cd644.js"><link rel="prefetch" href="/design/assets/js/28.2d373aaa.js"><link rel="prefetch" href="/design/assets/js/29.18195cfe.js"><link rel="prefetch" href="/design/assets/js/30.b8a39bf2.js"><link rel="prefetch" href="/design/assets/js/31.e6497a3e.js"><link rel="prefetch" href="/design/assets/js/32.7c78886f.js"><link rel="prefetch" href="/design/assets/js/33.3a07575c.js"><link rel="prefetch" href="/design/assets/js/34.53801173.js"><link rel="prefetch" href="/design/assets/js/35.fe943393.js"><link rel="prefetch" href="/design/assets/js/36.e9ecc031.js"><link rel="prefetch" href="/design/assets/js/37.48dcf161.js"><link rel="prefetch" href="/design/assets/js/38.bc65c12c.js"><link rel="prefetch" href="/design/assets/js/39.76a7947c.js"><link rel="prefetch" href="/design/assets/js/40.57c60fe7.js"><link rel="prefetch" href="/design/assets/js/41.64d1acff.js"><link rel="prefetch" href="/design/assets/js/42.2b13267e.js"><link rel="prefetch" href="/design/assets/js/43.bc12e4a9.js"><link rel="prefetch" href="/design/assets/js/44.05348389.js"><link rel="prefetch" href="/design/assets/js/45.a821f14b.js"><link rel="prefetch" href="/design/assets/js/46.4f6121ee.js"><link rel="prefetch" href="/design/assets/js/47.2331491d.js"><link rel="prefetch" href="/design/assets/js/48.e99e2990.js"><link rel="prefetch" href="/design/assets/js/49.97ac4425.js"><link rel="prefetch" href="/design/assets/js/50.9561222b.js"><link rel="prefetch" href="/design/assets/js/51.5a3682fc.js"><link rel="prefetch" href="/design/assets/js/52.41f6da09.js"><link rel="prefetch" href="/design/assets/js/53.f3cbdb44.js"><link rel="prefetch" href="/design/assets/js/54.b64ed791.js"><link rel="prefetch" href="/design/assets/js/55.0b2515c6.js"><link rel="prefetch" href="/design/assets/js/56.f87ff124.js"><link rel="prefetch" href="/design/assets/js/57.c351d3a3.js"><link rel="prefetch" href="/design/assets/js/58.68c1d0ee.js"><link rel="prefetch" href="/design/assets/js/59.8cc7450d.js"><link rel="prefetch" href="/design/assets/js/6.cbcf7f30.js"><link rel="prefetch" href="/design/assets/js/60.f2f8871f.js"><link rel="prefetch" href="/design/assets/js/61.8922cbcd.js"><link rel="prefetch" href="/design/assets/js/62.ccb7c5ee.js"><link rel="prefetch" href="/design/assets/js/63.8191a330.js"><link rel="prefetch" href="/design/assets/js/64.1d881bbb.js"><link rel="prefetch" href="/design/assets/js/65.f4089278.js"><link rel="prefetch" href="/design/assets/js/66.66cf1b40.js"><link rel="prefetch" href="/design/assets/js/67.27e2cf6f.js"><link rel="prefetch" href="/design/assets/js/68.6a688bec.js"><link rel="prefetch" href="/design/assets/js/69.f59b5cd7.js"><link rel="prefetch" href="/design/assets/js/7.159ffade.js"><link rel="prefetch" href="/design/assets/js/70.aa52fe1c.js"><link rel="prefetch" href="/design/assets/js/71.f7f17e5c.js"><link rel="prefetch" href="/design/assets/js/72.f0a76070.js"><link rel="prefetch" href="/design/assets/js/73.b454f9b3.js"><link rel="prefetch" href="/design/assets/js/74.748903ca.js"><link rel="prefetch" href="/design/assets/js/75.1abb30fc.js"><link rel="prefetch" href="/design/assets/js/76.38081e86.js"><link rel="prefetch" href="/design/assets/js/77.631fd31e.js"><link rel="prefetch" href="/design/assets/js/78.b642c4ea.js"><link rel="prefetch" href="/design/assets/js/79.09f8c9ad.js"><link rel="prefetch" href="/design/assets/js/8.bbc07c86.js"><link rel="prefetch" href="/design/assets/js/80.15162b19.js"><link rel="prefetch" href="/design/assets/js/81.0a02424d.js"><link rel="prefetch" href="/design/assets/js/82.0a6de1bd.js"><link rel="prefetch" href="/design/assets/js/83.8bd118c7.js"><link rel="prefetch" href="/design/assets/js/84.c9db97ea.js"><link rel="prefetch" href="/design/assets/js/85.ea23932a.js"><link rel="prefetch" href="/design/assets/js/86.a70e5ac7.js"><link rel="prefetch" href="/design/assets/js/9.c3d97cd4.js"><link rel="prefetch" href="/design/assets/js/vendors~flowchart.5fa23d41.js"><link rel="prefetch" href="/design/assets/js/vendors~notification.4b668bb8.js">
    <link rel="stylesheet" href="/design/assets/css/0.styles.3c2ef156.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/design/" class="home-link router-link-active"><img src="https://raw.githubusercontent.com/dunwu/images/dev/common/dunwu-logo-200.png" alt="DESIGN" class="logo"> <span class="site-name can-hide">DESIGN</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/design/architecture/" class="nav-link router-link-active">
  цЮ╢цЮД
</a></div><div class="nav-item"><a href="/design/distributed/" class="nav-link">
  хИЖх╕Гх╝П
</a></div><div class="nav-item"><a href="/design/pattern/" class="nav-link">
  шо╛шобцибх╝П
</a></div><div class="nav-item"><a href="/design/refactor/" class="nav-link">
  щЗНцЮД
</a></div><div class="nav-item"><a href="https://github.com/dunwu/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ЁЯОп хНЪхов
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/dunwu/design" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/design/architecture/" class="nav-link router-link-active">
  цЮ╢цЮД
</a></div><div class="nav-item"><a href="/design/distributed/" class="nav-link">
  хИЖх╕Гх╝П
</a></div><div class="nav-item"><a href="/design/pattern/" class="nav-link">
  шо╛шобцибх╝П
</a></div><div class="nav-item"><a href="/design/refactor/" class="nav-link">
  щЗНцЮД
</a></div><div class="nav-item"><a href="https://github.com/dunwu/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ЁЯОп хНЪхов
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/dunwu/design" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>хдзхЮЛч│╗ч╗Яца╕х┐ГцКАцЬп</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/design/architecture/%E5%A4%A7%E5%9E%8B%E7%B3%BB%E7%BB%9F%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF.html#хИЖх╕Гх╝Пф║ЛхКб" class="sidebar-link">хИЖх╕Гх╝Пф║ЛхКб</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/design/architecture/%E5%A4%A7%E5%9E%8B%E7%B3%BB%E7%BB%9F%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF.html#хИЖх╕Гх╝ПщФБ" class="sidebar-link">хИЖх╕Гх╝ПщФБ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/design/architecture/%E5%A4%A7%E5%9E%8B%E7%B3%BB%E7%BB%9F%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF.html#хЯ║ф║ОцХ░цНох║УхоЮчО░хИЖх╕Гх╝ПщФБ" class="sidebar-link">хЯ║ф║ОцХ░цНох║УхоЮчО░хИЖх╕Гх╝ПщФБ</a></li><li class="sidebar-sub-header"><a href="/design/architecture/%E5%A4%A7%E5%9E%8B%E7%B3%BB%E7%BB%9F%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF.html#хЯ║ф║О-redis-хоЮчО░хИЖх╕Гх╝ПщФБ" class="sidebar-link">хЯ║ф║О Redis хоЮчО░хИЖх╕Гх╝ПщФБ</a></li><li class="sidebar-sub-header"><a href="/design/architecture/%E5%A4%A7%E5%9E%8B%E7%B3%BB%E7%BB%9F%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF.html#хЯ║ф║О-zookeeper-хоЮчО░хИЖх╕Гх╝ПщФБ" class="sidebar-link">хЯ║ф║О ZooKeeper хоЮчО░хИЖх╕Гх╝ПщФБ</a></li></ul></li><li><a href="/design/architecture/%E5%A4%A7%E5%9E%8B%E7%B3%BB%E7%BB%9F%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF.html#хИЖх╕Гх╝П-session" class="sidebar-link">хИЖх╕Гх╝П Session</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/design/architecture/%E5%A4%A7%E5%9E%8B%E7%B3%BB%E7%BB%9F%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF.html#sticky-sessions" class="sidebar-link">Sticky Sessions</a></li><li class="sidebar-sub-header"><a href="/design/architecture/%E5%A4%A7%E5%9E%8B%E7%B3%BB%E7%BB%9F%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF.html#session-replication" class="sidebar-link">Session Replication</a></li><li class="sidebar-sub-header"><a href="/design/architecture/%E5%A4%A7%E5%9E%8B%E7%B3%BB%E7%BB%9F%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF.html#session-server" class="sidebar-link">Session Server</a></li></ul></li><li><a href="/design/architecture/%E5%A4%A7%E5%9E%8B%E7%B3%BB%E7%BB%9F%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF.html#хИЖх╕Гх╝ПхнШхВи" class="sidebar-link">хИЖх╕Гх╝ПхнШхВи</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/design/architecture/%E5%A4%A7%E5%9E%8B%E7%B3%BB%E7%BB%9F%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF.html#хИЖх╕Гх╝Пч╝УхнШ" class="sidebar-link">хИЖх╕Гх╝Пч╝УхнШ</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/design/architecture/%E5%A4%A7%E5%9E%8B%E7%B3%BB%E7%BB%9F%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF.html#хИЖх╕Гх╝ПшобчоЧ" class="sidebar-link">хИЖх╕Гх╝ПшобчоЧ</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/design/architecture/%E5%A4%A7%E5%9E%8B%E7%B3%BB%E7%BB%9F%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF.html#ш┤Яш╜╜хЭЗшбб" class="sidebar-link">ш┤Яш╜╜хЭЗшбб</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/design/architecture/%E5%A4%A7%E5%9E%8B%E7%B3%BB%E7%BB%9F%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF.html#чоЧц│Х" class="sidebar-link">чоЧц│Х</a></li><li class="sidebar-sub-header"><a href="/design/architecture/%E5%A4%A7%E5%9E%8B%E7%B3%BB%E7%BB%9F%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF.html#хоЮчО░-4" class="sidebar-link">хоЮчО░</a></li></ul></li><li><a href="/design/architecture/%E5%A4%A7%E5%9E%8B%E7%B3%BB%E7%BB%9F%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF.html#ш╡ДцЦЩ" class="sidebar-link">ш╡ДцЦЩ</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="хдзхЮЛч│╗ч╗Яца╕х┐ГцКАцЬп"><a href="#хдзхЮЛч│╗ч╗Яца╕х┐ГцКАцЬп" class="header-anchor">#</a> хдзхЮЛч│╗ч╗Яца╕х┐ГцКАцЬп</h1> <blockquote><p>хдзхЮЛч│╗ч╗ЯчЪДшо╛шобчЫоцаЗх░▒цШпф╕║ф║Жх┐лщАЯуАБщлШцХИуАБчи│хоЪчЪДхдДчРЖц╡╖щЗПчЪДцХ░цНоф╗ехПКщлШх╣╢хПСчЪДшп╖ц▒ВуАВ</p> <p>хНХцЬ║цЬНхКбхПЧщЩРф║Очбмф╗╢я╝МховшзВхнШхЬичЭАш╡Дц║РчУ╢щвИя╝МщЪ╛ф╗ех║Фхп╣ф╕НцЦнхвЮщХ┐чЪДцХ░цНощЗПхТМшп╖ц▒ВщЗПя╝Мф╕║ф║ЖцЙУча┤чУ╢щвИя╝МхдзхЮЛч│╗ч╗ЯхЯ║цЬмф╕КщГ╜швлшо╛шобф╕║хИЖх╕Гх╝Пч│╗ч╗ЯуАВ</p> <p>хИЖх╕Гх╝Пч│╗ч╗ЯчФ▒ф║ОхЕ╢щЭвф╕┤чЪДхЕ▒цАзщЧощвШя╝МхЬих╛ИхдЪхЬ║цЩпф╕ЛчЪДшзгхЖ│цЦ╣цбИх╛Ах╛Аф╣ЯхнШхЬичЭАхЕ▒цАзуАВхЫацндя╝МцИСф╗мф╝ЪхПСчО░я╝Мх╛ИхдЪф╝ШчзАчЪДхдзхЮЛч│╗ч╗ЯхЬишо╛шобцЦ╣цбИф╕КхнШхЬичЭАх╛ИхдЪчЪДхЕ▒хРМчВ╣уАВ</p> <p>цЬмцЦЗф╕╗шжБшоишо║х║Фхп╣хИЖх╕Гх╝Пч│╗ч╗ЯхЕ▒цАзщЧощвШчЪДшзгхЖ│цЦ╣цбИя╝Мш┐ЩцЧвхПпф╗ехКац╖▒хп╣хИЖх╕Гх╝Пч│╗ч╗Яш┐Рф╜ЬхОЯчРЖчЪДчРЖшзгя╝Мф╣ЯхПпф╗еф╜Ьф╕║шо╛шобхдзхЮЛхИЖх╕Гх╝Пч│╗ч╗ЯцЧ╢чЪДхАЯщЙ┤уАВ</p></blockquote> <ul><li><a href="#%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1">хИЖх╕Гх╝Пф║ЛхКб</a></li> <li><a href="#%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81">хИЖх╕Гх╝ПщФБ</a> <ul><li><a href="#%E5%9F%BA%E4%BA%8E%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%9E%E7%8E%B0%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81">хЯ║ф║ОцХ░цНох║УхоЮчО░хИЖх╕Гх╝ПщФБ</a></li> <li><a href="#%E5%9F%BA%E4%BA%8E-redis-%E5%AE%9E%E7%8E%B0%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81">хЯ║ф║О Redis хоЮчО░хИЖх╕Гх╝ПщФБ</a></li> <li><a href="#%E5%9F%BA%E4%BA%8E-zookeeper-%E5%AE%9E%E7%8E%B0%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81">хЯ║ф║О ZooKeeper хоЮчО░хИЖх╕Гх╝ПщФБ</a></li></ul></li> <li><a href="#%E5%88%86%E5%B8%83%E5%BC%8F-session">хИЖх╕Гх╝П Session</a> <ul><li><a href="#sticky-sessions">Sticky Sessions</a></li> <li><a href="#session-replication">Session Replication</a></li> <li><a href="#session-server">Session Server</a></li></ul></li> <li><a href="#%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8">хИЖх╕Гх╝ПхнШхВи</a></li> <li><a href="#%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98">хИЖх╕Гх╝Пч╝УхнШ</a></li> <li><a href="#%E5%88%86%E5%B8%83%E5%BC%8F%E8%AE%A1%E7%AE%97">хИЖх╕Гх╝ПшобчоЧ</a></li> <li><a href="#%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1">ш┤Яш╜╜хЭЗшбб</a> <ul><li><a href="#%E7%AE%97%E6%B3%95">чоЧц│Х</a></li> <li><a href="#%E5%AE%9E%E7%8E%B0">хоЮчО░</a></li></ul></li> <li><a href="#%E8%B5%84%E6%96%99">ш╡ДцЦЩ</a></li></ul> <h2 id="хИЖх╕Гх╝Пф║ЛхКб"><a href="#хИЖх╕Гх╝Пф║ЛхКб" class="header-anchor">#</a> хИЖх╕Гх╝Пф║ЛхКб</h2> <blockquote><p>хПВшАГя╝Ъ<a href="/design/architecture/хИЖх╕Гх╝ПхОЯчРЖ.html#4-хИЖх╕Гх╝Пф║ЛхКбщЧощвШ">хИЖх╕Гх╝ПхОЯчРЖ#4-хИЖх╕Гх╝Пф║ЛхКбщЧощвШ</a></p></blockquote> <h2 id="хИЖх╕Гх╝ПщФБ"><a href="#хИЖх╕Гх╝ПщФБ" class="header-anchor">#</a> хИЖх╕Гх╝ПщФБ</h2> <p>Java хОЯчФЯ API шЩ╜чД╢цЬЙх╣╢хПСщФБя╝Мф╜Жх╣╢ц▓бцЬЙцПРф╛ЫхИЖх╕Гх╝ПщФБчЪДшГ╜хКЫя╝МцЙАф╗ещТИхп╣хИЖх╕Гх╝ПхЬ║цЩпф╕нчЪДщФБщЬАшжБшзгхЖ│чЪДцЦ╣цбИуАВ</p> <p>хИЖх╕Гх╝ПщФБчЪДшзгхЖ│цЦ╣цбИхдзшЗ┤цЬЙф╗еф╕ЛхЗачзНя╝Ъ</p> <ul><li>хЯ║ф║ОцХ░цНох║УхоЮчО░</li> <li>хЯ║ф║Оч╝УхнШя╝Иredisя╝Мmemcached чнЙя╝ЙхоЮчО░</li> <li>хЯ║ф║О Zookeeper хоЮчО░</li></ul> <h3 id="хЯ║ф║ОцХ░цНох║УхоЮчО░хИЖх╕Гх╝ПщФБ"><a href="#хЯ║ф║ОцХ░цНох║УхоЮчО░хИЖх╕Гх╝ПщФБ" class="header-anchor">#</a> хЯ║ф║ОцХ░цНох║УхоЮчО░хИЖх╕Гх╝ПщФБ</h3> <h4 id="хоЮчО░"><a href="#хоЮчО░" class="header-anchor">#</a> хоЮчО░</h4> <h5 id="_1-хИЫх╗║шби"><a href="#_1-хИЫх╗║шби" class="header-anchor">#</a> 1. хИЫх╗║шби</h5> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span>methodLock<span class="token punctuation">`</span> <span class="token punctuation">(</span>
  <span class="token punctuation">`</span>id<span class="token punctuation">`</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AUTO_INCREMENT</span> <span class="token keyword">COMMENT</span> <span class="token string">'ф╕╗щФо'</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>method_name<span class="token punctuation">`</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">''</span> <span class="token keyword">COMMENT</span> <span class="token string">'щФБхоЪчЪДцЦ╣ц│ХхРН'</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span><span class="token keyword">desc</span><span class="token punctuation">`</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">1024</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">'хдЗц│иф┐бцБп'</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>update_time<span class="token punctuation">`</span> <span class="token keyword">timestamp</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CURRENT_TIMESTAMP</span> <span class="token keyword">ON</span> <span class="token keyword">UPDATE</span> <span class="token keyword">CURRENT_TIMESTAMP</span> <span class="token keyword">COMMENT</span> <span class="token string">'ф┐ЭхнШцХ░цНоцЧ╢щЧ┤я╝МшЗкхКичФЯцИР'</span><span class="token punctuation">,</span>
  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>id<span class="token punctuation">`</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">UNIQUE</span> <span class="token keyword">KEY</span> <span class="token punctuation">`</span>uidx_method_name<span class="token punctuation">`</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>method_name <span class="token punctuation">`</span><span class="token punctuation">)</span> <span class="token keyword">USING</span> <span class="token keyword">BTREE</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8 <span class="token keyword">COMMENT</span><span class="token operator">=</span><span class="token string">'щФБхоЪф╕нчЪДцЦ╣ц│Х'</span><span class="token punctuation">;</span>
</code></pre></div><h5 id="_2-шО╖хПЦщФБ"><a href="#_2-шО╖хПЦщФБ" class="header-anchor">#</a> 2. шО╖хПЦщФБ</h5> <p>цГ│шжБщФБф╜ПцЯРф╕кцЦ╣ц│ХцЧ╢я╝МцЙзшбМф╗еф╕Л SQLя╝Ъ</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">insert</span> <span class="token keyword">into</span> methodLock<span class="token punctuation">(</span>method_name<span class="token punctuation">,</span><span class="token keyword">desc</span><span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span>тАШmethod_nameтАЩ<span class="token punctuation">,</span>тАШ<span class="token keyword">desc</span>тАЩ<span class="token punctuation">)</span>
</code></pre></div><p>хЫаф╕║цИСф╗мхп╣ <code>method_name</code> хБЪф║ЖхФпф╕АцАзч║жцЭЯя╝Мш┐ЩщЗМхжВцЮЬцЬЙхдЪф╕кшп╖ц▒ВхРМцЧ╢цПРф║дхИ░цХ░цНох║УчЪДшпЭя╝МцХ░цНох║Уф╝Ъф┐ЭшпБхПкцЬЙф╕Аф╕кцУНф╜ЬхПпф╗ецИРхКЯя╝МщВгф╣ИцИСф╗мх░▒хПпф╗ешодф╕║цУНф╜ЬцИРхКЯчЪДщВгф╕кч║┐чиЛшО╖х╛Чф║ЖшпецЦ╣ц│ХчЪДщФБя╝МхПпф╗ецЙзшбМцЦ╣ц│Хф╜УхЖЕхо╣уАВ</p> <p>цИРхКЯцПТхЕехИЩшО╖хПЦщФБуАВ</p> <h5 id="_3-щЗКцФ╛щФБ"><a href="#_3-щЗКцФ╛щФБ" class="header-anchor">#</a> 3. щЗКцФ╛щФБ</h5> <p>х╜УцЦ╣ц│ХцЙзшбМхоМцпХф╣ЛхРОя╝МцГ│шжБщЗКцФ╛щФБчЪДшпЭя╝МщЬАшжБцЙзшбМф╗еф╕Л Sql:</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">delete</span> <span class="token keyword">from</span> methodLock <span class="token keyword">where</span> method_name <span class="token operator">=</span><span class="token string">'method_name'</span>
</code></pre></div><h4 id="щЧощвШ"><a href="#щЧощвШ" class="header-anchor">#</a> щЧощвШ</h4> <ol><li>ш┐ЩцККщФБх╝║ф╛Эш╡ЦцХ░цНох║УчЪДхПпчФицАзуАВхжВцЮЬцХ░цНох║УцШпф╕Аф╕кхНХчВ╣я╝Мф╕АцЧжцХ░цНох║УцМВцОЙя╝Мф╝Ъхп╝шЗ┤ф╕ЪхКбч│╗ч╗Яф╕НхПпчФиуАВ</li> <li>ш┐ЩцККщФБц▓бцЬЙхд▒цХИцЧ╢щЧ┤я╝Мф╕АцЧжшзгщФБцУНф╜Ьхд▒ш┤ея╝Мх░▒ф╝Ъхп╝шЗ┤щФБшо░х╜Хф╕АчЫ┤хЬицХ░цНох║Уф╕ня╝МхЕ╢ф╗Цч║┐чиЛцЧац│ХхЖНшО╖х╛ЧхИ░щФБуАВ</li> <li>ш┐ЩцККщФБхПкшГ╜цШпщЭЮщШ╗хбЮчЪДя╝МхЫаф╕║цХ░цНочЪД insert цУНф╜Ья╝Мф╕АцЧжцПТхЕехд▒ш┤ех░▒ф╝ЪчЫ┤цОецКещФЩуАВц▓бцЬЙшО╖х╛ЧщФБчЪДч║┐чиЛх╣╢ф╕Нф╝Ъш┐ЫхЕецОТщШЯщШЯхИЧя╝МшжБцГ│хЖНцмбшО╖х╛ЧщФБх░▒шжБхЖНцмбшзжхПСшО╖х╛ЧщФБцУНф╜ЬуАВ</li> <li>ш┐ЩцККщФБцШпщЭЮщЗНхЕечЪДя╝МхРМф╕Аф╕кч║┐чиЛхЬиц▓бцЬЙщЗКцФ╛щФБф╣ЛхЙНцЧац│ХхЖНцмбшО╖х╛ЧшпещФБуАВхЫаф╕║цХ░цНоф╕нцХ░цНох╖▓ч╗ПхнШхЬиф║ЖуАВ</li></ol> <h4 id="шзгхЖ│хКЮц│Х"><a href="#шзгхЖ│хКЮц│Х" class="header-anchor">#</a> шзгхЖ│хКЮц│Х</h4> <ol><li>хНХчВ╣щЧощвШхПпф╗ечФихдЪцХ░цНох║УхоЮф╛Ля╝МхРМцЧ╢хбЮ N ф╕кшбия╝МN/2+1 ф╕кцИРхКЯх░▒ф╗╗хКбщФБхоЪцИРхКЯ</li> <li>хЖЩф╕Аф╕кхоЪцЧ╢ф╗╗хКбя╝МщЪФф╕Ацо╡цЧ╢щЧ┤ц╕ЕщЩдф╕Ацмбш┐ЗцЬЯчЪДцХ░цНоуАВ</li> <li>хЖЩф╕Аф╕к while х╛кчОпя╝Мф╕НцЦнчЪДщЗНшпХцПТхЕея╝МчЫ┤хИ░цИРхКЯуАВ</li> <li>хЬицХ░цНох║Ушбиф╕нхКаф╕кхнЧцо╡я╝Мшо░х╜Хх╜УхЙНшО╖х╛ЧщФБчЪДцЬ║хЩичЪДф╕╗цЬ║ф┐бцБпхТМч║┐чиЛф┐бцБпя╝МщВгф╣Иф╕ЛцмбхЖНшО╖хПЦщФБчЪДцЧ╢хАЩхЕИцЯешпвцХ░цНох║Уя╝МхжВцЮЬх╜УхЙНцЬ║хЩичЪДф╕╗цЬ║ф┐бцБпхТМч║┐чиЛф┐бцБпхЬицХ░цНох║УхПпф╗ецЯехИ░чЪДшпЭя╝МчЫ┤цОецККщФБхИЖщЕНч╗Щф╗Цх░▒хПпф╗еф║ЖуАВ</li></ol> <h4 id="х░Пч╗У"><a href="#х░Пч╗У" class="header-anchor">#</a> х░Пч╗У</h4> <ul><li>ф╝ШчВ╣: чЫ┤цОехАЯхКйцХ░цНох║Уя╝Мхо╣цШУчРЖшзгуАВ</li> <li>ч╝║чВ╣: ф╝ЪцЬЙхРДчзНхРДца╖чЪДщЧощвШя╝МхЬишзгхЖ│щЧощвШчЪДш┐ЗчиЛф╕нф╝Ъф╜┐цХ┤ф╕кцЦ╣цбИхПШх╛Чш╢КцЭеш╢КхдНцЭВуАВцУНф╜ЬцХ░цНох║УщЬАшжБф╕АхоЪчЪДх╝АщФАя╝МцАзшГ╜щЧощвШщЬАшжБшАГшЩСуАВ</li></ul> <h3 id="хЯ║ф║О-redis-хоЮчО░хИЖх╕Гх╝ПщФБ"><a href="#хЯ║ф║О-redis-хоЮчО░хИЖх╕Гх╝ПщФБ" class="header-anchor">#</a> хЯ║ф║О Redis хоЮчО░хИЖх╕Гх╝ПщФБ</h3> <p>чЫ╕цпФф║ОчФицХ░цНох║УцЭехоЮчО░хИЖх╕Гх╝ПщФБя╝МхЯ║ф║Оч╝УхнШхоЮчО░чЪДхИЖх╕Гх╝ПщФБчЪДцАзшГ╜ф╝ЪцЫ┤хе╜ф╕Аф║ЫуАВчЫохЙНцЬЙх╛ИхдЪцИРчЖЯчЪДхИЖх╕Гх╝Пф║зхУБя╝МхМЕцЛм RedisуАБmemcacheуАБTair чнЙуАВш┐ЩщЗМф╗е Redis ф╕╛ф╛ЛуАВ</p> <h4 id="redis-хС╜ф╗д"><a href="#redis-хС╜ф╗д" class="header-anchor">#</a> Redis хС╜ф╗д</h4> <ul><li>setnx - setnx key valя╝Ъх╜Уф╕Фф╗Ех╜У key ф╕НхнШхЬицЧ╢я╝Мset ф╕Аф╕к key ф╕║ val чЪДхнЧчмжф╕▓я╝Мш┐ФхЫЮ 1я╝ЫшЛе key хнШхЬия╝МхИЩф╗Аф╣ИщГ╜ф╕НхБЪя╝Мш┐ФхЫЮ 0уАВ</li> <li>expire - expire key timeoutя╝Ъф╕║ key шо╛ч╜оф╕Аф╕кш╢ЕцЧ╢цЧ╢щЧ┤я╝МхНХф╜Нф╕║ secondя╝Мш╢Еш┐Зш┐Щф╕кцЧ╢щЧ┤щФБф╝ЪшЗкхКищЗКцФ╛я╝МщБ┐хЕНцн╗щФБуАВ</li> <li>delete - delete keyя╝ЪхИащЩд key</li></ul> <h4 id="хоЮчО░-2"><a href="#хоЮчО░-2" class="header-anchor">#</a> хоЮчО░</h4> <p>хНХчВ╣хоЮчО░цнещкдя╝Ъ</p> <ol><li>шО╖хПЦщФБчЪДф╜┐чФия╝Мф╜┐чФи setnx хКащФБя╝МщФБчЪД value хА╝ф╕║ф╕Аф╕кщЪПцЬ║чФЯцИРчЪД UUIDя╝МхЖНф╜┐чФи expire шо╛ч╜оф╕Аф╕кш┐ЗцЬЯхА╝уАВ</li> <li>шО╖хПЦщФБчЪДцЧ╢хАЩш┐Шшо╛ч╜оф╕Аф╕кшО╖хПЦчЪДш╢ЕцЧ╢цЧ╢щЧ┤я╝МшЛеш╢Еш┐Зш┐Щф╕кцЧ╢щЧ┤хИЩцФ╛х╝ГшО╖хПЦщФБуАВ</li> <li>щЗКцФ╛щФБчЪДцЧ╢хАЩя╝МщАЪш┐З UUID хИдцЦнцШпф╕НцШпшпещФБя╝МшЛецШпшпещФБя╝МхИЩцЙзшбМ delete ш┐ЫшбМщФБщЗКцФ╛уАВ</li></ol> <h4 id="щЧощвШ-2"><a href="#щЧощвШ-2" class="header-anchor">#</a> щЧощвШ</h4> <ul><li>хНХчВ╣щЧощвШуАВхжВцЮЬхНХцЬ║ redis цМВцОЙф║Жя╝МщВгф╣ИчиЛх║Пф╝Ъш╖ЯчЭАхЗ║щФЩуАВ</li> <li>хжВцЮЬш╜мчз╗ф╜┐чФи slave шКВчВ╣я╝МхдНхИ╢ф╕НцШпхРМцнехдНхИ╢я╝Мф╝ЪхЗ║чО░хдЪф╕кчиЛх║ПшО╖хПЦщФБчЪДцГЕхЖ╡</li></ul> <h4 id="х░Пч╗У-2"><a href="#х░Пч╗У-2" class="header-anchor">#</a> х░Пч╗У</h4> <p>хПпф╗ешАГшЩСф╜┐чФи <a href="https://github.com/redisson/redisson/wiki/8.-%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E5%92%8C%E5%90%8C%E6%AD%A5%E5%99%A8" target="_blank" rel="noopener noreferrer">redisson чЪДшзгхЖ│цЦ╣цбИ<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>уАВ</p> <h3 id="хЯ║ф║О-zookeeper-хоЮчО░хИЖх╕Гх╝ПщФБ"><a href="#хЯ║ф║О-zookeeper-хоЮчО░хИЖх╕Гх╝ПщФБ" class="header-anchor">#</a> хЯ║ф║О ZooKeeper хоЮчО░хИЖх╕Гх╝ПщФБ</h3> <h4 id="хоЮчО░-3"><a href="#хоЮчО░-3" class="header-anchor">#</a> хоЮчО░</h4> <p>ш┐Щф╣ЯцШп ZooKeeper ховцИ╖члп curator чЪДхИЖх╕Гх╝ПщФБхоЮчО░уАВ</p> <ol><li>хИЫх╗║ф╕Аф╕кчЫох╜Х mylockя╝Ы</li> <li>ч║┐чиЛ A цГ│шО╖хПЦщФБх░▒хЬи mylock чЫох╜Хф╕ЛхИЫх╗║ф╕┤цЧ╢щб║х║ПшКВчВ╣я╝Ы</li> <li>шО╖хПЦ mylock чЫох╜Хф╕ЛцЙАцЬЙчЪДхнРшКВчВ╣я╝МчД╢хРОшО╖хПЦцпФшЗкх╖▒х░ПчЪДхЕДх╝ЯшКВчВ╣я╝МхжВцЮЬф╕НхнШхЬия╝МхИЩшп┤цШОх╜УхЙНч║┐чиЛщб║х║ПхП╖цЬАх░Пя╝МшО╖х╛ЧщФБя╝Ы</li> <li>ч║┐чиЛ B шО╖хПЦцЙАцЬЙшКВчВ╣я╝МхИдцЦншЗкх╖▒ф╕НцШпцЬАх░ПшКВчВ╣я╝Мшо╛ч╜очЫСхРмцпФшЗкх╖▒цмбх░ПчЪДшКВчВ╣я╝Ы</li> <li>ч║┐чиЛ A хдДчРЖхоМя╝МхИащЩдшЗкх╖▒чЪДшКВчВ╣я╝Мч║┐чиЛ B чЫСхРмхИ░хПШцЫ┤ф║Лф╗╢я╝МхИдцЦншЗкх╖▒цШпф╕НцШпцЬАх░ПчЪДшКВчВ╣я╝МхжВцЮЬцШпхИЩшО╖х╛ЧщФБуАВ</li></ol> <h4 id="х░Пч╗У-3"><a href="#х░Пч╗У-3" class="header-anchor">#</a> х░Пч╗У</h4> <p>ZooKeeper чЙИцЬмчЪДхИЖх╕Гх╝ПщФБщЧощвШчЫ╕хп╣цпФш╛ГцЭешп┤х░СуАВ</p> <ul><li>щФБчЪДхНачФицЧ╢щЧ┤щЩРхИ╢я╝Ъredis х░▒цЬЙхНачФицЧ╢щЧ┤щЩРхИ╢я╝МшАМ ZooKeeper хИЩц▓бцЬЙя╝МцЬАф╕╗шжБчЪДхОЯхЫацШп redis чЫохЙНц▓бцЬЙхКЮц│ХчЯещБУх╖▓ч╗ПшО╖хПЦщФБчЪДховцИ╖члпчЪДчК╢цАБя╝МцШпх╖▓ч╗ПцМВф║ЖхСвш┐ШцШпцнгхЬицЙзшбМшАЧцЧ╢ш╛ГщХ┐чЪДф╕ЪхКбщА╗ш╛СуАВшАМ ZooKeeper щАЪш┐Зф╕┤цЧ╢шКВчВ╣х░▒шГ╜ц╕ЕцЩ░чЯещБУя╝МхжВцЮЬф╕┤цЧ╢шКВчВ╣хнШхЬишп┤цШОш┐ШхЬицЙзшбМф╕ЪхКбщА╗ш╛Ся╝МхжВцЮЬф╕┤цЧ╢шКВчВ╣ф╕НхнШхЬишп┤цШОх╖▓ч╗ПцЙзшбМхоМцпХщЗКцФ╛щФБцИЦшАЕцШпцМВф║ЖуАВчФ▒цндчЬЛцЭе redis хжВцЮЬшГ╜хГП ZooKeeper ф╕Аца╖ц╖╗хКаф╕Аф║Ыф╕ОховцИ╖члпч╗СхоЪчЪДф╕┤цЧ╢щФоя╝Мф╣ЯцШпф╕Ахдзхе╜ф║ЛуАВ</li> <li>цШпхРжхНХчВ╣цХЕщЪЬя╝Ъredis цЬмш║лцЬЙх╛ИхдЪф╕нчОйц│Хя╝МхжВховцИ╖члпф╕АшЗ┤цАз hashя╝МцЬНхКбхЩичлп sentinel цЦ╣цбИцИЦшАЕ cluster цЦ╣цбИя╝Мх╛ИщЪ╛хБЪхИ░ф╕АчзНхИЖх╕Гх╝ПщФБцЦ╣х╝ПшГ╜х║Фхп╣цЙАцЬЙш┐Щф║ЫцЦ╣цбИуАВшАМ ZooKeeper хПкцЬЙф╕АчзНчОйц│Хя╝МхдЪхП░цЬ║хЩичЪДшКВчВ╣цХ░цНоцШпф╕АшЗ┤чЪДя╝Мц▓бцЬЙ redis чЪДщВгф╣ИхдЪчЪДщ║╗чГжхЫач┤ашжБшАГшЩСуАВ</li></ul> <p>цА╗ф╜Уф╕КцЭешп┤ ZooKeeper хоЮчО░хИЖх╕Гх╝ПщФБцЫ┤хКачЪДчоАхНХя╝МхПпщЭацАзцЫ┤щлШуАВф╜Ж ZooKeeper хЫаф╕║щЬАшжБщвСч╣БчЪДхИЫх╗║хТМхИащЩдшКВчВ╣я╝МцАзшГ╜ф╕Кф╕НхжВ Redis цЦ╣х╝ПуАВ</p> <h2 id="хИЖх╕Гх╝П-session"><a href="#хИЖх╕Гх╝П-session" class="header-anchor">#</a> хИЖх╕Гх╝П Session</h2> <p>хЬихИЖх╕Гх╝ПхЬ║цЩпф╕Ля╝Мф╕Аф╕кчФицИ╖чЪД Session хжВцЮЬхПкхнШхВихЬиф╕Аф╕кцЬНхКбхЩиф╕Кя╝МщВгф╣Их╜Уш┤Яш╜╜хЭЗшббхЩицККчФицИ╖чЪДф╕Лф╕Аф╕кшп╖ц▒Вш╜мхПСхИ░хПжф╕Аф╕кцЬНхКбхЩиф╕Кя╝МшпецЬНхКбхЩиц▓бцЬЙчФицИ╖чЪД Sessionя╝Мх░▒хПпшГ╜хп╝шЗ┤чФицИ╖щЬАшжБщЗНцЦ░ш┐ЫшбМчЩ╗х╜ХчнЙцУНф╜ЬуАВ</p> <p>хИЖх╕Гх╝П Session чЪДхЗачзНхоЮчО░чнЦчХея╝Ъ</p> <ol><li>ч▓ШцАз session</li> <li>х║ФчФицЬНхКбхЩищЧ┤чЪД session хдНхИ╢хЕ▒ф║л</li> <li>хЯ║ф║О cache DB ч╝УхнШчЪД session хЕ▒ф║л</li></ol> <h3 id="sticky-sessions"><a href="#sticky-sessions" class="header-anchor">#</a> Sticky Sessions</h3> <p>щЬАшжБщЕНч╜ош┤Яш╜╜хЭЗшббхЩия╝Мф╜┐х╛Чф╕Аф╕кчФицИ╖чЪДцЙАцЬЙшп╖ц▒ВщГ╜ш╖пчФ▒хИ░ф╕Аф╕кцЬНхКбхЩишКВчВ╣ф╕Кя╝Мш┐Щца╖х░▒хПпф╗ецККчФицИ╖чЪД Session хнШцФ╛хЬишпецЬНхКбхЩишКВчВ╣ф╕нуАВ</p> <p>ч╝║чВ╣я╝Ъх╜УцЬНхКбхЩишКВчВ╣хоХцЬ║цЧ╢я╝Мх░Жф╕вхд▒шпецЬНхКбхЩишКВчВ╣ф╕КчЪДцЙАцЬЙ SessionуАВ</p> <div align="center"><img src="https://raw.githubusercontent.com/dunwu/images/dev/cs/design/architecture/MultiNode-StickySessions.jpg"></div> <h3 id="session-replication"><a href="#session-replication" class="header-anchor">#</a> Session Replication</h3> <p>хЬицЬНхКбхЩишКВчВ╣ф╣ЛщЧ┤ш┐ЫшбМ Session хРМцнецУНф╜Ья╝Мш┐Щца╖чЪДшпЭчФицИ╖хПпф╗ешо┐щЧоф╗╗ф╜Хф╕Аф╕кцЬНхКбхЩишКВчВ╣уАВ</p> <p>ч╝║чВ╣я╝ЪхНачФиш┐ЗхдЪхЖЕхнШя╝ЫхРМцнеш┐ЗчиЛхНачФич╜Сч╗Ьх╕жхо╜ф╗ехПКцЬНхКбхЩихдДчРЖхЩицЧ╢щЧ┤уАВ</p> <div align="center"><img src="https://raw.githubusercontent.com/dunwu/images/dev/cs/design/architecture/MultiNode-SessionReplication.jpg"></div> <h3 id="session-server"><a href="#session-server" class="header-anchor">#</a> Session Server</h3> <p>ф╜┐чФиф╕Аф╕кхНХчЛмчЪДцЬНхКбхЩихнШхВи Session цХ░цНоя╝МхПпф╗ехнШхЬи MySQL цХ░цНох║Уф╕Кя╝Мф╣ЯхПпф╗ехнШхЬи Redis цИЦшАЕ Memcached ш┐ЩчзНхЖЕхнШхЮЛцХ░цНох║УуАВ</p> <p>ч╝║чВ╣я╝ЪщЬАшжБхО╗хоЮчО░хнШхПЦ Session чЪДф╗гчаБуАВ</p> <div align="center"><img src="https://raw.githubusercontent.com/dunwu/images/dev/cs/design/architecture/MultiNode-SpringSession.jpg"></div> <h2 id="хИЖх╕Гх╝ПхнШхВи"><a href="#хИЖх╕Гх╝ПхнШхВи" class="header-anchor">#</a> хИЖх╕Гх╝ПхнШхВи</h2> <p>щАЪх╕╕цЬЙф╕дчзНшзгхЖ│цЦ╣цбИя╝Ъ</p> <ol><li>цХ░цНохИЖх╕Гя╝Ъх░▒цШпцККцХ░цНохИЖхЭЧхнШхЬиф╕НхРМчЪДцЬНхКбхЩиф╕Кя╝ИхИЖх║УхИЖшбия╝ЙуАВ</li> <li>цХ░цНохдНхИ╢я╝ЪшойцЙАцЬЙчЪДцЬНхКбхЩищГ╜цЬЙчЫ╕хРМчЪДцХ░цНоя╝МцПРф╛ЫчЫ╕х╜УчЪДцЬНхКбуАВ</li></ol> <blockquote><p>хПВшАГя╝Ъ<a href="/design/architecture/хИЖх╕Гх╝ПхОЯчРЖ.html#2-цХ░цНохИЖх╕Г">хИЖх╕Гх╝ПхОЯчРЖ.md#2-цХ░цНохИЖх╕Г</a></p></blockquote> <h2 id="хИЖх╕Гх╝Пч╝УхнШ"><a href="#хИЖх╕Гх╝Пч╝УхнШ" class="header-anchor">#</a> хИЖх╕Гх╝Пч╝УхнШ</h2> <p>ф╜┐чФич╝УхнШчЪДхе╜хдДя╝Ъ</p> <ul><li>цПРхНЗцХ░цНошп╗хПЦщАЯх║ж</li> <li>цПРхНЗч│╗ч╗ЯцЙйх▒ХшГ╜хКЫя╝МщАЪш┐ЗцЙйх▒Хч╝УхнШя╝МцПРхНЗч│╗ч╗ЯцЙ┐ш╜╜шГ╜хКЫ</li> <li>щЩНф╜ОхнШхВицИРцЬмя╝МCache+DB чЪДцЦ╣х╝ПхПпф╗ецЙ┐цЛЕхОЯцЬЙщЬАшжБхдЪхП░ DB цЙНшГ╜цЙ┐цЛЕчЪДшп╖ц▒ВщЗПя╝МшКВчЬБцЬ║хЩицИРцЬм</li></ul> <p>ца╣цНоф╕ЪхКбхЬ║цЩпя╝МщАЪх╕╕ч╝УхнШцЬЙф╗еф╕ЛхЗачзНф╜┐чФицЦ╣х╝П</p> <ul><li>цЗТц▒Йх╝П(шп╗цЧ╢шзжхПС)я╝ЪхЖЩхЕе DB хРО, чД╢хРОцККчЫ╕хЕ│чЪДцХ░цНоф╣ЯхЖЩхЕе Cache</li> <li>щееще┐х╝П(хЖЩцЧ╢шзжхПС)я╝ЪхЕИцЯешпв DB щЗМчЪДцХ░цНо, чД╢хРОцККчЫ╕хЕ│чЪДцХ░цНохЖЩхЕе Cache</li> <li>хоЪцЬЯхИ╖цЦ░я╝ЪщАВхРИхСицЬЯцАзчЪДш╖СцХ░цНочЪДф╗╗хКбя╝МцИЦшАЕхИЧшбихЮЛчЪДцХ░цНоя╝МшАМф╕Фф╕НшжБц▒Вч╗Эхп╣хоЮцЧ╢цАз</li></ul> <p>ч╝УхнШхИЖч▒╗я╝Ъ</p> <ul><li>х║ФчФихЖЕч╝УхнШя╝ЪхжВя╝ЪEHCache</li> <li>хИЖх╕Гх╝Пч╝УхнШя╝ЪхжВя╝ЪMemachedуАБRedis</li></ul> <blockquote><p>хПВшАГя╝Ъ<a href="/design/architecture/хИЖх╕Гх╝ПхОЯчРЖ.html#6-хИЖх╕Гх╝Пч╝УхнШщЧощвШ">хИЖх╕Гх╝ПхОЯчРЖ.md#6-хИЖх╕Гх╝Пч╝УхнШщЧощвШ</a></p></blockquote> <h2 id="хИЖх╕Гх╝ПшобчоЧ"><a href="#хИЖх╕Гх╝ПшобчоЧ" class="header-anchor">#</a> хИЖх╕Гх╝ПшобчоЧ</h2> <h2 id="ш┤Яш╜╜хЭЗшбб"><a href="#ш┤Яш╜╜хЭЗшбб" class="header-anchor">#</a> ш┤Яш╜╜хЭЗшбб</h2> <h3 id="чоЧц│Х"><a href="#чоЧц│Х" class="header-anchor">#</a> чоЧц│Х</h3> <h4 id="ш╜ошпв-round-robin"><a href="#ш╜ошпв-round-robin" class="header-anchor">#</a> ш╜ошпвя╝ИRound Robinя╝Й</h4> <p>ш╜ошпвчоЧц│ХцККцпПф╕кшп╖ц▒Вш╜оц╡БхПСщАБхИ░цпПф╕кцЬНхКбхЩиф╕КуАВф╕ЛхЫ╛ф╕ня╝Мф╕АхЕ▒цЬЙ 6 ф╕кховцИ╖члпф║зчФЯф║Ж 6 ф╕кшп╖ц▒Вя╝Мш┐Щ 6 ф╕кшп╖ц▒ВцМЙ (1, 2, 3, 4, 5, 6) чЪДщб║х║ПхПСщАБуАВцЬАхРОя╝М(1, 3, 5) чЪДшп╖ц▒Вф╝ЪшвлхПСщАБхИ░цЬНхКбхЩи 1я╝М(2, 4, 6) чЪДшп╖ц▒Вф╝ЪшвлхПСщАБхИ░цЬНхКбхЩи 2уАВ</p> <div align="center"><img src="https://raw.githubusercontent.com/dunwu/images/dev/cs/design/architecture/ш┤Яш╜╜хЭЗшббчоЧц│Хф╣Лш╜ошпв-01.jpg" width="640"></div> <p>шпечоЧц│ХцпФш╛ГщАВхРИцпПф╕кцЬНхКбхЩичЪДцАзшГ╜х╖оф╕НхдЪчЪДхЬ║цЩпя╝МхжВцЮЬцЬЙцАзшГ╜хнШхЬих╖ох╝ВчЪДцГЕхЖ╡ф╕Ля╝МщВгф╣ИцАзшГ╜ш╛Гх╖очЪДцЬНхКбхЩихПпшГ╜цЧац│ХцЙ┐цЛЕш┐ЗхдзчЪДш┤Яш╜╜я╝Иф╕ЛхЫ╛чЪД Server 2я╝ЙуАВ</p> <div align="center"><img src="https://raw.githubusercontent.com/dunwu/images/dev/cs/design/architecture/ш┤Яш╜╜хЭЗшббчоЧц│Хф╣Лш╜ошпв-02.jpg" width="640"></div> <h4 id="хКацЭГш╜ошпв-weighted-round-robbin"><a href="#хКацЭГш╜ошпв-weighted-round-robbin" class="header-anchor">#</a> хКацЭГш╜ошпвя╝ИWeighted Round Robbinя╝Й</h4> <p>хКацЭГш╜ошпвцШпхЬиш╜ошпвчЪДхЯ║чбАф╕Кя╝Мца╣цНоцЬНхКбхЩичЪДцАзшГ╜х╖ох╝Вя╝Мф╕║цЬНхКбхЩиш╡Лф║Иф╕АхоЪчЪДцЭГхА╝уАВф╛ЛхжВф╕ЛхЫ╛ф╕ня╝МцЬНхКбхЩи 1 швлш╡Лф║ИчЪДцЭГхА╝ф╕║ 5я╝МцЬНхКбхЩи 2 швлш╡Лф║ИчЪДцЭГхА╝ф╕║ 1я╝МщВгф╣И (1, 2, 3, 4, 5) шп╖ц▒Вф╝ЪшвлхПСщАБхИ░цЬНхКбхЩи 1я╝М(6) шп╖ц▒Вф╝ЪшвлхПСщАБхИ░цЬНхКбхЩи 2уАВ</p> <div align="center"><img src="https://raw.githubusercontent.com/dunwu/images/dev/cs/design/architecture/ш┤Яш╜╜хЭЗшббчоЧц│Хф╣ЛхКацЭГш╜ошпв.jpg" width="640"></div> <h4 id="цЬАх░Сш┐ЮцОе-least-connections"><a href="#цЬАх░Сш┐ЮцОе-least-connections" class="header-anchor">#</a> цЬАх░Сш┐ЮцОея╝Иleast Connectionsя╝Й</h4> <p>чФ▒ф║ОцпПф╕кшп╖ц▒ВчЪДш┐ЮцОецЧ╢щЧ┤ф╕Нф╕Аца╖я╝Мф╜┐чФиш╜ошпвцИЦшАЕхКацЭГш╜ошпвчоЧц│ХчЪДшпЭя╝МхПпшГ╜ф╝Ъшойф╕АхП░цЬНхКбхЩих╜УхЙНш┐ЮцОецХ░ш┐Зхдзя╝МшАМхПжф╕АхП░цЬНхКбхЩичЪДш┐ЮцОеш┐Зх░Пя╝МщАацИРш┤Яш╜╜ф╕НхЭЗшббуАВф╛ЛхжВф╕ЛхЫ╛ф╕ня╝М(1, 3, 5) шп╖ц▒Вф╝ЪшвлхПСщАБхИ░цЬНхКбхЩи 1я╝Мф╜ЖцШп (1, 3) х╛Их┐лх░▒цЦнх╝Аш┐ЮцОея╝МцндцЧ╢хПкцЬЙ (5) шп╖ц▒Вш┐ЮцОецЬНхКбхЩи 1я╝Ы(2, 4, 6) шп╖ц▒ВшвлхПСщАБхИ░цЬНхКбхЩи 2я╝МхПкцЬЙ (2) чЪДш┐ЮцОецЦнх╝АуАВшпеч│╗ч╗Яч╗зч╗нш┐РшбМцЧ╢я╝МцЬНхКбхЩи 2 ф╝ЪцЙ┐цЛЕш┐ЗхдзчЪДш┤Яш╜╜уАВ</p> <div align="center"><img src="https://raw.githubusercontent.com/dunwu/images/dev/cs/design/architecture/ш┤Яш╜╜хЭЗшббчоЧц│Хф╣ЛцЬАх░Сш┐ЮцОе-01.jpg" width="640"></div> <p>цЬАх░Сш┐ЮцОечоЧц│Хх░▒цШпх░Жшп╖ц▒ВхПСщАБч╗Щх╜УхЙНцЬАх░Сш┐ЮцОецХ░чЪДцЬНхКбхЩиф╕КуАВф╛ЛхжВф╕ЛхЫ╛ф╕ня╝МцЬНхКбхЩи 1 х╜УхЙНш┐ЮцОецХ░цЬАх░Пя╝МщВгф╣ИцЦ░хИ░цЭечЪДшп╖ц▒В 6 х░▒ф╝ЪшвлхПСщАБхИ░цЬНхКбхЩи 1 ф╕КуАВ</p> <div align="center"><img src="https://raw.githubusercontent.com/dunwu/images/dev/cs/design/architecture/ш┤Яш╜╜хЭЗшббчоЧц│Хф╣ЛцЬАх░Сш┐ЮцОе-02.jpg" width="640"></div> <h4 id="хКацЭГцЬАх░Сш┐ЮцОе-weighted-least-connection"><a href="#хКацЭГцЬАх░Сш┐ЮцОе-weighted-least-connection" class="header-anchor">#</a> хКацЭГцЬАх░Сш┐ЮцОея╝ИWeighted Least Connectionя╝Й</h4> <p>хЬицЬАх░Сш┐ЮцОечЪДхЯ║чбАф╕Кя╝Мца╣цНоцЬНхКбхЩичЪДцАзшГ╜ф╕║цпПхП░цЬНхКбхЩихИЖщЕНцЭГщЗНя╝МхЖНца╣цНоцЭГщЗНшобчоЧхЗ║цпПхП░цЬНхКбхЩишГ╜хдДчРЖчЪДш┐ЮцОецХ░уАВ</p> <div align="center"><img src="https://raw.githubusercontent.com/dunwu/images/dev/cs/design/architecture/ш┤Яш╜╜хЭЗшббчоЧц│Хф╣ЛхКацЭГцЬАх░Сш┐ЮцОе.jpg" width="640"></div> <h4 id="щЪПцЬ║чоЧц│Х-random"><a href="#щЪПцЬ║чоЧц│Х-random" class="header-anchor">#</a> щЪПцЬ║чоЧц│Хя╝ИRandomя╝Й</h4> <p>цККшп╖ц▒ВщЪПцЬ║хПСщАБхИ░цЬНхКбхЩиф╕КуАВхТМш╜ошпвчоЧц│Хч▒╗ф╝╝я╝МшпечоЧц│ХцпФш╛ГщАВхРИцЬНхКбхЩицАзшГ╜х╖оф╕НхдЪчЪДхЬ║цЩпуАВ</p> <div align="center"><img src="https://raw.githubusercontent.com/dunwu/images/dev/cs/design/architecture/ш┤Яш╜╜хЭЗшббчоЧц│Хф╣ЛщЪПцЬ║.jpg" width="640"></div> <h4 id="ц║РхЬ░хЭАхУИх╕Мц│Х-ip-hash"><a href="#ц║РхЬ░хЭАхУИх╕Мц│Х-ip-hash" class="header-anchor">#</a> ц║РхЬ░хЭАхУИх╕Мц│Х (IP Hash)</h4> <p>ц║РхЬ░хЭАхУИх╕МщАЪш┐Зхп╣ховцИ╖члп IP хУИх╕МшобчоЧх╛ЧхИ░чЪДф╕Аф╕кцХ░хА╝я╝МчФишпецХ░хА╝хп╣цЬНхКбхЩицХ░щЗПш┐ЫшбМхПЦцибш┐РчоЧя╝МхПЦцибч╗УцЮЬф╛┐цШпчЫоцаЗцЬНхКбхЩичЪДх║ПхП╖уАВ</p> <ul><li>ф╝ШчВ╣я╝Ъф┐ЭшпБхРМф╕А IP чЪДховцИ╖члпщГ╜ф╝Ъшвл hash хИ░хРМф╕АхП░цЬНхКбхЩиф╕КуАВ</li> <li>ч╝║чВ╣я╝Ъф╕НхИйф║ОщЫЖч╛дцЙйх▒Хя╝МхРОхП░цЬНхКбхЩицХ░щЗПхПШцЫ┤щГ╜ф╝Ъх╜▒хУН hash ч╗УцЮЬуАВхПпф╗ещЗЗчФиф╕АшЗ┤цАз Hash цФ╣ш┐ЫуАВ</li></ul> <div align="center"><img src="https://raw.githubusercontent.com/dunwu/images/dev/cs/design/architecture/ш┤Яш╜╜хЭЗшббчоЧц│Хф╣ЛIpHash.jpg" width="640"></div> <h3 id="хоЮчО░-4"><a href="#хоЮчО░-4" class="header-anchor">#</a> хоЮчО░</h3> <h4 id="http-щЗНхоЪхРС"><a href="#http-щЗНхоЪхРС" class="header-anchor">#</a> HTTP щЗНхоЪхРС</h4> <p>HTTP щЗНхоЪхРСш┤Яш╜╜хЭЗшббцЬНхКбхЩицФ╢хИ░ HTTP шп╖ц▒Вф╣ЛхРОф╝Ъш┐ФхЫЮцЬНхКбхЩичЪДхЬ░хЭАя╝Мх╣╢х░ЖшпехЬ░хЭАхЖЩхЕе HTTP щЗНхоЪхРСхУНх║Фф╕нш┐ФхЫЮч╗Щц╡ПшзИхЩия╝Мц╡ПшзИхЩицФ╢хИ░хРОщЬАшжБхЖНцмбхПСщАБшп╖ц▒ВуАВ</p> <p>ч╝║чВ╣я╝Ъ</p> <ul><li>чФицИ╖шо┐щЧочЪДх╗╢ш┐Яф╝ЪхвЮхКая╝Ы</li> <li>хжВцЮЬш┤Яш╜╜хЭЗшббхЩихоХцЬ║я╝Мх░▒цЧац│Хшо┐щЧошпечлЩчВ╣уАВ</li></ul> <div align="center"><img src="https://raw.githubusercontent.com/dunwu/images/dev/cs/design/architecture/HttpщЗНхоЪхРС.png" width="640"></div> <h4 id="dns-щЗНхоЪхРС"><a href="#dns-щЗНхоЪхРС" class="header-anchor">#</a> DNS щЗНхоЪхРС</h4> <p>ф╜┐чФи DNS ф╜Ьф╕║ш┤Яш╜╜хЭЗшббхЩия╝Мца╣цНош┤Яш╜╜цГЕхЖ╡ш┐ФхЫЮф╕НхРМцЬНхКбхЩичЪД IP хЬ░хЭАуАВхдзхЮЛч╜СчлЩхЯ║цЬмф╜┐чФиф║Жш┐ЩчзНцЦ╣х╝ПхБЪф╕║чммф╕Ач║зш┤Яш╜╜хЭЗшббцЙЛцо╡я╝МчД╢хРОхЬихЖЕщГиф╜┐чФихЕ╢хоГцЦ╣х╝ПхБЪчммф║Мч║зш┤Яш╜╜хЭЗшббуАВ</p> <p>ч╝║чВ╣я╝Ъ</p> <ul><li>DNS цЯецЙ╛шбихПпшГ╜ф╝ЪшвлховцИ╖члпч╝УхнШш╡╖цЭея╝МщВгф╣Иф╣ЛхРОчЪДцЙАцЬЙшп╖ц▒ВщГ╜ф╝ЪшвлщЗНхоЪхРСхИ░хРМф╕Аф╕кцЬНхКбхЩиуАВ</li></ul> <div align="center"><img src="https://raw.githubusercontent.com/dunwu/images/dev/cs/design/architecture/DnsщЗНхоЪхРС.png" width="640"></div> <h4 id="ф┐оцФ╣-mac-хЬ░хЭА"><a href="#ф┐оцФ╣-mac-хЬ░хЭА" class="header-anchor">#</a> ф┐оцФ╣ MAC хЬ░хЭА</h4> <p>ф╜┐чФи LVSя╝ИLinux Virtual Serverя╝Йш┐ЩчзНщУ╛ш╖пх▒Вш┤Яш╜╜хЭЗшббхЩия╝Мца╣цНош┤Яш╜╜цГЕхЖ╡ф┐оцФ╣шп╖ц▒ВчЪД MAC хЬ░хЭАуАВ</p> <div align="center"><img src="https://raw.githubusercontent.com/dunwu/images/dev/cs/design/architecture/ф┐оцФ╣MacхЬ░хЭА.png" width="640"></div> <h4 id="ф┐оцФ╣-ip-хЬ░хЭА"><a href="#ф┐оцФ╣-ip-хЬ░хЭА" class="header-anchor">#</a> ф┐оцФ╣ IP хЬ░хЭА</h4> <p>хЬич╜Сч╗Ьх▒Вф┐оцФ╣шп╖ц▒ВчЪДчЫочЪД IP хЬ░хЭАуАВ</p> <div align="center"><img src="https://raw.githubusercontent.com/dunwu/images/dev/cs/design/architecture/ф┐оцФ╣IPхЬ░хЭА.png" width="640"></div> <h4 id="ф╗гчРЖшЗкхКищЕНч╜о"><a href="#ф╗гчРЖшЗкхКищЕНч╜о" class="header-anchor">#</a> ф╗гчРЖшЗкхКищЕНч╜о</h4> <p>цнгхРСф╗гчРЖф╕ОхПНхРСф╗гчРЖчЪДхМ║хИля╝Ъ</p> <ul><li>цнгхРСф╗гчРЖя╝ЪхПСчФЯхЬиховцИ╖члпя╝МцШпчФ▒чФицИ╖ф╕╗хКихПСш╡╖чЪДуАВцпФхжВч┐╗хвЩя╝МховцИ╖члпщАЪш┐Зф╕╗хКишо┐щЧоф╗гчРЖцЬНхКбхЩия╝Мшойф╗гчРЖцЬНхКбхЩишО╖х╛ЧщЬАшжБчЪДхдЦч╜СцХ░цНоя╝МчД╢хРОш╜мхПСхЫЮховцИ╖члпуАВ</li> <li>хПНхРСф╗гчРЖя╝ЪхПСчФЯхЬицЬНхКбхЩичлпя╝МчФицИ╖ф╕НчЯещБУф╗гчРЖчЪДхнШхЬиуАВ</li></ul> <p>PAC цЬНхКбхЩицШпчФицЭехИдцЦнф╕Аф╕кшп╖ц▒ВцШпхРжшжБч╗Пш┐Зф╗гчРЖуАВ</p> <div align="center"><img src="https://raw.githubusercontent.com/dunwu/images/dev/cs/design/architecture/ф╗гчРЖшЗкхКищЕНч╜о.jpg" width="640"></div> <h2 id="ш╡ДцЦЩ"><a href="#ш╡ДцЦЩ" class="header-anchor">#</a> ш╡ДцЦЩ</h2> <ul><li>https://www.cnblogs.com/savorboard/p/distributed-system-transaction-consistency.html</li> <li>https://github.com/CyC2018/Interview-Notebook/blob/master/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E9%97%AE%E9%A2%98%E5%88%86%E6%9E%90.md</li> <li>https://www.jianshu.com/p/453c6e7ff81c</li> <li>https://juejin.im/post/5a20cd8bf265da43163cdd9a</li> <li>https://github.com/redisson/redisson/wiki/8.-%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E5%92%8C%E5%90%8C%E6%AD%A5%E5%99%A8</li> <li>https://github.com/L316476844/distributed-session</li> <li><a href="https://juejin.im/entry/57e39e320e3dd90058021bff" target="_blank" rel="noopener noreferrer">хИЖх╕Гх╝Пч╝УхнШцЮ╢цЮДхЯ║чбА<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.toutiao.com/i6533812974807679495/?tt_from=weixin&amp;utm_campaign=client_share&amp;from=singlemessage&amp;timestamp=1521281305&amp;app=news_article&amp;utm_source=weixin&amp;iid=28128279343&amp;utm_medium=toutiao_android&amp;weixin_list=1&amp;wxshare_count=2&amp;pbid=6517746516513195523" target="_blank" rel="noopener noreferrer">щШ┐щЗМ P8 цКАцЬпф╕Ухо╢ч╗Жчй╢хИЖх╕Гх╝Пч╝УхнШщЧощвШ<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/dunwu/design/edit/master/docs/architecture/хдзхЮЛч│╗ч╗Яца╕х┐ГцКАцЬп.md" target="_blank" rel="noopener noreferrer">х╕охКйцИСф╗мцФ╣хЦДцндщб╡щЭвя╝Б</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">ф╕КцмбцЫ┤цЦ░:</span> <span class="time">4 months ago</span></div></footer> <!----> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/design/assets/js/app.31535b90.js" defer></script><script src="/design/assets/js/4.843d76c1.js" defer></script><script src="/design/assets/js/13.151414b4.js" defer></script><script src="/design/assets/js/5.eb6f8f38.js" defer></script>
  </body>
</html>
