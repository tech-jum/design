<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ч│╗ч╗ЯщлШцАзшГ╜цЮ╢цЮД | DESIGN</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/design/favicon.ico">
    <meta name="description" content="DESIGN">
    
    <link rel="preload" href="/design/assets/css/0.styles.3c2ef156.css" as="style"><link rel="preload" href="/design/assets/js/app.31535b90.js" as="script"><link rel="preload" href="/design/assets/js/4.843d76c1.js" as="script"><link rel="preload" href="/design/assets/js/21.38ae8c29.js" as="script"><link rel="preload" href="/design/assets/js/5.eb6f8f38.js" as="script"><link rel="prefetch" href="/design/assets/js/10.07f2584d.js"><link rel="prefetch" href="/design/assets/js/11.df166aa0.js"><link rel="prefetch" href="/design/assets/js/12.b7ade635.js"><link rel="prefetch" href="/design/assets/js/13.151414b4.js"><link rel="prefetch" href="/design/assets/js/14.5dd04c5d.js"><link rel="prefetch" href="/design/assets/js/15.14e9a635.js"><link rel="prefetch" href="/design/assets/js/16.8728dd67.js"><link rel="prefetch" href="/design/assets/js/17.1686b754.js"><link rel="prefetch" href="/design/assets/js/18.d815545e.js"><link rel="prefetch" href="/design/assets/js/19.d846ce2f.js"><link rel="prefetch" href="/design/assets/js/20.1dd8edb9.js"><link rel="prefetch" href="/design/assets/js/22.26dcb0f5.js"><link rel="prefetch" href="/design/assets/js/23.d996c1df.js"><link rel="prefetch" href="/design/assets/js/24.84573b57.js"><link rel="prefetch" href="/design/assets/js/25.362291b4.js"><link rel="prefetch" href="/design/assets/js/26.287f6746.js"><link rel="prefetch" href="/design/assets/js/27.665cd644.js"><link rel="prefetch" href="/design/assets/js/28.2d373aaa.js"><link rel="prefetch" href="/design/assets/js/29.18195cfe.js"><link rel="prefetch" href="/design/assets/js/30.b8a39bf2.js"><link rel="prefetch" href="/design/assets/js/31.e6497a3e.js"><link rel="prefetch" href="/design/assets/js/32.7c78886f.js"><link rel="prefetch" href="/design/assets/js/33.3a07575c.js"><link rel="prefetch" href="/design/assets/js/34.53801173.js"><link rel="prefetch" href="/design/assets/js/35.fe943393.js"><link rel="prefetch" href="/design/assets/js/36.e9ecc031.js"><link rel="prefetch" href="/design/assets/js/37.48dcf161.js"><link rel="prefetch" href="/design/assets/js/38.bc65c12c.js"><link rel="prefetch" href="/design/assets/js/39.76a7947c.js"><link rel="prefetch" href="/design/assets/js/40.57c60fe7.js"><link rel="prefetch" href="/design/assets/js/41.64d1acff.js"><link rel="prefetch" href="/design/assets/js/42.2b13267e.js"><link rel="prefetch" href="/design/assets/js/43.bc12e4a9.js"><link rel="prefetch" href="/design/assets/js/44.05348389.js"><link rel="prefetch" href="/design/assets/js/45.a821f14b.js"><link rel="prefetch" href="/design/assets/js/46.4f6121ee.js"><link rel="prefetch" href="/design/assets/js/47.2331491d.js"><link rel="prefetch" href="/design/assets/js/48.e99e2990.js"><link rel="prefetch" href="/design/assets/js/49.97ac4425.js"><link rel="prefetch" href="/design/assets/js/50.9561222b.js"><link rel="prefetch" href="/design/assets/js/51.5a3682fc.js"><link rel="prefetch" href="/design/assets/js/52.41f6da09.js"><link rel="prefetch" href="/design/assets/js/53.f3cbdb44.js"><link rel="prefetch" href="/design/assets/js/54.b64ed791.js"><link rel="prefetch" href="/design/assets/js/55.0b2515c6.js"><link rel="prefetch" href="/design/assets/js/56.f87ff124.js"><link rel="prefetch" href="/design/assets/js/57.c351d3a3.js"><link rel="prefetch" href="/design/assets/js/58.68c1d0ee.js"><link rel="prefetch" href="/design/assets/js/59.8cc7450d.js"><link rel="prefetch" href="/design/assets/js/6.cbcf7f30.js"><link rel="prefetch" href="/design/assets/js/60.f2f8871f.js"><link rel="prefetch" href="/design/assets/js/61.8922cbcd.js"><link rel="prefetch" href="/design/assets/js/62.ccb7c5ee.js"><link rel="prefetch" href="/design/assets/js/63.8191a330.js"><link rel="prefetch" href="/design/assets/js/64.1d881bbb.js"><link rel="prefetch" href="/design/assets/js/65.f4089278.js"><link rel="prefetch" href="/design/assets/js/66.66cf1b40.js"><link rel="prefetch" href="/design/assets/js/67.27e2cf6f.js"><link rel="prefetch" href="/design/assets/js/68.6a688bec.js"><link rel="prefetch" href="/design/assets/js/69.f59b5cd7.js"><link rel="prefetch" href="/design/assets/js/7.159ffade.js"><link rel="prefetch" href="/design/assets/js/70.aa52fe1c.js"><link rel="prefetch" href="/design/assets/js/71.f7f17e5c.js"><link rel="prefetch" href="/design/assets/js/72.f0a76070.js"><link rel="prefetch" href="/design/assets/js/73.b454f9b3.js"><link rel="prefetch" href="/design/assets/js/74.748903ca.js"><link rel="prefetch" href="/design/assets/js/75.1abb30fc.js"><link rel="prefetch" href="/design/assets/js/76.38081e86.js"><link rel="prefetch" href="/design/assets/js/77.631fd31e.js"><link rel="prefetch" href="/design/assets/js/78.b642c4ea.js"><link rel="prefetch" href="/design/assets/js/79.09f8c9ad.js"><link rel="prefetch" href="/design/assets/js/8.bbc07c86.js"><link rel="prefetch" href="/design/assets/js/80.15162b19.js"><link rel="prefetch" href="/design/assets/js/81.0a02424d.js"><link rel="prefetch" href="/design/assets/js/82.0a6de1bd.js"><link rel="prefetch" href="/design/assets/js/83.8bd118c7.js"><link rel="prefetch" href="/design/assets/js/84.c9db97ea.js"><link rel="prefetch" href="/design/assets/js/85.ea23932a.js"><link rel="prefetch" href="/design/assets/js/86.a70e5ac7.js"><link rel="prefetch" href="/design/assets/js/9.c3d97cd4.js"><link rel="prefetch" href="/design/assets/js/vendors~flowchart.5fa23d41.js"><link rel="prefetch" href="/design/assets/js/vendors~notification.4b668bb8.js">
    <link rel="stylesheet" href="/design/assets/css/0.styles.3c2ef156.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/design/" class="home-link router-link-active"><img src="https://raw.githubusercontent.com/dunwu/images/dev/common/dunwu-logo-200.png" alt="DESIGN" class="logo"> <span class="site-name can-hide">DESIGN</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/design/architecture/" class="nav-link router-link-active">
  цЮ╢цЮД
</a></div><div class="nav-item"><a href="/design/distributed/" class="nav-link">
  хИЖх╕Гх╝П
</a></div><div class="nav-item"><a href="/design/pattern/" class="nav-link">
  шо╛шобцибх╝П
</a></div><div class="nav-item"><a href="/design/refactor/" class="nav-link">
  щЗНцЮД
</a></div><div class="nav-item"><a href="https://github.com/dunwu/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ЁЯОп хНЪхов
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/dunwu/design" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/design/architecture/" class="nav-link router-link-active">
  цЮ╢цЮД
</a></div><div class="nav-item"><a href="/design/distributed/" class="nav-link">
  хИЖх╕Гх╝П
</a></div><div class="nav-item"><a href="/design/pattern/" class="nav-link">
  шо╛шобцибх╝П
</a></div><div class="nav-item"><a href="/design/refactor/" class="nav-link">
  щЗНцЮД
</a></div><div class="nav-item"><a href="https://github.com/dunwu/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ЁЯОп хНЪхов
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/dunwu/design" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>ч│╗ч╗ЯщлШцАзшГ╜цЮ╢цЮД</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/design/architecture/%E7%B3%BB%E7%BB%9F%E9%AB%98%E6%80%A7%E8%83%BD%E6%9E%B6%E6%9E%84.html#ф╕АуАБцАзшГ╜чоАф╗Л" class="sidebar-link">ф╕АуАБцАзшГ╜чоАф╗Л</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/design/architecture/%E7%B3%BB%E7%BB%9F%E9%AB%98%E6%80%A7%E8%83%BD%E6%9E%B6%E6%9E%84.html#шобчоЧцЬ║ш╡Дц║Р" class="sidebar-link">шобчоЧцЬ║ш╡Дц║Р</a></li><li class="sidebar-sub-header"><a href="/design/architecture/%E7%B3%BB%E7%BB%9F%E9%AB%98%E6%80%A7%E8%83%BD%E6%9E%B6%E6%9E%84.html#цАзшГ╜цМЗцаЗ" class="sidebar-link">цАзшГ╜цМЗцаЗ</a></li><li class="sidebar-sub-header"><a href="/design/architecture/%E7%B3%BB%E7%BB%9F%E9%AB%98%E6%80%A7%E8%83%BD%E6%9E%B6%E6%9E%84.html#цАзшГ╜ц╡ЛшпХ" class="sidebar-link">цАзшГ╜ц╡ЛшпХ</a></li><li class="sidebar-sub-header"><a href="/design/architecture/%E7%B3%BB%E7%BB%9F%E9%AB%98%E6%80%A7%E8%83%BD%E6%9E%B6%E6%9E%84.html#цАзшГ╜ф╝ШхМЦчнЦчХе" class="sidebar-link">цАзшГ╜ф╝ШхМЦчнЦчХе</a></li></ul></li><li><a href="/design/architecture/%E7%B3%BB%E7%BB%9F%E9%AB%98%E6%80%A7%E8%83%BD%E6%9E%B6%E6%9E%84.html#ф║МуАБх║ФчФицЬНхКбцАзшГ╜ф╝ШхМЦ" class="sidebar-link">ф║МуАБх║ФчФицЬНхКбцАзшГ╜ф╝ШхМЦ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/design/architecture/%E7%B3%BB%E7%BB%9F%E9%AB%98%E6%80%A7%E8%83%BD%E6%9E%B6%E6%9E%84.html#ч╝УхнШ" class="sidebar-link">ч╝УхнШ</a></li><li class="sidebar-sub-header"><a href="/design/architecture/%E7%B3%BB%E7%BB%9F%E9%AB%98%E6%80%A7%E8%83%BD%E6%9E%B6%E6%9E%84.html#х╣╢хПСцибхЮЛ" class="sidebar-link">х╣╢хПСцибхЮЛ</a></li><li class="sidebar-sub-header"><a href="/design/architecture/%E7%B3%BB%E7%BB%9F%E9%AB%98%E6%80%A7%E8%83%BD%E6%9E%B6%E6%9E%84.html#х╝ВцнецУНф╜Ь" class="sidebar-link">х╝ВцнецУНф╜Ь</a></li><li class="sidebar-sub-header"><a href="/design/architecture/%E7%B3%BB%E7%BB%9F%E9%AB%98%E6%80%A7%E8%83%BD%E6%9E%B6%E6%9E%84.html#ш┤Яш╜╜хЭЗшбб" class="sidebar-link">ш┤Яш╜╜хЭЗшбб</a></li><li class="sidebar-sub-header"><a href="/design/architecture/%E7%B3%BB%E7%BB%9F%E9%AB%98%E6%80%A7%E8%83%BD%E6%9E%B6%E6%9E%84.html#ф╗гчаБф╝ШхМЦ" class="sidebar-link">ф╗гчаБф╝ШхМЦ</a></li></ul></li><li><a href="/design/architecture/%E7%B3%BB%E7%BB%9F%E9%AB%98%E6%80%A7%E8%83%BD%E6%9E%B6%E6%9E%84.html#ф╕ЙуАБхнШхВицАзшГ╜ф╝ШхМЦ" class="sidebar-link">ф╕ЙуАБхнШхВицАзшГ╜ф╝ШхМЦ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/design/architecture/%E7%B3%BB%E7%BB%9F%E9%AB%98%E6%80%A7%E8%83%BD%E6%9E%B6%E6%9E%84.html#цХ░цНох║У" class="sidebar-link">цХ░цНох║У</a></li><li class="sidebar-sub-header"><a href="/design/architecture/%E7%B3%BB%E7%BB%9F%E9%AB%98%E6%80%A7%E8%83%BD%E6%9E%B6%E6%9E%84.html#цЦЗф╗╢хнШхВи" class="sidebar-link">цЦЗф╗╢хнШхВи</a></li></ul></li><li><a href="/design/architecture/%E7%B3%BB%E7%BB%9F%E9%AB%98%E6%80%A7%E8%83%BD%E6%9E%B6%E6%9E%84.html#хЫЫуАБхЙНчлпцАзшГ╜ф╝ШхМЦ" class="sidebar-link">хЫЫуАБхЙНчлпцАзшГ╜ф╝ШхМЦ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/design/architecture/%E7%B3%BB%E7%BB%9F%E9%AB%98%E6%80%A7%E8%83%BD%E6%9E%B6%E6%9E%84.html#ц╡ПшзИхЩишо┐щЧоф╝ШхМЦ" class="sidebar-link">ц╡ПшзИхЩишо┐щЧоф╝ШхМЦ</a></li><li class="sidebar-sub-header"><a href="/design/architecture/%E7%B3%BB%E7%BB%9F%E9%AB%98%E6%80%A7%E8%83%BD%E6%9E%B6%E6%9E%84.html#cdn" class="sidebar-link">CDN</a></li><li class="sidebar-sub-header"><a href="/design/architecture/%E7%B3%BB%E7%BB%9F%E9%AB%98%E6%80%A7%E8%83%BD%E6%9E%B6%E6%9E%84.html#хПНхРСф╗гчРЖ" class="sidebar-link">хПНхРСф╗гчРЖ</a></li></ul></li><li><a href="/design/architecture/%E7%B3%BB%E7%BB%9F%E9%AB%98%E6%80%A7%E8%83%BD%E6%9E%B6%E6%9E%84.html#хПВшАГш╡ДцЦЩ" class="sidebar-link">хПВшАГш╡ДцЦЩ</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="ч│╗ч╗ЯщлШцАзшГ╜цЮ╢цЮД"><a href="#ч│╗ч╗ЯщлШцАзшГ╜цЮ╢цЮД" class="header-anchor">#</a> ч│╗ч╗ЯщлШцАзшГ╜цЮ╢цЮД</h1> <ul><li><a href="#%E4%B8%80%E6%80%A7%E8%83%BD%E7%AE%80%E4%BB%8B">ф╕АуАБцАзшГ╜чоАф╗Л</a> <ul><li><a href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%B5%84%E6%BA%90">шобчоЧцЬ║ш╡Дц║Р</a></li> <li><a href="#%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87">цАзшГ╜цМЗцаЗ</a></li> <li><a href="#%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95">цАзшГ╜ц╡ЛшпХ</a></li> <li><a href="#%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E7%AD%96%E7%95%A5">цАзшГ╜ф╝ШхМЦчнЦчХе</a></li></ul></li> <li><a href="#%E4%BA%8C%E5%BA%94%E7%94%A8%E6%9C%8D%E5%8A%A1%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96">ф║МуАБх║ФчФицЬНхКбцАзшГ╜ф╝ШхМЦ</a> <ul><li><a href="#%E7%BC%93%E5%AD%98">ч╝УхнШ</a></li> <li><a href="#%E5%B9%B6%E5%8F%91%E6%A8%A1%E5%9E%8B">х╣╢хПСцибхЮЛ</a></li> <li><a href="#%E5%BC%82%E6%AD%A5%E6%93%8D%E4%BD%9C">х╝ВцнецУНф╜Ь</a></li> <li><a href="#%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1">ш┤Яш╜╜хЭЗшбб</a></li> <li><a href="#%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96">ф╗гчаБф╝ШхМЦ</a></li></ul></li> <li><a href="#%E4%B8%89%E5%AD%98%E5%82%A8%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96">ф╕ЙуАБхнШхВицАзшГ╜ф╝ШхМЦ</a> <ul><li><a href="#%E6%95%B0%E6%8D%AE%E5%BA%93">цХ░цНох║У</a></li> <li><a href="#%E6%96%87%E4%BB%B6%E5%AD%98%E5%82%A8">цЦЗф╗╢хнШхВи</a></li></ul></li> <li><a href="#%E5%9B%9B%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96">хЫЫуАБхЙНчлпцАзшГ╜ф╝ШхМЦ</a> <ul><li><a href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E8%AE%BF%E9%97%AE%E4%BC%98%E5%8C%96">ц╡ПшзИхЩишо┐щЧоф╝ШхМЦ</a></li> <li><a href="#cdn">CDN</a></li> <li><a href="#%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86">хПНхРСф╗гчРЖ</a></li></ul></li> <li><a href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99">хПВшАГш╡ДцЦЩ</a></li></ul> <h2 id="ф╕АуАБцАзшГ╜чоАф╗Л"><a href="#ф╕АуАБцАзшГ╜чоАф╗Л" class="header-anchor">#</a> ф╕АуАБцАзшГ╜чоАф╗Л</h2> <p>шжБшо╛шобщлШцАзшГ╜чЪДч│╗ч╗ЯцЮ╢цЮДя╝Мх║ФшпецЬЙф╗еф╕ЛчЪДцАЭч╗┤цнещкдя╝Ъ</p> <p>щжЦхЕИя╝МшжБцШОчбох╜▒хУНцАзшГ╜чЪДхЫач┤ацЬЙхУкф║Ыя╝ЯцАзшГ╜чЪДцМЗцаЗцЬЙхУкф║Ыя╝ЯтАФтАФхБЪхИ░цЬЙчЪДцФ╛чЯвуАВ</p> <p>хЕ╢цмбя╝МшжБф║ЖшзгхжВф╜Хц╡ЛшпХцАзшГ╜цМЗцаЗя╝ЯцАзшГ╜ф╝ШхМЦя╝Мх┐Ещб╗шжБцЬЙхЙНхРОчЪДцХИцЮЬхп╣цпФя╝МцЙНшГ╜шпБцШОцАзшГ╜чбохоЮцЬЙцФ╣хЦДуАВ</p> <p>цОеф╕ЛцЭея╝Мхнжф╣ащТИхп╣ф╕НхРМхЬ║цЩпф╕Ля╝Мф╕НхРМцАзцМЗцаЗчЪДф╝ШхМЦчнЦчХеф╗ехПКхЕ╖ф╜УхоЮцЦ╜цЦ╣цбИуАВтАФтАФшзБцЛЫцЛЖцЛЫуАВ</p> <h3 id="шобчоЧцЬ║ш╡Дц║Р"><a href="#шобчоЧцЬ║ш╡Дц║Р" class="header-anchor">#</a> шобчоЧцЬ║ш╡Дц║Р</h3> <p>ф║ЖшзгцАзшГ╜цМЗцаЗхЙНя╝МщЬАшжБхЕИчЯещБУхУкф║ЫшобчоЧцЬ║ш╡Дц║Рф╝Ъх╜▒хУНцАзшГ╜уАВф╕АшИмцЭешп┤я╝Мх╜▒хУНцАзшГ╜чЪДшобчоЧцЬ║ш╡Дц║РхМЕцЛмя╝Ъ</p> <ul><li><strong>CPU</strong></li> <li><strong>хЖЕхнШ</strong></li> <li><strong>чгБчЫШ I/O</strong></li> <li><strong>ч╜Сч╗Ь I/O</strong></li> <li><strong>цХ░цНох║У</strong></li> <li><strong>щФБчлЮф║Й</strong></li></ul> <h3 id="цАзшГ╜цМЗцаЗ"><a href="#цАзшГ╜цМЗцаЗ" class="header-anchor">#</a> цАзшГ╜цМЗцаЗ</h3> <p>цАзшГ╜ц╡ЛшпХчЪДф╕╗шжБцМЗцаЗцЬЙя╝Ъ</p> <ul><li><strong>хУНх║ФцЧ╢щЧ┤</strong></li> <li><strong>х╣╢хПСцХ░</strong></li> <li><strong>хРЮхРРщЗП</strong> <ul><li>QPS</li> <li>TPS</li></ul></li> <li><strong>ш╡Дц║РхИЖщЕНф╜┐чФичОЗ</strong></li></ul> <h4 id="хУНх║ФцЧ╢щЧ┤"><a href="#хУНх║ФцЧ╢щЧ┤" class="header-anchor">#</a> хУНх║ФцЧ╢щЧ┤</h4> <p>хУНх║ФцЧ╢щЧ┤(RT)цШпцМЗф╗ОховцИ╖члпхПСф╕Аф╕кшп╖ц▒Вх╝АхзЛшобцЧ╢я╝МхИ░ховцИ╖члпцОецФ╢хИ░ф╗ОцЬНхКбхЩичлпш┐ФхЫЮчЪДхУНх║Фч╗УцЮЬч╗УцЭЯцЙАч╗ПхОЖчЪДцЧ╢щЧ┤я╝МхУНх║ФцЧ╢щЧ┤чФ▒шп╖ц▒ВхПСщАБцЧ╢щЧ┤уАБч╜Сч╗Ьф╝аш╛УцЧ╢щЧ┤хТМцЬНхКбхЩихдДчРЖцЧ╢щЧ┤ф╕ЙщГихИЖч╗ДцИРуАВ</p> <p><strong>хУНх║ФцЧ╢щЧ┤ш╢КчЯня╝МцАзшГ╜ш╢Кхе╜</strong>я╝Мф╕АшИмф╕Аф╕кцОехПгчЪДхУНх║ФцЧ╢щЧ┤цШпхЬицплчзТч║зуАВ</p> <p>хУНх║ФцЧ╢щЧ┤хПпф╗еш┐Ыф╕Ацнеч╗ЖхИЖя╝Ъ</p> <ul><li>ховцИ╖члпхУНх║ФцЧ╢щЧ┤</li> <li>ч╜Сч╗ЬхУНх║ФцЧ╢щЧ┤</li> <li>цЬНхКбчлпхУНх║ФцЧ╢щЧ┤</li> <li>цХ░цНох║УхУНх║ФцЧ╢щЧ┤</li></ul> <h4 id="х╣╢хПСцХ░"><a href="#х╣╢хПСцХ░" class="header-anchor">#</a> х╣╢хПСцХ░</h4> <p><strong>х╣╢хПСцХ░цШпцМЗч│╗ч╗ЯшГ╜хРМцЧ╢хдДчРЖчЪДшп╖ц▒ВуАБф║ЛхКбцХ░</strong>уАВ</p> <p>ч│╗ч╗ЯшЗкш║лчЪД CPU хдДчРЖшГ╜хКЫуАБхЖЕхнШуАБф╗ехПКч│╗ч╗ЯшЗкш║лчЪДч║┐чиЛхдНчФиуАБщФБчлЮф║ЙчнЙщГ╜ф╝Ъх╜▒хУНх╣╢хПСцХ░уАВ</p> <h4 id="хРЮхРРщЗП"><a href="#хРЮхРРщЗП" class="header-anchor">#</a> хРЮхРРщЗП</h4> <p>хРЮхРРщЗПшобчоЧхЕмх╝Пя╝Ъ</p> <div class="language- extra-class"><pre class="language-text"><code>хРЮхРРщЗП = х╣╢хПСцХ░ / х╣│хЭЗхУНх║ФцЧ╢щЧ┤
</code></pre></div><p><strong>хРЮхРРщЗПш╢Кхдзя╝МцАзшГ╜ш╢Кхе╜</strong>уАВ</p> <p>ф╕АшИмя╝Мч│╗ч╗ЯхСИчО░ч╗ЩхдЦщГичЪДцЬАх╕╕шзБчЪДхРЮхРРщЗПцМЗцаЗя╝Мх░▒цШпя╝Ъ</p> <ul><li><strong><code>QPS(цпПчзТцЯешпвцХ░)</code></strong> - хН│ч│╗ч╗ЯцпПчзТхПпф╗ехдДчРЖчЪДшп╗шп╖ц▒ВуАВ</li> <li><strong><code>TPS(цпПчзТф║ЛхКбцХ░)</code></strong> - хН│ч│╗ч╗ЯцпПчзТхПпф╗ехдДчРЖчЪДхЖЩшп╖ц▒ВуАВ</li></ul> <p>шАМхЬич│╗ч╗ЯхЖЕщГия╝МхнШхЬиф╗еф╕ЛхРЮхРРщЗПя╝Ъ</p> <ul><li>чгБчЫШхРЮхРРщЗП - ф╜УчО░ф║ЖчгБчЫШщЪПцЬ║шп╗хЖЩчЪДцАзшГ╜уАВ</li> <li>ч╜Сч╗ЬхРЮхРРщЗП - щЩдф║ЖхПЧщЩРф║Оч╜Сч╗Ьх╕жхо╜я╝МCPU чЪДхдДчРЖшГ╜хКЫуАБч╜СхНбуАБщШ▓чБлхвЩуАБхдЦщГицОехПгф╗ехПК I/OуАБч│╗ч╗Я IO чоЧц│ХщГ╜ф╝Ъх╜▒хУНхИ░ч╜Сч╗ЬхРЮхРРщЗПуАВ</li></ul> <h4 id="ш╡Дц║РхИЖщЕНф╜┐чФичОЗ"><a href="#ш╡Дц║РхИЖщЕНф╜┐чФичОЗ" class="header-anchor">#</a> ш╡Дц║РхИЖщЕНф╜┐чФичОЗ</h4> <p>щАЪх╕╕чФ▒ CPU хНачФичОЗуАБхЖЕхнШф╜┐чФичОЗуАБчгБчЫШ I/OуАБч╜Сч╗Ь I/O уАБхп╣ш▒бф╕Оч║┐чиЛцХ░цЭешбичд║ш╡Дц║Рф╜┐чФичОЗуАВш┐Щф║ЫцМЗцаЗф╣ЯцШпч│╗ч╗ЯчЫСцОзчЪДщЗНшжБхПВцХ░уАВ</p> <h3 id="цАзшГ╜ц╡ЛшпХ"><a href="#цАзшГ╜ц╡ЛшпХ" class="header-anchor">#</a> цАзшГ╜ц╡ЛшпХ</h3> <p>цАзшГ╜ц╡ЛшпХцЙЛцо╡я╝Ъ</p> <ul><li>цАзшГ╜ц╡ЛшпХ</li> <li>ш┤Яш╜╜ц╡ЛшпХ</li> <li>хОЛхКЫц╡ЛшпХ</li> <li>чи│хоЪцАзц╡ЛшпХ</li></ul> <p>хп╣ф║О Java х║ФчФишАМшиАя╝МцЬАчоАхНХчЪДя╝МхПпф╗еф╜┐чФи Jmeter ш┐ЫшбМцАзшГ╜ц╡ЛшпХуАВ</p> <p>цАзшГ╜ц╡ЛшпХцКехСКчд║ф╛Ля╝Ъ</p> <div align="center"><img src="https://upload-images.jianshu.io/upload_images/3101171-3d533a36f42608a1.png"></div>
#### цАзшГ╜ц╡ЛшпХчЪДщЧощвШ
<p>цАзшГ╜ц╡ЛшпХцЧ╢я╝МщЬАшжБц│ицДПф╕Аф║ЫщЧощвШя╝Ъ</p> <ul><li><strong>чГнш║лщЧощвШ</strong> - ч│╗ч╗ЯхИЪх╝АхзЛш┐РшбМцЧ╢я╝МшЗкш║лхПпшГ╜хКаш╜╜ч╝УхнШя╝МJVM хПпшГ╜ф╝Ъф╝ШхМЦчГнчВ╣ф╗гчаБчнЙя╝Мш┐Щф║ЫшбМф╕║щГ╜хПпшГ╜ф╜┐х╛ЧхЙНхРОцЬЙш╛ГхдзчЪДцАзшГ╜х╖ох╝ВуАВцЙАф╗ея╝МцАзшГ╜ц╡ЛшпХцЧ╢я╝Мх║ФшпехЕИш╖│ш┐Зф╕Ацо╡чГнш║лцЧ╢щЧ┤я╝МчнЙш╢Лф║Очи│хоЪхРОя╝МхЖНх╝АхзЛцАзшГ╜ц╡ЛшпХуАВ</li> <li><strong>ц╡ЛшпХч╗УцЮЬф╕Нчи│хоЪ</strong> - цАзшГ╜ц╡ЛшпХф╕ня╝МцЬЙх╛ИхдЪф╕Нчи│хоЪчЪДхЫач┤ая╝МхжВчОпхвГуАБч╜Сч╗ЬчнЙя╝МхЗаф╣Оф╕НхПпшГ╜цпПцмбщГ╜цШпф╕Аца╖чЪДч╗УцЮЬуАВцЙАф╗ех║ФшпехдЪцмбц╡ЛшпХя╝Мц▒Вх╣│хЭЗхА╝уАВ</li> <li><strong>хдЪ JVM цГЕхЖ╡ф╕ЛчЪДх╜▒хУН</strong> - х║Фх░╜щЗПщБ┐хЕНф╕АхП░цЬ║хЩищГич╜▓хдЪф╕к JVM чЪДцГЕхЖ╡уАВхЫаф╕║ф╗╗цДПф╕Аф╕к JVM щГ╜цЛецЬЙцХ┤ф╕кч│╗ч╗ЯчЪДш╡Дц║Рф╜┐чФицЭГя╝МцЙАф╗ехЬицАзшГ╜ц╡ЛшпХцЧ╢я╝МхПпшГ╜ф╝Ъх╜╝цндх╣▓цЙ░уАВ</li></ul> <h3 id="цАзшГ╜ф╝ШхМЦчнЦчХе"><a href="#цАзшГ╜ф╝ШхМЦчнЦчХе" class="header-anchor">#</a> цАзшГ╜ф╝ШхМЦчнЦчХе</h3> <ol><li><strong>цАзшГ╜хИЖцЮР</strong> - хжВцЮЬшп╖ц▒ВхУНх║ФцЕвя╝МхнШхЬицАзшГ╜щЧощвШуАВщЬАшжБхп╣шп╖ц▒Вч╗ПхОЖчЪДхРДф╕кчОпшКВщАРф╕АхИЖцЮРя╝МцОТцЯехПпшГ╜хЗ║чО░цАзшГ╜чУ╢щвИчЪДхЬ░цЦ╣я╝МхоЪф╜НщЧощвШуАВцгАцЯечЫСцОзцХ░цНоя╝МхИЖцЮРх╜▒хУНцАзшГ╜чЪДф╕╗шжБхЫач┤ая╝ЪхЖЕхнШуАБчгБчЫШуАБч╜Сч╗ЬуАБCPUя╝МхПпшГ╜цШпф╗гчаБцИЦцЮ╢цЮДшо╛шобф╕НхРИчРЖя╝МхПИцИЦшАЕцШпч│╗ч╗Яш╡Дц║РчбохоЮф╕Нш╢│уАВ</li> <li><strong>цАзшГ╜ф╝ШхМЦ</strong> - цАзшГ╜ф╝ШхМЦца╣цНоч╜СчлЩхИЖх▒ВцЮ╢цЮДя╝МхдзшЗ┤хПпхИЖф╕║хЙНчлпцАзшГ╜ф╝ШхМЦуАБх║ФчФицЬНхКбцАзшГ╜ф╝ШхМЦуАБхнШхВицЬНхКбцАзшГ╜ф╝ШхМЦуАВ</li></ol> <h2 id="ф║МуАБх║ФчФицЬНхКбцАзшГ╜ф╝ШхМЦ"><a href="#ф║МуАБх║ФчФицЬНхКбцАзшГ╜ф╝ШхМЦ" class="header-anchor">#</a> ф║МуАБх║ФчФицЬНхКбцАзшГ╜ф╝ШхМЦ</h2> <h3 id="ч╝УхнШ"><a href="#ч╝УхнШ" class="header-anchor">#</a> ч╝УхнШ</h3> <p>ч╜СчлЩцАзшГ╜ф╝ШхМЦчммф╕АхоЪх╛Ля╝Ъ<strong>чммф╕Аф╝ШхЕИшАГшЩСф╜┐чФич╝УхнШцПРхНЗцАзшГ╜</strong>уАВ</p> <p>ч╝УхнШцШпчФиф║ОхнШхВицХ░цНочЪДчбмф╗╢цИЦш╜пф╗╢чЪДч╗ДцИРщГихИЖя╝Мф╗еф╜┐х╛ЧхРОч╗нцЫ┤х┐лшо┐щЧочЫ╕х║ФчЪДцХ░цНоуАВч╝УхнШф╕нчЪДцХ░цНохПпшГ╜цШпцПРхЙНшобчоЧхе╜чЪДч╗УцЮЬуАБцХ░цНочЪДхЙпцЬмчнЙуАВ</p> <ul><li>хНХчВ╣х║ФчФихПпф╗еф╜┐чФиш┐ЫчиЛхЖЕч╝УхнШя╝ИхжВя╝ЪConcurrentHashMapуАБCaffeineя╝Йя╝Ы</li> <li>хИЖх╕Гх╝Пх║ФчФихПпф╗еф╜┐чФихИЖх╕Гх╝Пч╝УхнШя╝ИхжВя╝ЪRedisуАБMemcachedя╝Йя╝МцИЦш┐ЫчиЛч╝УхнШ+хИЖх╕Гх╝Пч╝УхнШчЪДхдЪч║зч╝УхнШцЦ╣цбИуАВ</li></ul> <blockquote><p>ч╝УхнШшзгхЖ│цЦ╣цбИшп╖хПВшАГя╝Ъ<a href="https://github.com/dunwu/blog/blob/master/source/_posts/theory/cache.md" target="_blank" rel="noopener noreferrer">ч╝УхнШхЯ║цЬмхОЯчРЖ<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h3 id="х╣╢хПСцибхЮЛ"><a href="#х╣╢хПСцибхЮЛ" class="header-anchor">#</a> х╣╢хПСцибхЮЛ</h3> <p>щлШх╣╢хПСщЬАшжБца╣цНоф╕дф╕кцЭбф╗╢хИТхИЖя╝Ъш┐ЮцОецХ░щЗПя╝Мшп╖ц▒ВцХ░щЗПуАВ</p> <ul><li>ц╡╖щЗПш┐ЮцОея╝ИцИРхНГф╕Кф╕Зя╝Йц╡╖щЗПшп╖ц▒Вя╝Ъф╛ЛхжВцКвш┤ня╝МхПМхНБф╕АчнЙ</li> <li>х╕╕щЗПш┐ЮцОея╝ИхЗахНБф╕КчЩ╛я╝Йц╡╖щЗПшп╖ц▒Вя╝Ъф╛ЛхжВф╕нщЧ┤ф╗╢</li> <li>ц╡╖щЗПш┐ЮцОех╕╕щЗПшп╖ц▒Вя╝Ъф╛ЛхжВщЧицИ╖ч╜СчлЩ</li> <li>х╕╕щЗПш┐ЮцОех╕╕щЗПшп╖ц▒Вя╝Ъф╛ЛхжВхЖЕщГиш┐РшРеч│╗ч╗Яя╝МчобчРЖч│╗ч╗Я</li></ul> <p>хНХцЬНхКбхЩищлШцАзшГ╜чЪДхЕ│щФоф╣Лф╕Ах░▒цШп<strong>цЬНхКбхЩищЗЗхПЦчЪДх╣╢хПСцибхЮЛ</strong></p> <ul><li>цЬНхКбхЩихжВф╜ХчобчРЖш┐ЮцОеуАВ</li> <li>цЬНхКбхЩихжВф╜ХхдДчРЖшп╖ц▒ВуАВ</li></ul> <p>ф╗еф╕Кф╕дф╕кшо╛шобчВ╣цЬАч╗ИщГ╜хТМцУНф╜Ьч│╗ч╗ЯчЪД I/O цибхЮЛхПКш┐ЫчиЛцибхЮЛчЫ╕хЕ│уАВ</p> <ul><li>I/O цибхЮЛя╝ЪщШ╗хбЮуАБщЭЮщШ╗хбЮуАБхРМцнеуАБх╝ВцнеуАВ</li> <li>ш┐ЫчиЛцибхЮЛя╝ЪхНХш┐ЫчиЛуАБхдЪш┐ЫчиЛуАБхдЪч║┐чиЛуАВ</li></ul> <h4 id="ppc"><a href="#ppc" class="header-anchor">#</a> PPC</h4> <p>PPC цШп Process Per Connection чЪДч╝йхЖЩя╝МхЕ╢хРлф╣ЙцШпцМЗцпПцмбцЬЙцЦ░чЪДш┐ЮцОех░▒цЦ░х╗║ф╕Аф╕кш┐ЫчиЛхО╗ф╕УщЧихдДчРЖш┐Щф╕кш┐ЮцОечЪДшп╖ц▒Вя╝Мш┐ЩцШпф╝ач╗ЯчЪД UNIX ч╜Сч╗ЬцЬНхКбхЩицЙАщЗЗчФичЪДцибхЮЛуАВхЯ║цЬмчЪДц╡БчиЛхЫ╛цШпя╝Ъ</p> <p><img src="https://raw.githubusercontent.com/dunwu/images/dev/snap/20200608103701.png" alt="img"></p> <ul><li>чИ╢ш┐ЫчиЛцОехПЧш┐ЮцОея╝ИхЫ╛ф╕н acceptя╝ЙуАВ</li> <li>чИ╢ш┐ЫчиЛтАЬforkтАЭхнРш┐ЫчиЛя╝ИхЫ╛ф╕н forkя╝ЙуАВ</li> <li>хнРш┐ЫчиЛхдДчРЖш┐ЮцОечЪДшп╗хЖЩшп╖ц▒Вя╝ИхЫ╛ф╕нхнРш┐ЫчиЛ readуАБф╕ЪхКбхдДчРЖуАБwriteя╝ЙуАВ</li> <li>хнРш┐ЫчиЛхЕ│щЧнш┐ЮцОея╝ИхЫ╛ф╕нхнРш┐ЫчиЛф╕нчЪД closeя╝ЙуАВ</li></ul> <p>ш┐ЩчзНцибх╝ПчЪДч╝║чВ╣я╝Ъ</p> <ul><li>fork ф╗гф╗╖щлШ</li> <li>чИ╢хнРш┐ЫчиЛщАЪф┐бхдНцЭВ</li> <li>цФпцМБчЪДх╣╢хПСш┐ЮцОецХ░щЗПцЬЙщЩР</li></ul> <h4 id="prefork"><a href="#prefork" class="header-anchor">#</a> prefork</h4> <p>PPC цибх╝Пф╕ня╝Мх╜Уш┐ЮцОеш┐ЫцЭецЧ╢цЙН fork цЦ░ш┐ЫчиЛцЭехдДчРЖш┐ЮцОешп╖ц▒Вя╝МчФ▒ф║О fork ш┐ЫчиЛф╗гф╗╖щлШя╝МчФицИ╖шо┐щЧоцЧ╢хПпшГ╜цДЯшзЙцпФш╛ГцЕвя╝Мprefork цибх╝ПчЪДхЗ║чО░х░▒цШпф╕║ф║ЖшзгхЖ│ш┐Щф╕кщЧощвШуАВ</p> <p>щб╛хРНцАЭф╣Йя╝Мprefork х░▒цШпцПРхЙНхИЫх╗║ш┐ЫчиЛя╝Иpre-forkя╝ЙуАВч│╗ч╗ЯхЬихРпхКичЪДцЧ╢хАЩх░▒щвДхЕИхИЫх╗║хе╜ш┐ЫчиЛя╝МчД╢хРОцЙНх╝АхзЛцОехПЧчФицИ╖чЪДшп╖ц▒Вя╝Мх╜УцЬЙцЦ░чЪДш┐ЮцОеш┐ЫцЭечЪДцЧ╢хАЩя╝Мх░▒хПпф╗ечЬБхО╗ fork ш┐ЫчиЛчЪДцУНф╜Ья╝МшойчФицИ╖шо┐щЧоцЫ┤х┐луАБф╜УщкМцЫ┤хе╜уАВprefork чЪДхЯ║цЬмчд║цДПхЫ╛цШпя╝Ъ</p> <p><img src="https://raw.githubusercontent.com/dunwu/images/dev/snap/20200608104151.png" alt="img"></p> <p>prefork чЪДхоЮчО░хЕ│щФох░▒цШпхдЪф╕кхнРш┐ЫчиЛщГ╜ accept хРМф╕Аф╕к socketя╝Мх╜УцЬЙцЦ░чЪДш┐ЮцОеш┐ЫхЕецЧ╢я╝МцУНф╜Ьч│╗ч╗Яф┐ЭшпБхПкцЬЙф╕Аф╕кш┐ЫчиЛшГ╜цЬАхРО accept цИРхКЯуАВф╜Жш┐ЩщЗМф╣ЯхнШхЬиф╕Аф╕кх░Пх░ПчЪДщЧощвШя╝ЪтАЬцГКч╛дтАЭчО░ш▒бя╝Мх░▒цШпцМЗшЩ╜чД╢хПкцЬЙф╕Аф╕кхнРш┐ЫчиЛшГ╜ accept цИРхКЯя╝Мф╜ЖцЙАцЬЙщШ╗хбЮхЬи accept ф╕КчЪДхнРш┐ЫчиЛщГ╜ф╝ЪшвлхФдщЖТя╝Мш┐Щца╖х░▒хп╝шЗ┤ф║Жф╕Нх┐ЕшжБчЪДш┐ЫчиЛш░Гх║жхТМф╕Кф╕ЛцЦЗхИЗцНвф║ЖуАВх╣╕ш┐РчЪДцШпя╝МцУНф╜Ьч│╗ч╗ЯхПпф╗ешзгхЖ│ш┐Щф╕кщЧощвШя╝Мф╛ЛхжВ Linux 2.6 чЙИцЬмхРОхЖЕца╕х╖▓ч╗ПшзгхЖ│ф║Ж accept цГКч╛дщЧощвШуАВ</p> <p>prefork цибх╝ПхТМ PPC ф╕Аца╖я╝Мш┐ШцШпхнШхЬичИ╢хнРш┐ЫчиЛщАЪф┐бхдНцЭВуАБцФпцМБчЪДх╣╢хПСш┐ЮцОецХ░щЗПцЬЙщЩРчЪДщЧощвШя╝МхЫацндчЫохЙНхоЮщЩЕх║ФчФиф╣Яф╕НхдЪуАВApache цЬНхКбхЩицПРф╛Ыф║Ж MPM prefork цибх╝Пя╝МцОишНРхЬищЬАшжБхПпщЭацАзцИЦшАЕф╕ОцЧзш╜пф╗╢хЕ╝хо╣чЪДчлЩчВ╣цЧ╢щЗЗчФиш┐ЩчзНцибх╝Пя╝Мщ╗ШшодцГЕхЖ╡ф╕ЛцЬАхдзцФпцМБ 256 ф╕кх╣╢хПСш┐ЮцОеуАВ</p> <h4 id="tpc"><a href="#tpc" class="header-anchor">#</a> TPC</h4> <p>TPC цШп Thread Per Connection чЪДч╝йхЖЩя╝МхЕ╢хРлф╣ЙцШпцМЗцпПцмбцЬЙцЦ░чЪДш┐ЮцОех░▒цЦ░х╗║ф╕Аф╕кч║┐чиЛхО╗ф╕УщЧихдДчРЖш┐Щф╕кш┐ЮцОечЪДшп╖ц▒ВуАВф╕Ош┐ЫчиЛчЫ╕цпФя╝Мч║┐чиЛцЫ┤ш╜╗щЗПч║зя╝МхИЫх╗║ч║┐чиЛчЪДц╢ИшАЧцпФш┐ЫчиЛшжБх░Сх╛ЧхдЪя╝ЫхРМцЧ╢хдЪч║┐чиЛцШпхЕ▒ф║лш┐ЫчиЛхЖЕхнШчй║щЧ┤чЪДя╝Мч║┐чиЛщАЪф┐бчЫ╕цпФш┐ЫчиЛщАЪф┐бцЫ┤чоАхНХуАВхЫацндя╝МTPC хоЮщЩЕф╕КцШпшзгхЖ│цИЦшАЕх╝▒хМЦф║Ж PPC fork ф╗гф╗╖щлШчЪДщЧощвШхТМчИ╢хнРш┐ЫчиЛщАЪф┐бхдНцЭВчЪДщЧощвШуАВ</p> <p>TPC чЪДхЯ║цЬмц╡БчиЛцШпя╝Ъ</p> <p><img src="https://raw.githubusercontent.com/dunwu/images/dev/snap/20200608104311.png" alt="img"></p> <ul><li>чИ╢ш┐ЫчиЛцОехПЧш┐ЮцОея╝ИхЫ╛ф╕н acceptя╝ЙуАВ</li> <li>чИ╢ш┐ЫчиЛхИЫх╗║хнРч║┐чиЛя╝ИхЫ╛ф╕н pthreadя╝ЙуАВ</li> <li>хнРч║┐чиЛхдДчРЖш┐ЮцОечЪДшп╗хЖЩшп╖ц▒Вя╝ИхЫ╛ф╕нхнРч║┐чиЛ readуАБф╕ЪхКбхдДчРЖуАБwriteя╝ЙуАВ</li> <li>хнРч║┐чиЛхЕ│щЧнш┐ЮцОея╝ИхЫ╛ф╕нхнРч║┐чиЛф╕нчЪД closeя╝ЙуАВ</li></ul> <p>ц│ицДПя╝МхТМ PPC чЫ╕цпФя╝Мф╕╗ш┐ЫчиЛф╕НчФитАЬcloseтАЭш┐ЮцОеф║ЖуАВхОЯхЫацШпхЬиф║ОхнРч║┐чиЛцШпхЕ▒ф║лф╕╗ш┐ЫчиЛчЪДш┐ЫчиЛчй║щЧ┤чЪДя╝Мш┐ЮцОечЪДцЦЗф╗╢цППш┐░чмжх╣╢ц▓бцЬЙшвлхдНхИ╢я╝МхЫацндхПкщЬАшжБф╕Ацмб close хН│хПпуАВ</p> <p>TPC шЩ╜чД╢шзгхЖ│ф║Ж fork ф╗гф╗╖щлШхТМш┐ЫчиЛщАЪф┐бхдНцЭВчЪДщЧощвШя╝Мф╜ЖцШпф╣Ях╝ХхЕеф║ЖцЦ░чЪДщЧощвШя╝МхЕ╖ф╜УшбичО░хЬия╝Ъ</p> <ul><li>хИЫх╗║ч║┐чиЛшЩ╜чД╢цпФхИЫх╗║ш┐ЫчиЛф╗гф╗╖ф╜Оя╝Мф╜Жх╣╢ф╕НцШпц▓бцЬЙф╗гф╗╖я╝МщлШх╣╢хПСцЧ╢я╝Иф╛ЛхжВцпПчзТф╕Кф╕Зш┐ЮцОея╝Йш┐ШцШпцЬЙцАзшГ╜щЧощвШуАВ</li> <li>цЧащб╗ш┐ЫчиЛщЧ┤щАЪф┐бя╝Мф╜ЖцШпч║┐чиЛщЧ┤чЪДф║ТцЦехТМхЕ▒ф║лхПИх╝ХхЕеф║ЖхдНцЭВх║жя╝МхПпшГ╜ф╕Аф╕Нх░Пх┐Гх░▒хп╝шЗ┤ф║Жцн╗щФБщЧощвШуАВ</li> <li>хдЪч║┐чиЛф╝ЪхЗ║чО░ф║ТчЫ╕х╜▒хУНчЪДцГЕхЖ╡я╝МцЯРф╕кч║┐чиЛхЗ║чО░х╝Вх╕╕цЧ╢я╝МхПпшГ╜хп╝шЗ┤цХ┤ф╕кш┐ЫчиЛщААхЗ║я╝Иф╛ЛхжВхЖЕхнШш╢КчХМя╝ЙуАВ</li></ul> <p>щЩдф║Жх╝ХхЕеф║ЖцЦ░чЪДщЧощвШя╝МTPC ш┐ШцШпхнШхЬи CPU ч║┐чиЛш░Гх║жхТМхИЗцНвф╗гф╗╖чЪДщЧощвШуАВхЫацндя╝МTPC цЦ╣цбИцЬмш┤иф╕КхТМ PPC цЦ╣цбИхЯ║цЬмч▒╗ф╝╝я╝МхЬих╣╢хПСхЗачЩ╛ш┐ЮцОечЪДхЬ║цЩпф╕Ля╝МхПНшАМцЫ┤хдЪхЬ░цШпщЗЗчФи PPC чЪДцЦ╣цбИя╝МхЫаф╕║ PPC цЦ╣цбИф╕Нф╝ЪцЬЙцн╗щФБчЪДщгОщЩйя╝Мф╣Яф╕Нф╝ЪхдЪш┐ЫчиЛф║ТчЫ╕х╜▒хУНя╝Мчи│хоЪцАзцЫ┤щлШуАВ</p> <h4 id="prethread"><a href="#prethread" class="header-anchor">#</a> prethread</h4> <p>TPC цибх╝Пф╕ня╝Мх╜Уш┐ЮцОеш┐ЫцЭецЧ╢цЙНхИЫх╗║цЦ░чЪДч║┐чиЛцЭехдДчРЖш┐ЮцОешп╖ц▒Вя╝МшЩ╜чД╢хИЫх╗║ч║┐чиЛцпФхИЫх╗║ш┐ЫчиЛшжБцЫ┤хКаш╜╗щЗПч║зя╝Мф╜Жш┐ШцШпцЬЙф╕АхоЪчЪДф╗гф╗╖я╝МшАМ prethread цибх╝Пх░▒цШпф╕║ф║ЖшзгхЖ│ш┐Щф╕кщЧощвШуАВ</p> <p>хТМ prefork ч▒╗ф╝╝я╝Мprethread цибх╝Пф╝ЪщвДхЕИхИЫх╗║ч║┐чиЛя╝МчД╢хРОцЙНх╝АхзЛцОехПЧчФицИ╖чЪДшп╖ц▒Вя╝Мх╜УцЬЙцЦ░чЪДш┐ЮцОеш┐ЫцЭечЪДцЧ╢хАЩя╝Мх░▒хПпф╗ечЬБхО╗хИЫх╗║ч║┐чиЛчЪДцУНф╜Ья╝МшойчФицИ╖цДЯшзЙцЫ┤х┐луАБф╜УщкМцЫ┤хе╜уАВ</p> <p>чФ▒ф║ОхдЪч║┐чиЛф╣ЛщЧ┤цХ░цНохЕ▒ф║лхТМщАЪф┐бцпФш╛ГцЦ╣ф╛┐я╝МхЫацндхоЮщЩЕф╕К prethread чЪДхоЮчО░цЦ╣х╝ПчЫ╕цпФ prefork шжБчБ╡ц┤╗ф╕Аф║Ыя╝Мх╕╕шзБчЪДхоЮчО░цЦ╣х╝ПцЬЙф╕ЛщЭвхЗачзНя╝Ъ</p> <ul><li>ф╕╗ш┐ЫчиЛ acceptя╝МчД╢хРОх░Жш┐ЮцОеф║дч╗ЩцЯРф╕кч║┐чиЛхдДчРЖуАВ</li> <li>хнРч║┐чиЛщГ╜х░ЭшпХхО╗ acceptя╝МцЬАч╗ИхПкцЬЙф╕Аф╕кч║┐чиЛ accept цИРхКЯя╝МцЦ╣цбИчЪДхЯ║цЬмчд║цДПхЫ╛хжВф╕Ля╝Ъ</li></ul> <p><img src="https://raw.githubusercontent.com/dunwu/images/dev/snap/20200608104922.png" alt="img"></p> <p>Apache цЬНхКбхЩичЪД MPM worker цибх╝ПцЬмш┤иф╕Кх░▒цШпф╕АчзН prethread цЦ╣цбИя╝Мф╜ЖчиНх╛охБЪф║ЖцФ╣ш┐ЫуАВApache цЬНхКбхЩиф╝ЪщжЦхЕИхИЫх╗║хдЪф╕кш┐ЫчиЛя╝МцпПф╕кш┐ЫчиЛщЗМщЭвхЖНхИЫх╗║хдЪф╕кч║┐чиЛя╝Мш┐Щца╖хБЪф╕╗шжБцШпф╕║ф║ЖшАГшЩСчи│хоЪцАзя╝МхН│я╝ЪхН│ф╜┐цЯРф╕кхнРш┐ЫчиЛщЗМщЭвчЪДцЯРф╕кч║┐чиЛх╝Вх╕╕хп╝шЗ┤цХ┤ф╕кхнРш┐ЫчиЛщААхЗ║я╝Мш┐Шф╝ЪцЬЙхЕ╢ф╗ЦхнРш┐ЫчиЛч╗зч╗нцПРф╛ЫцЬНхКбя╝Мф╕Нф╝Ъхп╝шЗ┤цХ┤ф╕кцЬНхКбхЩихЕищГицМВцОЙуАВ</p> <p>prethread чРЖшо║ф╕КхПпф╗ецпФ prefork цФпцМБцЫ┤хдЪчЪДх╣╢хПСш┐ЮцОея╝МApache цЬНхКбхЩи MPM worker цибх╝Пщ╗ШшодцФпцМБ 16 ├Ч 25 = 400 ф╕кх╣╢хПСхдДчРЖч║┐чиЛуАВ</p> <h4 id="reactor"><a href="#reactor" class="header-anchor">#</a> Reactor</h4> <p>I/O хдЪш╖пхдНчФицКАцЬпх╜Тч║│ш╡╖цЭецЬЙф╕дф╕кхЕ│щФохоЮчО░чВ╣я╝Ъ</p> <ul><li>х╜УхдЪцЭбш┐ЮцОехЕ▒чФиф╕Аф╕кщШ╗хбЮхп╣ш▒бхРОя╝Мш┐ЫчиЛхПкщЬАшжБхЬиф╕Аф╕кщШ╗хбЮхп╣ш▒бф╕КчнЙх╛Ея╝МшАМцЧащб╗хЖНш╜ошпвцЙАцЬЙш┐ЮцОея╝Мх╕╕шзБчЪДхоЮчО░цЦ╣х╝ПцЬЙ <code>select</code>уАБ<code>epoll</code>уАБ<code>kqueue</code> чнЙуАВ</li> <li>х╜УцЯРцЭбш┐ЮцОецЬЙцЦ░чЪДцХ░цНохПпф╗ехдДчРЖцЧ╢я╝МцУНф╜Ьч│╗ч╗Яф╝ЪщАЪчЯеш┐ЫчиЛя╝Мш┐ЫчиЛф╗ОщШ╗хбЮчК╢цАБш┐ФхЫЮя╝Мх╝АхзЛш┐ЫшбМф╕ЪхКбхдДчРЖуАВ</li></ul> <p>I/O хдЪш╖пхдНчФич╗УхРИч║┐чиЛц▒ая╝МхоМч╛ОхЬ░шзгхЖ│ф║Ж PPC хТМ TPC чЪДщЧощвШ</p> <p>Reactor цибх╝ПчЪДца╕х┐Гч╗ДцИРщГихИЖхМЕцЛм Reactor хТМхдДчРЖш╡Дц║Рц▒ая╝Иш┐ЫчиЛц▒ацИЦч║┐чиЛц▒ая╝Йя╝МхЕ╢ф╕н Reactor ш┤Яш┤гчЫСхРмхТМхИЖщЕНф║Лф╗╢я╝МхдДчРЖш╡Дц║Рц▒аш┤Яш┤гхдДчРЖф║Лф╗╢уАВхИЭчЬЛ Reactor чЪДхоЮчО░цШпцпФш╛ГчоАхНХчЪДя╝Мф╜ЖхоЮщЩЕф╕Кч╗УхРИф╕НхРМчЪДф╕ЪхКбхЬ║цЩпя╝МReactor цибх╝ПчЪДхЕ╖ф╜УхоЮчО░цЦ╣цбИчБ╡ц┤╗хдЪхПШя╝Мф╕╗шжБф╜УчО░хЬия╝Ъ</p> <ul><li>Reactor чЪДцХ░щЗПхПпф╗ехПШхМЦя╝ЪхПпф╗ецШпф╕Аф╕к Reactorя╝Мф╣ЯхПпф╗ецШпхдЪф╕к ReactorуАВ</li> <li>ш╡Дц║Рц▒ачЪДцХ░щЗПхПпф╗ехПШхМЦя╝Ъф╗еш┐ЫчиЛф╕║ф╛Ля╝МхПпф╗ецШпхНХф╕кш┐ЫчиЛя╝Мф╣ЯхПпф╗ецШпхдЪф╕кш┐ЫчиЛя╝Ич║┐чиЛч▒╗ф╝╝я╝ЙуАВ</li></ul> <p>цЬАч╗И Reactor цибх╝ПцЬЙш┐Щф╕ЙчзНхЕ╕хЮЛчЪДхоЮчО░цЦ╣цбИя╝Ъ</p> <ul><li>хНХ Reactor хНХш┐ЫчиЛ / ч║┐чиЛуАВ</li> <li>хНХ Reactor хдЪч║┐чиЛуАВ</li> <li>хдЪ Reactor хдЪш┐ЫчиЛ / ч║┐чиЛуАВ</li></ul> <h3 id="х╝ВцнецУНф╜Ь"><a href="#х╝ВцнецУНф╜Ь" class="header-anchor">#</a> х╝ВцнецУНф╜Ь</h3> <p>х╝ВцнехдДчРЖф╕Нф╗ЕхПпф╗ехЗПх░Сч│╗ч╗ЯцЬНхКбщЧ┤чЪДшАжхРИх║жя╝МцПРщлШцЙйх▒ХцАзя╝Мф║ЛхоЮф╕Кя╝МхоГш┐ШхПпф╗ецПРщлШч│╗ч╗ЯчЪДцАзшГ╜уАВх╝ВцнехдДчРЖхПпф╗ецЬЙцХИхЗПх░СхУНх║ФчнЙх╛ЕцЧ╢щЧ┤я╝Мф╗ОшАМцПРщлШхУНх║ФщАЯх║жуАВ</p> <p>х╝ВцнехдДчРЖф╕АшИмцШпщАЪш┐ЗхИЖх╕Гх╝Пц╢ИцБпщШЯхИЧчЪДцЦ╣х╝ПуАВ</p> <p>х╝ВцнехдДчРЖхПпф╗ешзгхЖ│ф╗еф╕ЛщЧощвШя╝Ъ</p> <ul><li>х╝ВцнехУНх║Ф</li> <li>х║ФчФишзгшАж</li> <li>ц╡БщЗПхЙКщФЛ</li> <li>цЧех┐ЧхдДчРЖ</li> <li>ц╢ИцБпщАЪшоп</li></ul> <h3 id="ш┤Яш╜╜хЭЗшбб"><a href="#ш┤Яш╜╜хЭЗшбб" class="header-anchor">#</a> ш┤Яш╜╜хЭЗшбб</h3> <p>хЬищлШх╣╢хПСхЬ║цЩпф╕Ля╝Мф╜┐чФиш┤Яш╜╜хЭЗшббцКАцЬпф╕║ф╕Аф╕кх║ФчФицЮДх╗║ф╕Аф╕кчФ▒хдЪхП░цЬНхКбхЩич╗ДцИРчЪДцЬНхКбхЩищЫЖч╛дя╝Мх░Жх╣╢хПСшо┐щЧошп╖ц▒ВхИЖхПСхИ░хдЪхП░цЬНхКбхЩиф╕КхдДчРЖя╝МщБ┐хЕНхНХф╕АцЬНхКбхЩихЫаш┤Яш╜╜хОЛхКЫш┐ЗхдзшАМхУНх║Фч╝УцЕвя╝Мф╜┐чФицИ╖шп╖ц▒ВхЕ╖цЬЙцЫ┤хе╜чЪДхУНх║Фх╗╢ш┐ЯчЙ╣цАзуАВ</p> <p><strong>щлШцАзшГ╜щЫЖч╛дчЪДхдНцЭВцАзф╕╗шжБф╜УчО░хЬищЬАшжБхвЮхКаф╕Аф╕кф╗╗хКбхИЖщЕНхЩия╝Мф╗ехПКф╕║ф╗╗хКбщАЙцЛйф╕Аф╕кхРИщАВчЪДф╗╗хКбхИЖщЕНчоЧц│Х</strong>уАВ</p> <blockquote><p>ч╝УхнШшзгхЖ│цЦ╣цбИшп╖хПВшАГя╝Ъ<a href="https://github.com/dunwu/blog/blob/master/source/_posts/theory/load-balance.md" target="_blank" rel="noopener noreferrer">ш┤Яш╜╜хЭЗшбб<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h3 id="ф╗гчаБф╝ШхМЦ"><a href="#ф╗гчаБф╝ШхМЦ" class="header-anchor">#</a> ф╗гчаБф╝ШхМЦ</h3> <h4 id="хдЪч║┐чиЛ"><a href="#хдЪч║┐чиЛ" class="header-anchor">#</a> хдЪч║┐чиЛ</h4> <p>ф╗Ош╡Дц║РхИйчФичЪДшзТх║жчЬЛя╝Мф╜┐чФихдЪч║┐чиЛчЪДхОЯхЫаф╕╗шжБцЬЙф╕дф╕кя╝ЪIO щШ╗хбЮхТМхдЪ CPUуАВ</p> <p>ч║┐чиЛцХ░х╣╢щЭЮш╢КхдЪш╢Кхе╜я╝МщВгф╣ИхРпхКихдЪх░Сч║┐чиЛхРИщАВхСвя╝Я</p> <p>цЬЙф╕кхПВшАГхЕмх╝Пя╝Ъ</p> <div class="language- extra-class"><pre class="language-text"><code>хРпхКич║┐чиЛцХ░ = (ф╗╗хКбцЙзшбМцЧ╢щЧ┤ / (ф╗╗хКбцЙзшбМцЧ╢щЧ┤ - IO чнЙх╛ЕцЧ╢щЧ┤)) * CPU хЖЕца╕цХ░
</code></pre></div><p>цЬАф╜│хРпхКич║┐чиЛцХ░хТМ CPU хЖЕца╕цХ░цИРцнгцпФя╝МхТМ IO щШ╗хбЮцЧ╢щЧ┤цИРхПНцпФуАВ</p> <ul><li>хжВцЮЬф╗╗хКбщГ╜цШп CPU шобчоЧхЮЛф╗╗хКбя╝МщВгф╣Ич║┐чиЛцХ░цЬАхдЪф╕НшжБш╢Еш┐З CPU хЖЕца╕цХ░я╝МхЫаф╕║хРпхКихЖНхдЪч║┐чиЛя╝МCPU ф╣ЯцЭеф╕НхПКш░Гх║жя╝Ы</li> <li>чЫ╕хПНя╝МхжВцЮЬцШпф╗╗хКбщЬАшжБчнЙх╛ЕчгБчЫШцУНф╜Ья╝Мч╜Сч╗ЬхУНх║Фя╝МщВгф╣ИхдЪхРпхКич║┐чиЛцЬЙхКйф║Оф╗╗хКбх╣╢ч╜Ъш╡Мя╝МцПРщлШч│╗ч╗ЯхРЮхРРщЗПуАВ</li></ul> <h5 id="ч║┐чиЛхоЙхЕищЧощвШ"><a href="#ч║┐чиЛхоЙхЕищЧощвШ" class="header-anchor">#</a> ч║┐чиЛхоЙхЕищЧощвШ</h5> <p>ч║┐чиЛхоЙхЕищЧощвШцЧ╢цМЗхдЪф╕кч║┐чиЛх╣╢хПСшо┐щЧоцЯРф╕кш╡Дц║Ря╝Мхп╝шЗ┤цХ░цНоц╖╖ф╣▒уАВ</p> <p>шзгхЖ│цЙЛцо╡цЬЙя╝Ъ</p> <ul><li><strong>х░Жхп╣ш▒бшо╛шобф╕║цЧачК╢цАБхп╣ш▒б</strong> - хЕ╕хЮЛх║ФчФия╝ЪServlet х░▒цШпцЧачК╢цАБхп╣ш▒бя╝МхПпф╗ешвлцЬНхКбхЩихдЪч║┐чиЛх╣╢хПСш░ГчФихдДчРЖчФицИ╖шп╖ц▒ВуАВ</li> <li><strong>ф╜┐чФих▒АщГихп╣ш▒б</strong></li> <li><strong>х╣╢хПСшо┐щЧош╡Дц║РцЧ╢ф╜┐чФищФБ</strong> - ф╜ЖцШпх╝ХхЕещФБф╝Ъф║зчФЯцАзшГ╜х╝АщФАя╝Мх║Фх░╜щЗПф╜┐чФиш╜╗щЗПч║зчЪДщФБуАВ</li></ul> <h4 id="ш╡Дц║РхдНчФи"><a href="#ш╡Дц║РхдНчФи" class="header-anchor">#</a> ш╡Дц║РхдНчФи</h4> <p>х║Фшпех░╜щЗПхЗПх░СщВгф║Ых╝АщФАх╛ИхдзчЪДч│╗ч╗Яш╡Дц║РчЪДхИЫх╗║хТМщФАцпБя╝МхжВцХ░цНох║Уш┐ЮцОеуАБч╜Сч╗ЬщАЪф┐бш┐ЮцОеуАБч║┐чиЛуАБхдНцЭВхп╣ш▒бчнЙуАВф╗Оч╝ЦчиЛшзТх║жя╝Мш╡Дц║РхдНчФиф╕╗шжБцЬЙф╕дчзНцибх╝Пя╝ЪхНХф╛Лцибх╝ПхТМхп╣ш▒бц▒ауАВ</p> <h4 id="цХ░цНоч╗УцЮД"><a href="#цХ░цНоч╗УцЮД" class="header-anchor">#</a> цХ░цНоч╗УцЮД</h4> <p>ца╣цНохЕ╖ф╜УхЬ║цЩпя╝МщАЙцЛйхРИщАВчЪДцХ░цНоч╗УцЮДуАВ</p> <h4 id="хЮГхЬ╛хЫЮцФ╢"><a href="#хЮГхЬ╛хЫЮцФ╢" class="header-anchor">#</a> хЮГхЬ╛хЫЮцФ╢</h4> <p>хжВцЮЬ Web х║ФчФиш┐РшбМхЬи JVM чнЙхЕ╖цЬЙхЮГхЬ╛хЫЮцФ╢хКЯшГ╜чЪДчОпхвГф╕ня╝МщВгф╣ИхЮГхЬ╛хЫЮцФ╢хПпшГ╜ф╝Ъхп╣ч│╗ч╗ЯчЪДцАзшГ╜чЙ╣цАзф║зчФЯх╖ихдзх╜▒хУНуАВчлЛхН│хЮГхЬ╛хЫЮцФ╢цЬ║хИ╢цЬЙхКйф║ОчиЛх║Пф╝ШхМЦхТМхПВцХ░ш░Гф╝Шя╝Мф╗ехПКч╝ЦхЖЩхЖЕхнШхоЙхЕичЪДф╗гчаБуАВ</p> <h2 id="ф╕ЙуАБхнШхВицАзшГ╜ф╝ШхМЦ"><a href="#ф╕ЙуАБхнШхВицАзшГ╜ф╝ШхМЦ" class="header-anchor">#</a> ф╕ЙуАБхнШхВицАзшГ╜ф╝ШхМЦ</h2> <h3 id="цХ░цНох║У"><a href="#цХ░цНох║У" class="header-anchor">#</a> цХ░цНох║У</h3> <h4 id="цХ░цНох║Ушп╗хЖЩхИЖчж╗"><a href="#цХ░цНох║Ушп╗хЖЩхИЖчж╗" class="header-anchor">#</a> цХ░цНох║Ушп╗хЖЩхИЖчж╗</h4> <p><strong>шп╗хЖЩхИЖчж╗чЪДхЯ║цЬмхОЯчРЖцШпх░ЖцХ░цНох║Ушп╗хЖЩцУНф╜ЬхИЖцХгхИ░ф╕НхРМчЪДшКВчВ╣ф╕К</strong></p> <blockquote><p>шпжч╗ЖшзгхЖ│цЦ╣цбИхПВшАГя╝Ъ<a href="https://github.com/dunwu/blog/blob/master/source/_posts/theory/distributed-storage.md" target="_blank" rel="noopener noreferrer">хИЖх╕Гх╝ПхнШхВи<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h4 id="цХ░цНох║УхИЖх║УхИЖшби"><a href="#цХ░цНох║УхИЖх║УхИЖшби" class="header-anchor">#</a> цХ░цНох║УхИЖх║УхИЖшби</h4> <p><strong>цХ░цНохИЖчЙЗцМЗцМЙчЕзцЯРф╕кч╗┤х║жх░ЖхнШцФ╛хЬихНХф╕АцХ░цНох║Уф╕нчЪДцХ░цНохИЖцХгхЬ░хнШцФ╛шЗ│хдЪф╕кцХ░цНох║УцИЦшбиф╕нф╗еш╛╛хИ░цПРхНЗцАзшГ╜чУ╢щвИф╗ехПКхПпчФицАзчЪДцХИцЮЬ</strong>уАВ</p> <blockquote><p>шпжч╗ЖшзгхЖ│цЦ╣цбИхПВшАГя╝Ъ<a href="https://github.com/dunwu/blog/blob/master/source/_posts/theory/distributed-storage.md" target="_blank" rel="noopener noreferrer">хИЖх╕Гх╝ПхнШхВи<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h4 id="nosql"><a href="#nosql" class="header-anchor">#</a> Nosql</h4> <p>хЕ│ч│╗хЮЛцХ░цНох║УчЪДф╝ШхК┐хЬиф║Оя╝ЪхнШхВич╗УцЮДхМЦцХ░цНоя╝МцЬЙхИйф║Ош┐ЫшбМхРДчзНхдНцЭВцЯешпвуАВ</p> <p>ф╜ЖцШпя╝МхоГф╣ЯхнШхЬиф╕Аф║Ыч╝║чВ╣я╝Ъ</p> <ul><li>хЕ│ч│╗цХ░цНох║УхнШхВичЪДцШпшбМшо░х╜Хя╝МцЧац│ХхнШхВицХ░цНоч╗УцЮД</li> <li>хЕ│ч│╗цХ░цНох║УчЪД schema цЙйх▒Хх╛Иф╕НцЦ╣ф╛┐</li> <li>хЕ│ч│╗цХ░цНох║УхЬихдзцХ░цНохЬ║цЩпф╕Л I/O ш╛ГщлШ</li> <li>хЕ│ч│╗цХ░цНох║УчЪДхЕицЦЗцРЬч┤вхКЯшГ╜цпФш╛Гх╝▒</li></ul> <p>ф╕║ф║ЖшзгхЖ│ф╕Кш┐░щЧощвШя╝МхИЖхИлшпЮчФЯф║ЖшзгхЖ│ф╕НхРМщЧощвШчЪД Nosql цХ░цНох║УуАВ</p> <p>х╕╕шзБчЪД NoSQL цХ░цНох║УхПпф╗ехИЖф╕║хЫЫч▒╗я╝Ъ</p> <ul><li><strong>K-V цХ░цНох║У</strong>я╝ЪKV хнШхВищЭЮх╕╕щАВхРИхнШхВи<strong>ф╕Нц╢ЙхПКш┐ЗхдЪцХ░цНохЕ│ч│╗ф╕ЪхКбхЕ│ч│╗чЪДцХ░цНо</strong>я╝МхРМцЧ╢шГ╜цЬЙцХИхЗПх░Сшп╗хЖЩчгБчЫШчЪДцмбцХ░я╝МцпФ SQL цХ░цНох║УхнШхВицЛецЬЙцЫ┤хе╜чЪДшп╗хЖЩцАзшГ╜я╝МшГ╜хдЯ<strong>шзгхЖ│хЕ│ч│╗хЮЛцХ░цНох║УцЧац│ХхнШхВицХ░цНоч╗УцЮДчЪДщЧощвШ</strong>уАВф╗е Redis ф╕║ф╗гшбиуАВ</li> <li><strong>хИЧх╝ПцХ░цНох║У</strong>я╝Ъ<strong>щАВхРИф║ОцЙ╣щЗПцХ░цНохдДчРЖхТМхН│цЧ╢цЯешпвя╝МшзгхЖ│хЕ│ч│╗цХ░цНох║УхдзцХ░цНохЬ║цЩпф╕ЛчЪД I/O щЧощвШ</strong>уАВф╗е HBase ф╕║ф╗гшбиуАВ</li> <li><strong>цЦЗцбгцХ░цНох║У</strong>я╝ЪцЦЗцбгцХ░цНох║Уя╝Иф╣Ячз░ф╕║цЦЗцбгхЮЛцХ░цНох║Уя╝ЙцШп<strong>цЧихЬих░ЖхНКч╗УцЮДхМЦцХ░цНохнШхВиф╕║цЦЗцбгчЪДф╕АчзНцХ░цНох║Уя╝МхоГхПпф╗ешзгхЖ│хЕ│ч│╗хЮЛцХ░цНох║Ушбич╗УцЮД schema цЙйх▒Хф╕НцЦ╣ф╛┐чЪДщЧощвШ</strong>уАВцЦЗцбгцХ░цНох║У<strong>щАЪх╕╕ф╗е JSON цИЦ XML ца╝х╝ПхнШхВицХ░цНо</strong>уАВф╗е MongoDB ф╕║ф╗гшбиуАВ</li> <li><strong>хЕицЦЗцРЬч┤вх╝ХцУО</strong>я╝Ъ<strong>шзгхЖ│хЕ│ч│╗хЮЛцХ░цНох║УхЕицЦЗцРЬч┤вхКЯшГ╜ш╛Гх╝▒чЪДщЧощвШ</strong>уАВф╗е Elasticsearch ф╕║ф╗гшбиуАВ</li></ul> <blockquote><p>шпжцГЕхПВшАГя╝Ъ<a href="https://github.com/dunwu/db-tutorial/blob/master/docs/nosql/nosql-selection.md" target="_blank" rel="noopener noreferrer">Nosql цКАцЬпщАЙхЮЛ<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h3 id="цЦЗф╗╢хнШхВи"><a href="#цЦЗф╗╢хнШхВи" class="header-anchor">#</a> цЦЗф╗╢хнШхВи</h3> <h4 id="цЬ║цв░щФочЫШхТМхЫ║цАБчбмчЫШ"><a href="#цЬ║цв░щФочЫШхТМхЫ║цАБчбмчЫШ" class="header-anchor">#</a> цЬ║цв░щФочЫШхТМхЫ║цАБчбмчЫШ</h4> <p>шАГшЩСф╜┐чФихЫ║цАБчбмчЫШцЫ┐ф╗гцЬ║цв░щФочЫШя╝МхЫаф╕║хоГчЪДшп╗хЖЩщАЯх║жцЫ┤х┐луАВ</p> <h4 id="b-цХ░хТМ-lsm-цаС"><a href="#b-цХ░хТМ-lsm-цаС" class="header-anchor">#</a> B+цХ░хТМ LSM цаС</h4> <p>ф╝ач╗ЯхЕ│ч│╗цХ░цНох║УчЪДцХ░цНох║Уч┤вх╝Хф╕АшИмщГ╜ф╜┐чФиф╕дч║зч┤вх╝ХчЪД <strong>B+ цаС</strong> ч╗УцЮДя╝МцаСчЪДх▒ВцмбцЬАхдЪф╕Йх▒ВуАВхЫацндхПпшГ╜щЬАшжБ 5 цмбчгБчЫШшо┐щЧоцЙНшГ╜цЫ┤цЦ░ф╕АцЭбшо░х╜Хя╝Иф╕ЙцмбчгБчЫШшо┐щЧошО╖х╛ЧцХ░цНоч┤вх╝ХхПКшбМ IDя╝МчД╢хРОхЖНш┐ЫшбМф╕АцмбцХ░цНоцЦЗф╗╢шп╗цУНф╜ЬхПКф╕АцмбцХ░цНоцЦЗф╗╢хЖЩцУНф╜Ья╝ЙуАВ</p> <p>чФ▒ф║ОчгБчЫШшо┐щЧоцШпщЪПцЬ║чЪДя╝Мф╝ач╗ЯцЬ║цв░щФочЫШхЬицХ░цНощЪПцЬ║шо┐щЧоцЧ╢цАзшГ╜ш╛Гх╖оя╝МцпПцмбцХ░цНошо┐щЧощГ╜щЬАшжБхдЪцмбшо┐щЧочгБчЫШх╜▒хУНцХ░цНошо┐щЧоцАзшГ╜уАВ</p> <p>шо╕хдЪ Nosql цХ░цНох║Уф╕нчЪДч┤вх╝ХщЗЗчФи <strong>LSM цаС</strong> ф╜Ьф╕║ф╕╗шжБцХ░цНоч╗УцЮДуАВLSM цаСхПпшзЖф╕║ф╕Аф╕к N щШ╢хРИх╣╢цаСуАВцХ░цНохЖЩцУНф╜ЬщГ╜хЬихЖЕхнШф╕нш┐ЫшбМуАВхЬи <strong>LSM цаСф╕Кш┐ЫшбМф╕АцмбцХ░цНоцЫ┤цЦ░ф╕НщЬАшжБчгБчЫШшо┐щЧоя╝МщАЯх║жш┐Ьх┐лф║О B+ цаС</strong>уАВ</p> <h4 id="raid-хТМ-hdfs"><a href="#raid-хТМ-hdfs" class="header-anchor">#</a> RAID хТМ HDFS</h4> <p>RAID цШп Redundant Array of Independent Disks чЪДч╝йхЖЩя╝Мф╕нцЦЗчоАчз░ф╕║чЛмчлЛхЖЧф╜ЩчгБчЫШщШ╡хИЧуАВ</p> <p>RAID цШпф╕АчзНцККхдЪхЭЧчЛмчлЛчЪДчбмчЫШя╝ИчЙйчРЖчбмчЫШя╝ЙцМЙф╕НхРМчЪДцЦ╣х╝Пч╗ДхРИш╡╖цЭех╜вцИРф╕Аф╕кчбмчЫШч╗Дя╝ИщА╗ш╛СчбмчЫШя╝Йя╝Мф╗ОшАМцПРф╛ЫцпФхНХф╕кчбмчЫШцЫ┤щлШчЪДхнШхВицАзшГ╜хТМцПРф╛ЫцХ░цНохдЗф╗╜цКАцЬпуАВ</p> <p>HDFS(хИЖх╕Гх╝ПцЦЗф╗╢ч│╗ч╗Я) цЫ┤швлхдзхЮЛч╜СчлЩцЙАщЭТчЭРуАВхоГхПпф╗ещЕНхРИ <code>MapReduce</code> х╣╢хПСшобчоЧф╗╗хКбцбЖцЮ╢ш┐ЫшбМхдзцХ░цНохдДчРЖя╝МхПпф╗ехЬицХ┤ф╕кщЫЖч╛дф╕Кх╣╢хПСшо┐щЧоцЙАцЬЙчгБчЫШя╝МцЧащЬА RAID цФпцМБуАВ</p> <p>HDFS хп╣цХ░цНохнШхВичй║щЧ┤чЪДчобчРЖф╗ецХ░цНохЭЧя╝ИBlockя╝Йф╕║хНХф╜Ня╝Мщ╗Шшодф╕║ 64 MBуАВцЙАф╗ея╝МHDFS цЫ┤щАВхРИхнШхВиш╛ГхдзчЪДцЦЗф╗╢уАВ</p> <h2 id="хЫЫуАБхЙНчлпцАзшГ╜ф╝ШхМЦ"><a href="#хЫЫуАБхЙНчлпцАзшГ╜ф╝ШхМЦ" class="header-anchor">#</a> хЫЫуАБхЙНчлпцАзшГ╜ф╝ШхМЦ</h2> <h3 id="ц╡ПшзИхЩишо┐щЧоф╝ШхМЦ"><a href="#ц╡ПшзИхЩишо┐щЧоф╝ШхМЦ" class="header-anchor">#</a> ц╡ПшзИхЩишо┐щЧоф╝ШхМЦ</h3> <ol><li><strong>хЗПх░С HTTP шп╖ц▒В</strong> - HTTP шп╖ц▒ВщЬАшжБх╗║члЛщАЪф┐бщУ╛ш╖пя╝Мш┐ЫшбМцХ░цНоф╝аш╛Уя╝Мх╝АщФАщлШцШВя╝МцЙАф╗ехЗПх░С HTTP шп╖ц▒ВцХ░хПпф╗ецЬЙцХИцПРщлШшо┐щЧоцАзшГ╜уАВхЗПх░С HTTP чЪДф╕╗шжБцЙЛцо╡цШпхРИх╣╢ CssуАБJavaScriptуАБхЫ╛чЙЗуАВ</li> <li><strong>ф╜┐чФиц╡ПшзИхЩич╝УхнШ</strong> - хЫаф╕║щЭЩцАБш╡Дц║РцЦЗф╗╢цЫ┤цЦ░щвСчОЗф╜Оя╝МхПпф╗еч╝УхнШц╡ПшзИхЩиф╕нф╗ецПРщлШцАзшГ╜уАВшо╛ч╜о HTTP хд┤ф╕нчЪД <code>Cache-Control</code> хТМ <code>Expires</code> х▒ЮцАзя╝МхПпшо╛хоЪц╡ПшзИхЩич╝УхнШуАВ</li> <li><strong>хРпчФихОЛч╝й</strong> - хЬицЬНхКбхЩичлпхОЛч╝йщЭЩцАБш╡Дц║РцЦЗф╗╢я╝МхЬиц╡ПшзИхЩичлпшзгхОЛч╝йя╝МхПпф╗ецЬЙцХИхЗПх░Сф╝аш╛УчЪДцХ░цНощЗПуАВчФ▒ф║ОцЦЗцЬмцЦЗф╗╢хОЛч╝йчОЗхПпш╛╛ 80% ф╗еф╕Кя╝МцЙАф╗ехПпф╗ехп╣щЭЩцАБш╡Дц║Ря╝МхжВ HtmlуАБCssуАБJavaScrip ш┐ЫшбМхОЛч╝йуАВ</li> <li><strong>CSS цФ╛хЬищб╡щЭвцЬАф╕КщЭвя╝МJavaScript цФ╛хЬищб╡щЭвцЬАф╕ЛщЭв</strong> - ц╡ПшзИхЩиф╝ЪхЬиф╕Лш╜╜хоМхЕищГичЪД Css хРОцЙНхп╣цХ┤ф╕кщб╡щЭвш┐ЫшбМц╕▓цЯУя╝МцЙАф╗ецЬАхе╜чЪДхБЪц│ХцШпх░Ж Css цФ╛хЬищб╡щЭвцЬАф╕КщЭвя╝Мшойц╡ПшзИхЩих░╜х┐лф╕Лш╜╜ Cssя╝ЫJavaScript хИЩчЫ╕хПНя╝Мц╡ПшзИхЩихКаш╜╜ JavaScript хРОчлЛхН│цЙзшбМя╝МхПпшГ╜ф╝ЪщШ╗хбЮцХ┤ф╕кщб╡щЭвя╝МщАацИРщб╡щЭвцШ╛чд║ч╝УцЕвя╝МхЫацнд JavaScript цЬАхе╜цФ╛хЬищб╡щЭвцЬАф╕ЛщЭвуАВ</li> <li><strong>хЗПх░С Cookie ф╝аш╛У</strong> - Cookie хМЕхРлхЬи HTTP цпПцмбчЪДшп╖ц▒ВхТМхУНх║Фф╕ня╝МхдкхдзчЪД Cookie ф╝Ъф╕ещЗНх╜▒хУНцХ░цНоф╝аш╛УуАВ</li></ol> <h3 id="cdn"><a href="#cdn" class="header-anchor">#</a> CDN</h3> <p>CDN ф╕АшИмч╝УхнШчЪДцШпщЭЩцАБш╡Дц║РуАВ</p> <p>CDN чЪДцЬмш┤иф╗НчД╢цШпф╕Аф╕кч╝УхнШя╝МшАМф╕Фх░ЖцХ░цНоч╝УхнШхЬичж╗чФицИ╖цЬАш┐СчЪДхЬ░цЦ╣я╝Мф╜┐чФицИ╖х╖▓цЬАх┐лщАЯх║жшО╖хПЦцХ░цНоя╝МхН│цЙАш░Уч╜Сч╗Ьшо┐щЧочммф╕Аш╖│уАВ</p> <div align="center"><img src="https://raw.githubusercontent.com/dunwu/images/dev/cs/design/architecture/cdn.png" width="640"></div> <h3 id="хПНхРСф╗гчРЖ"><a href="#хПНхРСф╗гчРЖ" class="header-anchor">#</a> хПНхРСф╗гчРЖ</h3> <p>ф╝ач╗Яф╗гчРЖцЬНхКбхЩиф╜Нф║Оц╡ПшзИхЩиф╕Аф╛зя╝Мф╗гчРЖц╡ПшзИхЩих░Ж HTTP шп╖ц▒ВхПСщАБхИ░ф║ТшБФч╜Сф╕Кя╝МшАМхПНхРСф╗гчРЖцЬНхКбхЩиф╜Нф║Оч╜СчлЩцЬ║цИ┐ф╕Аф╛зя╝Мф╗гчРЖч╜СчлЩцЬНхКбхЩицОецФ╢ HTTP шп╖ц▒ВуАВ</p> <div align="center"><img src="https://raw.githubusercontent.com/dunwu/images/dev/cs/design/architecture/reverse-proxy.jpg" width="640"></div> <p>хПНхРСф╗гчРЖцЬНхКбхЩихПпф╗ещЕНч╜оч╝УхнШхКЯшГ╜хКащАЯ Web шп╖ц▒Вя╝Мх╜УчФицИ╖чммф╕Ацмбшо┐щЧощЭЩцАБхЖЕхо╣цЧ╢я╝МщЭЩцАБхЖЕхо╣х░▒ф╝Ъшвлч╝УхнШхЬихПНхРСф╗гчРЖцЬНхКбхЩиф╕КуАВ</p> <p>хПНхРСф╗гчРЖш┐ШхПпф╗ехоЮчО░ш┤Яш╜╜хЭЗшббя╝МщАЪш┐Зш┤Яш╜╜хЭЗшббцЮДх╗║чЪДщЫЖч╛дхПпф╗ецПРщлШч│╗ч╗ЯцА╗ф╜УхдДчРЖшГ╜хКЫуАВ</p> <p>хЫаф╕║цЙАцЬЙшп╖ц▒ВщГ╜х┐Ещб╗хЕИч╗Пш┐ЗхПНхРСф╗гчРЖцЬНхКбхЩия╝МцЙАф╗ехПпф╗ех▒ПшФ╜ф╕Аф║ЫцФ╗хЗ╗ IPя╝Мш╛╛хИ░ф┐ЭцКдч╜СчлЩхоЙхЕичЪДф╜ЬчФиуАВ</p> <h2 id="хПВшАГш╡ДцЦЩ"><a href="#хПВшАГш╡ДцЦЩ" class="header-anchor">#</a> хПВшАГш╡ДцЦЩ</h2> <ul><li><a href="https://item.jd.com/11322972.html" target="_blank" rel="noopener noreferrer">уАКхдзхЮЛч╜СчлЩцКАцЬпцЮ╢цЮДя╝Ъца╕х┐ГхОЯчРЖф╕ОцбИф╛ЛхИЖцЮРуАЛ<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://time.geekbang.org/column/intro/100028001" target="_blank" rel="noopener noreferrer">Java цАзшГ╜ш░Гф╝ШхоЮцИШ<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/dunwu/design/edit/master/docs/architecture/ч│╗ч╗ЯщлШцАзшГ╜цЮ╢цЮД.md" target="_blank" rel="noopener noreferrer">х╕охКйцИСф╗мцФ╣хЦДцндщб╡щЭвя╝Б</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">ф╕КцмбцЫ┤цЦ░:</span> <span class="time">2 months ago</span></div></footer> <!----> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/design/assets/js/app.31535b90.js" defer></script><script src="/design/assets/js/4.843d76c1.js" defer></script><script src="/design/assets/js/21.38ae8c29.js" defer></script><script src="/design/assets/js/5.eb6f8f38.js" defer></script>
  </body>
</html>
